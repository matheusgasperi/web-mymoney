(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{440:(zt,st,k)=>{"use strict";k.d(st,{nm:()=>Yr});var l=k(6351);k(5062),k(5867);var et=k(5861),Ge=k(9681),lt=k(4859),ke=k(2090),ot=k(1877);const fe=new Map,_e={activated:!1,tokenObservers:[]},ce={initialized:!1,enabled:!1};function ee($e){return fe.get($e)||_e}function se($e,Ue){fe.set($e,Ue)}function Me(){return ce}class De{constructor(Ue,ut,Tt,Lt,nn){if(this.operation=Ue,this.retryPolicy=ut,this.getWaitDuration=Tt,this.lowerBound=Lt,this.upperBound=nn,this.pending=null,this.nextErrorWaitInterval=Lt,Lt>nn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ue){var ut=this;return(0,et.Z)(function*(){ut.stop();try{ut.pending=new ke.BH,yield function qe($e){return new Promise(Ue=>{setTimeout(Ue,$e)})}(ut.getNextRun(Ue)),ut.pending.resolve(),yield ut.pending.promise,ut.pending=new ke.BH,yield ut.operation(),ut.pending.resolve(),yield ut.pending.promise,ut.process(!0).catch(()=>{})}catch(Tt){ut.retryPolicy(Tt)?ut.process(!1).catch(()=>{}):ut.stop()}})()}getNextRun(Ue){if(Ue)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const ut=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),ut}}}const at=new ke.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function gt($e){if(!ee($e).activated)throw at.create("use-before-activation",{appName:$e.name})}function Jt($e,Ue){return xn.apply(this,arguments)}function xn(){return(xn=(0,et.Z)(function*({url:$e,body:Ue},ut){var Tt,Lt;const nn={"Content-Type":"application/json"},ur=ut.getImmediate({optional:!0});if(ur){const es=yield ur.getHeartbeatsHeader();es&&(nn["X-Firebase-Client"]=es)}const Jr={method:"POST",body:JSON.stringify(Ue),headers:nn};let tr,li;try{tr=yield fetch($e,Jr)}catch(es){throw at.create("fetch-network-error",{originalErrorMessage:null===(Tt=es)||void 0===Tt?void 0:Tt.message})}if(200!==tr.status)throw at.create("fetch-status-error",{httpStatus:tr.status});try{li=yield tr.json()}catch(es){throw at.create("fetch-parse-error",{originalErrorMessage:null===(Lt=es)||void 0===Lt?void 0:Lt.message})}const Ds=li.ttl.match(/^([\d.]+)(s)$/);if(!Ds||!Ds[2]||isNaN(Number(Ds[1])))throw at.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${li.ttl}`});const yi=1e3*Number(Ds[1]),zi=Date.now();return{token:li.token,expireTimeMillis:zi+yi,issuedAtTimeMillis:zi}})).apply(this,arguments)}function Ar($e,Ue){const{projectId:ut,appId:Tt,apiKey:Lt}=$e.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${ut}/apps/${Tt}:exchangeDebugToken?key=${Lt}`,body:{debug_token:Ue}}}const gn="firebase-app-check-store";let An=null;function zn(){return An||(An=new Promise(($e,Ue)=>{var ut;try{const Tt=indexedDB.open("firebase-app-check-database",1);Tt.onsuccess=Lt=>{$e(Lt.target.result)},Tt.onerror=Lt=>{var nn;Ue(at.create("storage-open",{originalErrorMessage:null===(nn=Lt.target.error)||void 0===nn?void 0:nn.message}))},Tt.onupgradeneeded=Lt=>{0===Lt.oldVersion&&Lt.target.result.createObjectStore(gn,{keyPath:"compositeKey"})}}catch(Tt){Ue(at.create("storage-open",{originalErrorMessage:null===(ut=Tt)||void 0===ut?void 0:ut.message}))}}),An)}function Bt(){return(Bt=(0,et.Z)(function*($e,Ue){const Tt=(yield zn()).transaction(gn,"readwrite"),nn=Tt.objectStore(gn).put({compositeKey:$e,value:Ue});return new Promise((ur,Jr)=>{nn.onsuccess=tr=>{ur()},Tt.onerror=tr=>{var li;Jr(at.create("storage-set",{originalErrorMessage:null===(li=tr.target.error)||void 0===li?void 0:li.message}))}})})).apply(this,arguments)}const Er=new ot.Yd("@firebase/app-check");function qn($e,Ue){return(0,ke.hl)()?function Vt($e,Ue){return function mr($e,Ue){return Bt.apply(this,arguments)}(function sn($e){return`${$e.options.appId}-${$e.name}`}($e),Ue)}($e,Ue).catch(ut=>{Er.warn(`Failed to write token to IndexedDB. Error: ${ut}`)}):Promise.resolve()}function Nn(){return Me().enabled}function Fe(){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,et.Z)(function*(){const $e=Me();if($e.enabled&&$e.token)return $e.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Le={error:"UNKNOWN_ERROR"};function Ee($e){return ke.US.encodeString(JSON.stringify($e),!1)}function yt($e){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,et.Z)(function*($e,Ue=!1){const ut=$e.app;gt(ut);const Tt=ee(ut);let nn,Lt=Tt.token;if(!Lt){const tr=yield Tt.cachedTokenPromise;tr&&rr(tr)&&(Lt=tr)}if(!Ue&&Lt&&rr(Lt))return{token:Lt.token};let Jr,ur=!1;if(Nn()){Tt.exchangeTokenPromise||(Tt.exchangeTokenPromise=Jt(Ar(ut,yield Fe()),$e.heartbeatServiceProvider).then(li=>(Tt.exchangeTokenPromise=void 0,li)),ur=!0);const tr=yield Tt.exchangeTokenPromise;return yield qn(ut,tr),se(ut,Object.assign(Object.assign({},Tt),{token:tr})),{token:tr.token}}try{Tt.exchangeTokenPromise||(Tt.exchangeTokenPromise=Tt.provider.getToken().then(tr=>(Tt.exchangeTokenPromise=void 0,tr)),ur=!0),Lt=yield Tt.exchangeTokenPromise}catch(tr){"appCheck/throttled"===tr.code?Er.warn(tr.message):Er.error(tr),nn=tr}return Lt?(Jr={token:Lt.token},se(ut,Object.assign(Object.assign({},Tt),{token:Lt})),yield qn(ut,Lt)):Jr=ar(nn),ur&&rn(ut,Jr),Jr})).apply(this,arguments)}function un($e,Ue){const ut=ee($e),Tt=ut.tokenObservers.filter(Lt=>Lt.next!==Ue);0===Tt.length&&ut.tokenRefresher&&ut.tokenRefresher.isRunning()&&ut.tokenRefresher.stop(),se($e,Object.assign(Object.assign({},ut),{tokenObservers:Tt}))}function Fn($e){const{app:Ue}=$e,ut=ee(Ue);let Tt=ut.tokenRefresher;Tt||(Tt=function Ln($e){const{app:Ue}=$e;return new De((0,et.Z)(function*(){let Tt;if(Tt=ee(Ue).token?yield yt($e,!0):yield yt($e),Tt.error)throw Tt.error}),()=>!0,()=>{const ut=ee(Ue);if(ut.token){let Tt=ut.token.issuedAtTimeMillis+.5*(ut.token.expireTimeMillis-ut.token.issuedAtTimeMillis)+3e5;return Tt=Math.min(Tt,ut.token.expireTimeMillis-3e5),Math.max(0,Tt-Date.now())}return 0},3e4,96e4)}($e),se(Ue,Object.assign(Object.assign({},ut),{tokenRefresher:Tt}))),!Tt.isRunning()&&ut.isTokenAutoRefreshEnabled&&Tt.start()}function rn($e,Ue){const ut=ee($e).tokenObservers;for(const Tt of ut)try{"EXTERNAL"===Tt.type&&null!=Ue.error?Tt.error(Ue.error):Tt.next(Ue)}catch{}}function rr($e){return $e.expireTimeMillis-Date.now()>0}function ar($e){return{token:Ee(Le),error:$e}}class jr{constructor(Ue,ut){this.app=Ue,this.heartbeatServiceProvider=ut}_delete(){const{tokenObservers:Ue}=ee(this.app);for(const ut of Ue)un(this.app,ut.next);return Promise.resolve()}}const Nr="app-check-internal";!function Zr(){(0,Ge._registerComponent)(new lt.wA("app-check",$e=>function gi($e,Ue){return new jr($e,Ue)}($e.getProvider("app").getImmediate(),$e.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(($e,Ue,ut)=>{$e.getProvider(Nr).initialize()})),(0,Ge._registerComponent)(new lt.wA(Nr,$e=>function er($e){return{getToken:Ue=>yt($e,Ue),addTokenListener:Ue=>function $t($e,Ue,ut,Tt){const{app:Lt}=$e,nn=ee(Lt),ur={next:ut,error:Tt,type:Ue};if(se(Lt,Object.assign(Object.assign({},nn),{tokenObservers:[...nn.tokenObservers,ur]})),nn.token&&rr(nn.token)){const Jr=nn.token;Promise.resolve().then(()=>{ut({token:Jr.token}),Fn($e)}).catch(()=>{})}nn.cachedTokenPromise.then(()=>Fn($e))}($e,"INTERNAL",Ue),removeTokenListener:Ue=>un($e.app,Ue)}}($e.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ge.registerVersion)("@firebase/app-check","0.5.10")}();class Yr{constructor(){return(0,l.vb)("app-check")}}typeof window<"u"&&window},4941:(zt,st,k)=>{"use strict";k.d(st,{zQ:()=>tt,ww:()=>ct,rT:()=>Me,f7:()=>mt,L6:()=>ee,_Q:()=>se,lh:()=>Ne,Qv:()=>ce,nw:()=>At});var l=k(5062),L=k(8929),U=k(1086),Ie=k(2916),be=k(5254),re=k(6787),ge=k(341),we=k(2654),ae=k(2102),Q=k(5279),X=k(5283);class te extends L.xQ{constructor(De=Number.POSITIVE_INFINITY,qe=Number.POSITIVE_INFINITY,me){super(),this.scheduler=me,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=De<1?1:De,this._windowTime=qe<1?1:qe,qe===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(De){if(!this.isStopped){const qe=this._events;qe.push(De),qe.length>this._bufferSize&&qe.shift()}super.next(De)}nextTimeWindow(De){this.isStopped||(this._events.push(new G(this._getNow(),De)),this._trimBufferThenGetEvents()),super.next(De)}_subscribe(De){const qe=this._infiniteTimeWindow,me=qe?this._events:this._trimBufferThenGetEvents(),at=this.scheduler,Ct=me.length;let gt;if(this.closed)throw new Q.N;if(this.isStopped||this.hasError?gt=we.w.EMPTY:(this.observers.push(De),gt=new X.W(this,De)),at&&De.add(De=new ae.ht(De,at)),qe)for(let kt=0;kt<Ct&&!De.closed;kt++)De.next(me[kt]);else for(let kt=0;kt<Ct&&!De.closed;kt++)De.next(me[kt].value);return this.hasError?De.error(this.thrownError):this.isStopped&&De.complete(),gt}_getNow(){return(this.scheduler||ge.c).now()}_trimBufferThenGetEvents(){const De=this._getNow(),qe=this._bufferSize,me=this._windowTime,at=this._events,Ct=at.length;let gt=0;for(;gt<Ct&&!(De-at[gt].time<me);)gt++;return Ct>qe&&(gt=Math.max(gt,Ct-qe)),gt>0&&at.splice(0,gt),at}}class G{constructor(De,qe){this.time=De,this.value=qe}}function Re(We,De,qe){let me;return me=We&&"object"==typeof We?We:{bufferSize:We,windowTime:De,refCount:!1,scheduler:qe},at=>at.lift(function Ke({bufferSize:We=Number.POSITIVE_INFINITY,windowTime:De=Number.POSITIVE_INFINITY,refCount:qe,scheduler:me}){let at,gt,Ct=0,kt=!1,tn=!1;return function(xn){let Ht;Ct++,!at||kt?(kt=!1,at=new te(We,De,me),Ht=at.subscribe(this),gt=xn.subscribe({next(_n){at.next(_n)},error(_n){kt=!0,at.error(_n)},complete(){tn=!0,gt=void 0,at.complete()}}),tn&&(gt=void 0)):Ht=at.subscribe(this),this.add(()=>{Ct--,Ht.unsubscribe(),Ht=void 0,gt&&!tn&&qe&&0===Ct&&(gt.unsubscribe(),gt=void 0,at=void 0)})}}(me))}var ue=k(7545);function le(We,De){return De?(0,ue.w)(()=>We,De):(0,ue.w)(()=>We)}var Se=k(4850),Ae=k(7224),z=k(8915),et=k(2198),Ge=k(6351),lt=k(2011),ke=k(6895),ot=k(440),fe=k(127);const ce=new l.OlP("angularfire2.auth.use-emulator"),ee=new l.OlP("angularfire2.auth.settings"),se=new l.OlP("angularfire2.auth.tenant-id"),Me=new l.OlP("angularfire2.auth.langugage-code"),Ne=new l.OlP("angularfire2.auth.use-device-language"),mt=new l.OlP("angularfire.auth.persistence"),At=(We,De,qe,me,at,Ct,gt,kt)=>(0,lt.cc)(`${We.name}.auth`,"AngularFireAuth",We.name,()=>{const tn=De.runOutsideAngular(()=>We.auth());if(qe&&tn.useEmulator(...qe),me&&(tn.tenantId=me),tn.languageCode=at,Ct&&tn.useDeviceLanguage(),gt)for(const[Jt,xn]of Object.entries(gt))tn.settings[Jt]=xn;return kt&&tn.setPersistence(kt),tn},[qe,me,at,Ct,gt,kt]);let tt=(()=>{class We{constructor(qe,me,at,Ct,gt,kt,tn,Jt,xn,Ht,_n,Ar){const jn=new L.xQ,Qn=(0,U.of)(void 0).pipe((0,ae.QV)(gt.outsideAngular),(0,ue.w)(()=>Ct.runOutsideAngular(()=>Promise.resolve().then(k.bind(k,3677)))),(0,Se.U)(()=>(0,lt.on)(qe,Ct,me)),(0,Se.U)(gn=>At(gn,Ct,kt,Jt,xn,Ht,tn,_n)),Re({bufferSize:1,refCount:!1}));if((0,ke.PM)(at))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,U.of)(null);else{Qn.pipe((0,Ae.P)()).subscribe();const Dn=Qn.pipe((0,ue.w)(Vn=>Vn.getRedirectResult().then(Vt=>Vt,()=>null)),Ge.iC,Re({bufferSize:1,refCount:!1})),An=Qn.pipe((0,ue.w)(Vn=>new Ie.y(Vt=>({unsubscribe:Ct.runOutsideAngular(()=>Vn.onAuthStateChanged(or=>Vt.next(or),or=>Vt.error(or),()=>Vt.complete()))})))),zn=Qn.pipe((0,ue.w)(Vn=>new Ie.y(Vt=>({unsubscribe:Ct.runOutsideAngular(()=>Vn.onIdTokenChanged(or=>Vt.next(or),or=>Vt.error(or),()=>Vt.complete()))}))));this.authState=Dn.pipe(le(An),(0,z.R)(gt.outsideAngular),(0,ae.QV)(gt.insideAngular)),this.user=Dn.pipe(le(zn),(0,z.R)(gt.outsideAngular),(0,ae.QV)(gt.insideAngular)),this.idToken=this.user.pipe((0,ue.w)(Vn=>Vn?(0,be.D)(Vn.getIdToken()):(0,U.of)(null))),this.idTokenResult=this.user.pipe((0,ue.w)(Vn=>Vn?(0,be.D)(Vn.getIdTokenResult()):(0,U.of)(null))),this.credential=(0,re.T)(Dn,jn,this.authState.pipe((0,et.h)(Vn=>!Vn))).pipe((0,Se.U)(Vn=>Vn?.user?Vn:null),(0,z.R)(gt.outsideAngular),(0,ae.QV)(gt.insideAngular))}return(0,lt.pX)(this,Qn,Ct,{spy:{apply:(gn,Dn,An)=>{(gn.startsWith("signIn")||gn.startsWith("createUser"))&&An.then(zn=>jn.next(zn))}}})}}return We.\u0275fac=function(qe){return new(qe||We)(l.LFG(lt.Dh),l.LFG(lt.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Ge.HU),l.LFG(ce,8),l.LFG(ee,8),l.LFG(se,8),l.LFG(Me,8),l.LFG(Ne,8),l.LFG(mt,8),l.LFG(ot.nm,8))},We.\u0275prov=l.Yz7({token:We,factory:We.\u0275fac,providedIn:"any"}),We})(),ct=(()=>{class We{constructor(){fe.Z.registerVersion("angularfire",Ge.q4.full,"auth-compat")}}return We.\u0275fac=function(qe){return new(qe||We)},We.\u0275mod=l.oAB({type:We}),We.\u0275inj=l.cJS({providers:[tt]}),We})()},2796:(zt,st,k)=>{"use strict";k.d(st,{ST:()=>w0});var l=k(5062),L=k(353),U=k(2916),Ie=k(5254),be=k(1086),re=k(6351),ge=k(3489);function we(){return i=>i.lift(new ae)}class ae{call(e,t){return t.subscribe(new Q(e))}}class Q extends ge.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}var _e,X=k(1059),te=k(4850),G=k(2014),Re=k(5778),Ke=k(2198),ue=k(2011),le=k(6895),Ae=(k(3677),k(3942)),z=k(5861),et=k(9681),Ge=k(4859),lt=k(1877),ke=k(2090),ot=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fe={},ce=ce||{},ee=ot||self;function se(){}function Me(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Ne(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var At="closure_uid_"+(1e9*Math.random()>>>0),tt=0;function ct(i,e,t){return i.call.apply(i.bind,arguments)}function We(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,o),i.apply(e,c)}}return function(){return i.apply(e,arguments)}}function De(i,e,t){return(De=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ct:We).apply(null,arguments)}function qe(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function me(i,e){function t(){}t.prototype=e.prototype,i.Z=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Vb=function(o,c,g){for(var v=Array(arguments.length-2),A=2;A<arguments.length;A++)v[A-2]=arguments[A];return e.prototype[c].apply(o,v)}}function at(){this.s=this.s,this.o=this.o}var gt={};at.prototype.s=!1,at.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function mt(i){return Object.prototype.hasOwnProperty.call(i,At)&&i[At]||(i[At]=++tt)}(this);delete gt[i]}},at.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const kt=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1},tn=Array.prototype.forEach?function(i,e,t){Array.prototype.forEach.call(i,e,t)}:function(i,e,t){const o=i.length,c="string"==typeof i?i.split(""):i;for(let g=0;g<o;g++)g in c&&e.call(t,c[g],g,i)};function xn(i){return Array.prototype.concat.apply([],arguments)}function Ht(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function _n(i){return/^[\s\xa0]*$/.test(i)}var gn,Ar=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function jn(i,e){return-1!=i.indexOf(e)}function Qn(i,e){return i<e?-1:i>e?1:0}e:{var Dn=ee.navigator;if(Dn){var An=Dn.userAgent;if(An){gn=An;break e}}gn=""}function zn(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function Vn(i){const e={};for(const t in i)e[t]=i[t];return e}var Vt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function or(i,e){let t,o;for(let c=1;c<arguments.length;c++){for(t in o=arguments[c],o)i[t]=o[t];for(let g=0;g<Vt.length;g++)t=Vt[g],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function bn(i){return bn[" "](i),i}bn[" "]=se;var qn,i,Bt=jn(gn,"Opera"),Wn=jn(gn,"Trident")||jn(gn,"MSIE"),Kt=jn(gn,"Edge"),sn=Kt||Wn,Er=jn(gn,"Gecko")&&!(jn(gn.toLowerCase(),"webkit")&&!jn(gn,"Edge"))&&!(jn(gn,"Trident")||jn(gn,"MSIE"))&&!jn(gn,"Edge"),Lr=jn(gn.toLowerCase(),"webkit")&&!jn(gn,"Edge");function kn(){var i=ee.document;return i?i.documentMode:void 0}e:{var hr="",Pr=(i=gn,Er?/rv:([^\);]+)(\)|;)/.exec(i):Kt?/Edge\/([\d\.]+)/.exec(i):Wn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):Lr?/WebKit\/(\S+)/.exec(i):Bt?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Pr&&(hr=Pr?Pr[1]:""),Wn){var Nn=kn();if(null!=Nn&&Nn>parseFloat(hr)){qn=String(Nn);break e}}qn=hr}var Fe={};var Ee=ee.document&&Wn&&(kn()||parseInt(qn,10))||void 0,yt=function(){if(!ee.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{ee.addEventListener("test",se,e),ee.removeEventListener("test",se,e)}catch{}return i}();function Mt(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function $t(i,e){if(Mt.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Er){e:{try{bn(e.nodeName);var c=!0;break e}catch{}c=!1}c||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:un[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&$t.Z.h.call(this)}}Mt.prototype.h=function(){this.defaultPrevented=!0},me($t,Mt);var un={2:"touch",3:"pen",4:"mouse"};$t.prototype.h=function(){$t.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Fn="closure_listenable_"+(1e6*Math.random()|0),Ln=0;function rn(i,e,t,o,c){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ia=c,this.key=++Ln,this.ca=this.fa=!1}function rr(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function ar(i){this.src=i,this.g={},this.h=0}function jr(i,e){var t=e.type;if(t in i.g){var g,o=i.g[t],c=kt(o,e);(g=0<=c)&&Array.prototype.splice.call(o,c,1),g&&(rr(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function gi(i,e,t,o){for(var c=0;c<i.length;++c){var g=i[c];if(!g.ca&&g.listener==e&&g.capture==!!t&&g.ia==o)return c}return-1}ar.prototype.add=function(i,e,t,o,c){var g=i.toString();(i=this.g[g])||(i=this.g[g]=[],this.h++);var v=gi(i,e,o,c);return-1<v?(e=i[v],t||(e.fa=!1)):((e=new rn(e,this.src,g,!!o,c)).fa=t,i.push(e)),e};var er="closure_lm_"+(1e6*Math.random()|0),xr={};function Yn(i,e,t,o,c){if(o&&o.once)return Oe(i,e,t,o,c);if(Array.isArray(e)){for(var g=0;g<e.length;g++)Yn(i,e[g],t,o,c);return null}return t=Tn(t),i&&i[Fn]?i.N(e,t,Ne(o)?!!o.capture:!!o,c):kr(i,e,t,!1,o,c)}function kr(i,e,t,o,c,g){if(!e)throw Error("Invalid event type");var v=Ne(c)?!!c.capture:!!c,A=hn(i);if(A||(i[er]=A=new ar(i)),(t=A.add(e,t,o,v,g)).proxy)return t;if(o=function it(){var e=Wt;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)yt||(c=v),void 0===c&&(c=!1),i.addEventListener(e.toString(),o,c);else if(i.attachEvent)i.attachEvent(ft(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function Oe(i,e,t,o,c){if(Array.isArray(e)){for(var g=0;g<e.length;g++)Oe(i,e[g],t,o,c);return null}return t=Tn(t),i&&i[Fn]?i.O(e,t,Ne(o)?!!o.capture:!!o,c):kr(i,e,t,!0,o,c)}function ve(i,e,t,o,c){if(Array.isArray(e))for(var g=0;g<e.length;g++)ve(i,e[g],t,o,c);else o=Ne(o)?!!o.capture:!!o,t=Tn(t),i&&i[Fn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=gi(g=i.g[e],t,o,c))&&(rr(g[t]),Array.prototype.splice.call(g,t,1),0==g.length&&(delete i.g[e],i.h--))):i&&(i=hn(i))&&(e=i.g[e.toString()],i=-1,e&&(i=gi(e,t,o,c)),(t=-1<i?e[i]:null)&&Pe(t))}function Pe(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[Fn])jr(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(ft(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=hn(e))?(jr(t,i),0==t.h&&(t.src=null,e[er]=null)):rr(i)}}}function ft(i){return i in xr?xr[i]:xr[i]="on"+i}function Wt(i,e){if(i.ca)i=!0;else{e=new $t(e,this);var t=i.listener,o=i.ia||i.src;i.fa&&Pe(i),i=t.call(o,e)}return i}function hn(i){return(i=i[er])instanceof ar?i:null}var Sn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Tn(i){return"function"==typeof i?i:(i[Sn]||(i[Sn]=function(e){return i.handleEvent(e)}),i[Sn])}function Zt(){at.call(this),this.i=new ar(this),this.P=this,this.I=null}function an(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new Mt(e,i);else if(e instanceof Mt)e.target=e.target||i;else{var c=e;or(e=new Mt(o,i),c)}if(c=!0,t)for(var g=t.length-1;0<=g;g--){var v=e.g=t[g];c=Dr(v,o,!0,e)&&c}if(c=Dr(v=e.g=i,o,!0,e)&&c,c=Dr(v,o,!1,e)&&c,t)for(g=0;g<t.length;g++)c=Dr(v=e.g=t[g],o,!1,e)&&c}function Dr(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var c=!0,g=0;g<e.length;++g){var v=e[g];if(v&&!v.ca&&v.capture==t){var A=v.listener,V=v.ia||v.src;v.fa&&jr(i.i,v),c=!1!==A.call(V,o)&&c}}return c&&!o.defaultPrevented}me(Zt,at),Zt.prototype[Fn]=!0,Zt.prototype.removeEventListener=function(i,e,t,o){ve(this,i,e,t,o)},Zt.prototype.M=function(){if(Zt.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)rr(t[o]);delete i.g[e],i.h--}}this.I=null},Zt.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},Zt.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var Tr=ee.JSON.stringify;function vn(){var i=Nr;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var qr,ui=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new mi,i=>i.reset());class mi{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Vr(i){ee.setTimeout(()=>{throw i},0)}function Hn(i,e){qr||function ni(){var i=ee.Promise.resolve(void 0);qr=function(){i.then(Zr)}}(),Mr||(qr(),Mr=!0),Nr.add(i,e)}var Mr=!1,Nr=new class Rr{constructor(){this.h=this.g=null}add(e,t){const o=ui.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function Zr(){for(var i;i=vn();){try{i.h.call(i.g)}catch(t){Vr(t)}var e=ui;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Mr=!1}function ir(i,e){Zt.call(this),this.h=i||1,this.g=e||ee,this.j=De(this.kb,this),this.l=Date.now()}function Ii(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function Yr(i,e,t){if("function"==typeof i)t&&(i=De(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=De(i.handleEvent,i)}return 2147483647<Number(e)?-1:ee.setTimeout(i,e||0)}function q(i){i.g=Yr(()=>{i.g=null,i.i&&(i.i=!1,q(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}me(ir,Zt),(_e=ir.prototype).da=!1,_e.S=null,_e.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),an(this,"tick"),this.da&&(Ii(this),this.start()))}},_e.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},_e.M=function(){ir.Z.M.call(this),Ii(this),delete this.g};class de extends at{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:q(this)}M(){super.M(),this.g&&(ee.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ve(i){at.call(this),this.h=i,this.g={}}me(Ve,at);var Xe=[];function he(i,e,t,o){Array.isArray(t)||(t&&(Xe[0]=t.toString()),t=Xe);for(var c=0;c<t.length;c++){var g=Yn(e,t[c],o||i.handleEvent,!1,i.h||i);if(!g)break;i.g[g.key]=g}}function ye(i){zn(i.g,function(e,t){this.g.hasOwnProperty(t)&&Pe(e)},i),i.g={}}function Qe(){this.g=!0}function It(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function fn(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var c=o[1];if(Array.isArray(c)&&!(1>c.length)){var g=c[0];if("noop"!=g&&"stop"!=g&&"close"!=g)for(var v=1;v<c.length;v++)c[v]=""}}}return Tr(t)}catch{return e}}(i,t)+(o?" "+o:"")})}Ve.prototype.M=function(){Ve.Z.M.call(this),ye(this)},Ve.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Qe.prototype.Aa=function(){this.g=!1},Qe.prototype.info=function(){};var ln={},yr=null;function Or(){return yr=yr||new Zt}function $e(i){Mt.call(this,ln.Ma,i)}function Ue(i){const e=Or();an(e,new $e(e,i))}function ut(i,e){Mt.call(this,ln.STAT_EVENT,i),this.stat=e}function Tt(i){const e=Or();an(e,new ut(e,i))}function Lt(i,e){Mt.call(this,ln.Na,i),this.size=e}function nn(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return ee.setTimeout(function(){i()},e)}ln.Ma="serverreachability",me($e,Mt),ln.STAT_EVENT="statevent",me(ut,Mt),ln.Na="timingevent",me(Lt,Mt);var ur={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Jr={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function tr(){}function Ds(){}tr.prototype.h=null;var Fs,yi={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function zi(){Mt.call(this,"d")}function es(){Mt.call(this,"c")}function Oi(){}function Pi(i,e,t,o){this.l=i,this.j=e,this.m=t,this.X=o||1,this.V=new Ve(this),this.P=ts,this.W=new ir(i=sn?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Wi}function Wi(){this.i=null,this.g="",this.h=!1}me(zi,Mt),me(es,Mt),me(Oi,tr),Oi.prototype.g=function(){return new XMLHttpRequest},Oi.prototype.i=function(){return{}},Fs=new Oi;var ts=45e3,ki={},ns={};function vi(i,e,t){i.K=1,i.v=je(Fi(e)),i.s=t,i.U=!0,_s(i,null)}function _s(i,e){i.F=Date.now(),ci(i),i.A=Fi(i.v);var t=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),hs(t.h,"t",o),i.C=0,t=i.l.H,i.h=new Wi,i.g=To(i.l,t?e:null,!i.s),0<i.O&&(i.L=new de(De(i.Ia,i,i.g),i.O)),he(i.V,i.g,"readystatechange",i.gb),e=i.H?Vn(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),Ue(1),function Et(i,e,t,o,c,g){i.info(function(){if(i.g)if(g)for(var v="",A=g.split("&"),V=0;V<A.length;V++){var H=A[V].split("=");if(1<H.length){var oe=H[0];H=H[1];var He=oe.split("_");v=2<=He.length&&"type"==He[1]?v+(oe+"=")+H+"&":v+(oe+"=redacted&")}}else v=null;else v=g;return"XMLHTTP REQ ("+o+") [attempt "+c+"]: "+e+"\n"+t+"\n"+v})}(i.j,i.u,i.A,i.m,i.X,i.s)}function us(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function xs(i,e,t){let c,o=!0;for(;!i.I&&i.C<t.length;){if(c=Ls(i,t),c==ns){4==e&&(i.o=4,Tt(14),o=!1),It(i.j,i.m,null,"[Incomplete Response]");break}if(c==ki){i.o=4,Tt(15),It(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}It(i.j,i.m,c,null),Ti(i,c)}us(i)&&c!=ns&&c!=ki&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,Tt(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),$o(e),e.L=!0,Tt(11))):(It(i.j,i.m,t,"[Invalid Chunked Response]"),di(i),Ci(i))}function Ls(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?ns:(t=Number(e.substring(t,o)),isNaN(t)?ki:(o+=1)+t>e.length?ns:(e=e.substr(o,t),i.C=o+t,e))}function ci(i){i.Y=Date.now()+i.P,Di(i,i.P)}function Di(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=nn(De(i.eb,i),e)}function Es(i){i.B&&(ee.clearTimeout(i.B),i.B=null)}function Ci(i){0==i.l.G||i.I||ja(i.l,i)}function di(i){Es(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Ii(i.W),ye(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Ti(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||f(t.i,i)))if(t.I=i.N,!i.J&&f(t.i,i)&&3==t.G){try{var o=t.Ca.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var c=o;if(0==c[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<i.F))break e;Ia(t),cu(t)}io(t),Tt(18)}}else t.ta=c[1],0<t.ta-t.U&&37500>c[2]&&t.N&&0==t.A&&!t.v&&(t.v=nn(De(t.ab,t),6e3));if(1>=a(t.i)&&t.ka){try{t.ka()}catch{}t.ka=void 0}}else qs(t,11)}else if((i.J||t.g==i)&&Ia(t),!_n(e))for(c=t.Ca.g.parse(e),e=0;e<c.length;e++){let H=c[e];if(t.U=H[0],H=H[1],2==t.G)if("c"==H[0]){t.J=H[1],t.la=H[2];const oe=H[3];null!=oe&&(t.ma=oe,t.h.info("VER="+t.ma));const He=H[4];null!=He&&(t.za=He,t.h.info("SVER="+t.za));const vt=H[5];null!=vt&&"number"==typeof vt&&0<vt&&(t.K=o=1.5*vt,t.h.info("backChannelRequestTimeoutMs_="+o)),o=t;const Pt=i.g;if(Pt){const jt=Pt.g?Pt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jt){var g=o.i;!g.g&&(jn(jt,"spdy")||jn(jt,"quic")||jn(jt,"h2"))&&(g.j=g.l,g.g=new Set,g.h&&(_(g,g.h),g.h=null))}if(o.D){const In=Pt.g?Pt.g.getResponseHeader("X-HTTP-Session-Id"):null;In&&(o.sa=In,Z(o.F,o.D,In))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-i.F,t.h.info("Handshake RTT: "+t.O+"ms"));var v=i;if((o=t).oa=Ha(o,o.H?o.la:null,o.W),v.J){O(o.i,v);var A=v,V=o.K;V&&A.setTimeout(V),A.B&&(Es(A),ci(A)),o.g=v}else wa(o);0<t.l.length&&Ru(t)}else"stop"!=H[0]&&"close"!=H[0]||qs(t,7);else 3==t.G&&("stop"==H[0]||"close"==H[0]?"stop"==H[0]?qs(t,7):ba(t):"noop"!=H[0]&&t.j&&t.j.wa(H),t.A=0)}Ue(4)}catch{}}function $i(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Me(i)||"string"==typeof i)tn(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var t=i.T();else if(i.R&&"function"==typeof i.R)t=void 0;else if(Me(i)||"string"==typeof i){t=[];for(var o=i.length,c=0;c<o;c++)t.push(c)}else for(c in t=[],o=0,i)t[o++]=c;o=function hi(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(Me(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),c=o.length;for(var g=0;g<c;g++)e.call(void 0,o[g],t&&t[g],i)}}function qi(i,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var o=0;o<t;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof qi)for(t=i.T(),o=0;o<t.length;o++)this.set(t[o],i.get(t[o]));else for(o in i)this.set(o,i[o])}function Ni(i){if(i.i!=i.g.length){for(var e=0,t=0;e<i.g.length;){var o=i.g[e];Si(i.h,o)&&(i.g[t++]=o),e++}i.g.length=t}if(i.i!=i.g.length){var c={};for(t=e=0;e<i.g.length;)Si(c,o=i.g[e])||(i.g[t++]=o,c[o]=1),e++;i.g.length=t}}function Si(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(_e=Pi.prototype).setTimeout=function(i){this.P=i},_e.gb=function(i){i=i.target;const e=this.L;e&&3==Cs(i)?e.l():this.Ia(i)},_e.Ia=function(i){try{if(i==this.g)e:{const oe=Cs(this.g);var e=this.g.Da();const He=this.g.ba();if(!(3>oe)&&(3!=oe||sn||this.g&&(this.h.h||this.g.ga()||_a(this.g)))){this.I||4!=oe||7==e||Ue(8==e||0>=He?3:2),Es(this);var t=this.g.ba();this.N=t;t:if(us(this)){var o=_a(this.g);i="";var c=o.length,g=4==Cs(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){di(this),Ci(this);var v="";break t}this.h.i=new ee.TextDecoder}for(e=0;e<c;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:g&&e==c-1});o.splice(0,c),this.h.g+=i,this.C=0,v=this.h.g}else v=this.g.ga();if(this.i=200==t,function _t(i,e,t,o,c,g,v){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+c+"]: "+e+"\n"+t+"\n"+g+" "+v})}(this.j,this.u,this.A,this.m,this.X,oe,t),this.i){if(this.$&&!this.J){t:{if(this.g){var A,V=this.g;if((A=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_n(A)){var H=A;break t}}H=null}if(!(t=H)){this.i=!1,this.o=3,Tt(12),di(this),Ci(this);break e}It(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ti(this,t)}this.U?(xs(this,oe,v),sn&&this.i&&3==oe&&(he(this.V,this.W,"tick",this.fb),this.W.start())):(It(this.j,this.m,v,null),Ti(this,v)),4==oe&&di(this),this.i&&!this.I&&(4==oe?ja(this.l,this):(this.i=!1,ci(this)))}else 400==t&&0<v.indexOf("Unknown SID")?(this.o=3,Tt(12)):(this.o=0,Tt(13)),di(this),Ci(this)}}}catch{}},_e.fb=function(){if(this.g){var i=Cs(this.g),e=this.g.ga();this.C<e.length&&(Es(this),xs(this,i,e),this.i&&4!=i&&ci(this))}},_e.cancel=function(){this.I=!0,di(this)},_e.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function qt(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ue(3),Tt(17)),di(this),this.o=2,Ci(this)):Di(this,this.Y-i)},(_e=qi.prototype).R=function(){Ni(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},_e.T=function(){return Ni(this),this.g.concat()},_e.get=function(i,e){return Si(this.h,i)?this.h[i]:e},_e.set=function(i,e){Si(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},_e.forEach=function(i,e){for(var t=this.T(),o=0;o<t.length;o++){var c=t[o],g=this.get(c);i.call(e,g,c,this)}};var ls=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ds(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof ds){this.g=void 0!==e?e:i.g,Ms(this,i.j),this.s=i.s,P(this,i.i),Y(this,i.m),this.l=i.l,e=i.h;var t=new fi;t.i=e.i,e.g&&(t.g=new qi(e.g),t.h=e.h),N(this,t),this.o=i.o}else i&&(t=String(i).match(ls))?(this.g=!!e,Ms(this,t[1]||"",!0),this.s=cn(t[2]||""),P(this,t[3]||"",!0),Y(this,t[4]),this.l=cn(t[5]||"",!0),N(this,t[6]||"",!0),this.o=cn(t[7]||"")):(this.g=!!e,this.h=new fi(null,this.g))}function Fi(i){return new ds(i)}function Ms(i,e,t){i.j=t?cn(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function P(i,e,t){i.i=t?cn(e,!0):e}function Y(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function N(i,e,t){e instanceof fi?(i.h=e,function bs(i,e){e&&!i.j&&(Gr(i),i.i=null,i.g.forEach(function(t,o){var c=o.toLowerCase();o!=c&&(Ai(this,o),hs(this,c,t))},i)),i.j=e}(i.h,i.g)):(t||(e=pr(e,$n)),i.h=new fi(e,i.g))}function Z(i,e,t){i.h.set(e,t)}function je(i){return Z(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function cn(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function pr(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,dr),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function dr(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}ds.prototype.toString=function(){var i=[],e=this.j;e&&i.push(pr(e,Cr,!0),":");var t=this.i;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(pr(e,Cr,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&i.push("/"),i.push(pr(t,"/"==t.charAt(0)?Hr:Kn,!0))),(t=this.h.toString())&&i.push("?",t),(t=this.o)&&i.push("#",pr(t,Xr)),i.join("")};var Cr=/[#\/\?@]/g,Kn=/[#\?:]/g,Hr=/[#\?]/g,$n=/[#\?@]/g,Xr=/#/g;function fi(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Gr(i){i.g||(i.g=new qi,i.h=0,i.i&&function cs(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),c=null;if(0<=o){var g=i[t].substring(0,o);c=i[t].substring(o+1)}else g=i[t];e(g,c?decodeURIComponent(c.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Ai(i,e){Gr(i),e=Cn(i,e),Si(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,Si((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&Ni(i)))}function Li(i,e){return Gr(i),e=Cn(i,e),Si(i.g.h,e)}function hs(i,e,t){Ai(i,e),0<t.length&&(i.i=null,i.g.set(Cn(i,e),Ht(t)),i.h+=t.length)}function Cn(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Do(i){this.l=i||E,i=ee.PerformanceNavigationTiming?0<(i=ee.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(ee.g&&ee.g.Ea&&ee.g.Ea()&&ee.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(_e=fi.prototype).add=function(i,e){Gr(this),this.i=null,i=Cn(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},_e.forEach=function(i,e){Gr(this),this.g.forEach(function(t,o){tn(t,function(c){i.call(e,c,o,this)},this)},this)},_e.T=function(){Gr(this);for(var i=this.g.R(),e=this.g.T(),t=[],o=0;o<e.length;o++)for(var c=i[o],g=0;g<c.length;g++)t.push(e[o]);return t},_e.R=function(i){Gr(this);var e=[];if("string"==typeof i)Li(this,i)&&(e=xn(e,this.g.get(Cn(this,i))));else{i=this.g.R();for(var t=0;t<i.length;t++)e=xn(e,i[t])}return e},_e.set=function(i,e){return Gr(this),this.i=null,Li(this,i=Cn(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},_e.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},_e.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),t=0;t<e.length;t++){var o=e[t],c=encodeURIComponent(String(o));o=this.R(o);for(var g=0;g<o.length;g++){var v=c;""!==o[g]&&(v+="="+encodeURIComponent(String(o[g]))),i.push(v)}}return this.i=i.join("&")};var E=10;function h(i){return!!i.h||!!i.g&&i.g.size>=i.j}function a(i){return i.h?1:i.g?i.g.size:0}function f(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function _(i,e){i.g?i.g.add(e):i.h=e}function O(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function ie(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return Ht(i.i)}function nt(){}function Rt(){this.g=new nt}function St(i,e,t){const o=t||"";try{$i(i,function(c,g){let v=c;Ne(c)&&(v=Tr(c)),e.push(o+g+"="+encodeURIComponent(v))})}catch(c){throw e.push(o+"type="+encodeURIComponent("_badmap")),c}}function pn(i,e,t,o,c){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,c(o)}catch{}}function On(i){this.l=i.$b||null,this.j=i.ib||!1}function br(i,e){Zt.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=wr,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Do.prototype.cancel=function(){if(this.i=ie(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},nt.prototype.stringify=function(i){return ee.JSON.stringify(i,void 0)},nt.prototype.parse=function(i){return ee.JSON.parse(i,void 0)},me(On,tr),On.prototype.g=function(){return new br(this.l,this.j)},On.prototype.i=function(i){return function(){return i}}({}),me(br,Zt);var wr=0;function Fr(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function Qr(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Kr(i)}function Kr(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(_e=br.prototype).open=function(i,e){if(this.readyState!=wr)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Kr(this)},_e.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||ee).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},_e.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Qr(this)),this.readyState=wr},_e.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Kr(this)),this.g&&(this.readyState=3,Kr(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof ee.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Fr(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},_e.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?Qr(this):Kr(this),3==this.readyState&&Fr(this)}},_e.Ua=function(i){this.g&&(this.response=this.responseText=i,Qr(this))},_e.Ta=function(i){this.g&&(this.response=i,Qr(this))},_e.ha=function(){this.g&&Qr(this)},_e.setRequestHeader=function(i,e){this.v.append(i,e)},_e.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},_e.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(br.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var Yi=ee.JSON.parse;function lr(i){Zt.call(this),this.headers=new qi,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=$r,this.K=this.L=!1}me(lr,Zt);var $r="",ri=/^https?$/i,Ki=["POST","PUT"];function Vo(i){return"content-type"==i.toLowerCase()}function Vs(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Co(i),go(i)}function Co(i){i.D||(i.D=!0,an(i,"complete"),an(i,"error"))}function $a(i){if(i.h&&typeof ce<"u"&&(!i.C[1]||4!=Cs(i)||2!=i.ba()))if(i.v&&4==Cs(i))Yr(i.Fa,0,i);else if(an(i,"readystatechange"),4==Cs(i)){i.h=!1;try{const A=i.ba();e:switch(A){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===A){var c=String(i.H).match(ls)[1]||null;if(!c&&ee.self&&ee.self.location){var g=ee.self.location.protocol;c=g.substr(0,g.length-1)}o=!ri.test(c?c.toLowerCase():"")}t=o}if(t)an(i,"complete"),an(i,"success");else{i.m=6;try{var v=2<Cs(i)?i.g.statusText:""}catch{v=""}i.j=v+" ["+i.ba()+"]",Co(i)}}finally{go(i)}}}function go(i,e){if(i.g){Ua(i);const t=i.g,o=i.C[0]?se:null;i.g=null,i.C=null,e||an(i,"ready");try{t.onreadystatechange=o}catch{}}}function Ua(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(ee.clearTimeout(i.A),i.A=null)}function Cs(i){return i.g?i.g.readyState:0}function _a(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case $r:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function sa(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=function Mu(i){let e="";return zn(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):Z(i,e,t))}function mo(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function Ea(i){this.za=0,this.l=[],this.h=new Qe,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=mo("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=mo("baseRetryDelayMs",5e3,i),this.$a=mo("retryDelaySeedMs",1e4,i),this.Ya=mo("forwardChannelMaxRetries",2,i),this.ra=mo("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new Do(i&&i.concurrentRequestLimit),this.Ca=new Rt,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function ba(i){if(ul(i),3==i.G){var e=i.V++,t=Fi(i.F);Z(t,"SID",i.J),Z(t,"RID",e),Z(t,"TYPE","terminate"),ro(i,t),(e=new Pi(i,i.h,e,void 0)).K=2,e.v=je(Fi(t)),t=!1,ee.navigator&&ee.navigator.sendBeacon&&(t=ee.navigator.sendBeacon(e.v.toString(),"")),!t&&ee.Image&&((new Image).src=e.v,t=!0),t||(e.g=To(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ci(e)}yo(i)}function cu(i){i.g&&($o(i),i.g.cancel(),i.g=null)}function ul(i){cu(i),i.u&&(ee.clearTimeout(i.u),i.u=null),Ia(i),i.i.cancel(),i.m&&("number"==typeof i.m&&ee.clearTimeout(i.m),i.m=null)}function Bo(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&Ru(i)}function Ru(i){h(i.i)||i.m||(i.m=!0,Hn(i.Ha,i),i.C=0)}function Zi(i,e){var t;t=e?e.m:i.V++;const o=Fi(i.F);Z(o,"SID",i.J),Z(o,"RID",t),Z(o,"AID",i.U),ro(i,o),i.o&&i.s&&sa(o,i.o,i.s),t=new Pi(i,i.h,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.l=e.D.concat(i.l)),e=_i(i,t,1e3),t.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),_(i.i,t),vi(t,o,e)}function ro(i,e){i.j&&$i({},function(t,o){Z(e,o,t)})}function _i(i,e,t){t=Math.min(i.l.length,t);var o=i.j?De(i.j.Oa,i.j,i):null;e:{var c=i.l;let g=-1;for(;;){const v=["count="+t];-1==g?0<t?(g=c[0].h,v.push("ofs="+g)):g=0:v.push("ofs="+g);let A=!0;for(let V=0;V<t;V++){let H=c[V].h;const oe=c[V].g;if(H-=g,0>H)g=Math.max(0,c[V].h-100),A=!1;else try{St(oe,v,"req"+H+"_")}catch{o&&o(oe)}}if(A){o=v.join("&");break e}}}return i=i.l.splice(0,t),e.D=i,o}function wa(i){i.g||i.u||(i.Y=1,Hn(i.Ga,i),i.A=0)}function io(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=nn(De(i.Ga,i),Da(i,i.A)),i.A++,0))}function $o(i){null!=i.B&&(ee.clearTimeout(i.B),i.B=null)}function Xi(i){i.g=new Pi(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=Fi(i.oa);Z(e,"RID","rpc"),Z(e,"SID",i.J),Z(e,"CI",i.N?"0":"1"),Z(e,"AID",i.U),ro(i,e),Z(e,"TYPE","xmlhttp"),i.o&&i.s&&sa(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var t=i.g;i=i.la,t.K=1,t.v=je(Fi(e)),t.s=null,t.U=!0,_s(t,i)}function Ia(i){null!=i.v&&(ee.clearTimeout(i.v),i.v=null)}function ja(i,e){var t=null;if(i.g==e){Ia(i),$o(i),i.g=null;var o=2}else{if(!f(i.i,e))return;t=e.D,O(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var c=i.C;an(o=Or(),new Lt(o,t,e,c)),Ru(i)}else wa(i);else if(3==(c=e.o)||0==c&&0<i.I||!(1==o&&function Yc(i,e){return!(a(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=nn(De(i.Ha,i,e),Da(i,i.C)),i.C++,0)))}(i,e)||2==o&&io(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),c){case 1:qs(i,5);break;case 4:qs(i,10);break;case 3:qs(i,6);break;default:qs(i,2)}}function Da(i,e){let t=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(t*=2),t*e}function qs(i,e){if(i.h.info("Error code "+e),2==e){var t=null;i.j&&(t=null);var o=De(i.jb,i);t||(t=new ds("//www.google.com/images/cleardot.gif"),ee.location&&"http"==ee.location.protocol||Ms(t,"https"),je(t)),function mn(i,e){const t=new Qe;if(ee.Image){const o=new Image;o.onload=qe(pn,t,o,"TestLoadImage: loaded",!0,e),o.onerror=qe(pn,t,o,"TestLoadImage: error",!1,e),o.onabort=qe(pn,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=qe(pn,t,o,"TestLoadImage: timeout",!1,e),ee.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else Tt(2);i.G=0,i.j&&i.j.va(e),yo(i),ul(i)}function yo(i){i.G=0,i.I=-1,i.j&&((0!=ie(i.i).length||0!=i.l.length)&&(i.i.i.length=0,Ht(i.l),i.l.length=0),i.j.ua())}function Ha(i,e,t){let o=function pt(i){return i instanceof ds?Fi(i):new ds(i,void 0)}(t);if(""!=o.i)e&&P(o,e+"."+o.i),Y(o,o.m);else{const c=ee.location;o=function bt(i,e,t,o){var c=new ds(null,void 0);return i&&Ms(c,i),e&&P(c,e),t&&Y(c,t),o&&(c.l=o),c}(c.protocol,e?e+"."+c.hostname:c.hostname,+c.port,t)}return i.aa&&zn(i.aa,function(c,g){Z(o,g,c)}),t=i.sa,(e=i.D)&&t&&Z(o,e,t),Z(o,"VER",i.ma),ro(i,o),o}function To(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new lr(t&&i.Ba&&!i.qa?new On({ib:!0}):i.qa)).L=i.H,e}function Ga(){}function Bs(){if(Wn&&!(10<=Number(Ee)))throw Error("Environmental error: no available transport.")}function is(i,e){Zt.call(this),this.g=new Ea(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!_n(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!_n(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Rs(this)}function Ou(i){zi.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function $s(){es.call(this),this.status=1}function Rs(i){this.g=i}(_e=lr.prototype).ea=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Fs.g(),this.C=function li(i){return i.h||(i.h=i.i())}(this.u?this.u:Fs),this.g.onreadystatechange=De(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(g){return void Vs(this,g)}i=t||"";const c=new qi(this.headers);o&&$i(o,function(g,v){c.set(v,g)}),o=function Jt(i){e:{var e=Vo;const t=i.length,o="string"==typeof i?i.split(""):i;for(let c=0;c<t;c++)if(c in o&&e.call(void 0,o[c],c,i)){e=c;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(c.T()),t=ee.FormData&&i instanceof ee.FormData,!(0<=kt(Ki,e))||o||t||c.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),c.forEach(function(g,v){this.g.setRequestHeader(v,g)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ua(this),0<this.B&&((this.K=function rs(i){return Wn&&function Ce(){return function mr(i){var e=Fe;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=Ar(String(qn)).split("."),t=Ar("9").split("."),o=Math.max(e.length,t.length);for(let v=0;0==i&&v<o;v++){var c=e[v]||"",g=t[v]||"";do{if(c=/(\d*)(\D*)(.*)/.exec(c)||["","","",""],g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],0==c[0].length&&0==g[0].length)break;i=Qn(0==c[1].length?0:parseInt(c[1],10),0==g[1].length?0:parseInt(g[1],10))||Qn(0==c[2].length,0==g[2].length)||Qn(c[2],g[2]),c=c[3],g=g[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=De(this.pa,this)):this.A=Yr(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(g){Vs(this,g)}},_e.pa=function(){typeof ce<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,an(this,"timeout"),this.abort(8))},_e.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,an(this,"complete"),an(this,"abort"),go(this))},_e.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),go(this,!0)),lr.Z.M.call(this)},_e.Fa=function(){this.s||(this.F||this.v||this.l?$a(this):this.cb())},_e.cb=function(){$a(this)},_e.ba=function(){try{return 2<Cs(this)?this.g.status:-1}catch{return-1}},_e.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},_e.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),Yi(e)}},_e.Da=function(){return this.m},_e.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(_e=Ea.prototype).ma=8,_e.G=1,_e.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch{}},_e.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const c=new Pi(this,this.h,i,void 0);let g=this.s;if(this.P&&(g?(g=Vn(g),or(g,this.P)):g=this.P),null===this.o&&(c.H=g),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var o=this.l[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=_i(this,c,e),Z(t=Fi(this.F),"RID",i),Z(t,"CVER",22),this.D&&Z(t,"X-HTTP-Session-Id",this.D),ro(this,t),this.o&&g&&sa(t,this.o,g),_(this.i,c),this.Ra&&Z(t,"TYPE","init"),this.ja?(Z(t,"$req",e),Z(t,"SID","null"),c.$=!0,vi(c,t,null)):vi(c,t,e),this.G=2}}else 3==this.G&&(i?Zi(this,i):0==this.l.length||h(this.i)||Zi(this))},_e.Ga=function(){if(this.u=null,Xi(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=nn(De(this.bb,this),i)}},_e.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Tt(10),cu(this),Xi(this))},_e.ab=function(){null!=this.v&&(this.v=null,cu(this),io(this),Tt(19))},_e.jb=function(i){i?(this.h.info("Successfully pinged google.com"),Tt(2)):(this.h.info("Failed to ping google.com"),Tt(1))},(_e=Ga.prototype).xa=function(){},_e.wa=function(){},_e.va=function(){},_e.ua=function(){},_e.Oa=function(){},Bs.prototype.g=function(i,e){return new is(i,e)},me(is,Zt),is.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),Hn(De(i.hb,i,e))),Tt(0),i.W=e,i.aa=t||{},i.N=i.X,i.F=Ha(i,null,i.W),Ru(i)},is.prototype.close=function(){ba(this.g)},is.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,Bo(this.g,e)}else this.v?((e={}).__data__=Tr(i),Bo(this.g,e)):Bo(this.g,i)},is.prototype.M=function(){this.g.j=null,delete this.j,ba(this.g),delete this.g,is.Z.M.call(this)},me(Ou,zi),me($s,es),me(Rs,Ga),Rs.prototype.xa=function(){an(this.g,"a")},Rs.prototype.wa=function(i){an(this.g,new Ou(i))},Rs.prototype.va=function(i){an(this.g,new $s(i))},Rs.prototype.ua=function(){an(this.g,"b")},Bs.prototype.createWebChannel=Bs.prototype.g,is.prototype.send=is.prototype.u,is.prototype.open=is.prototype.m,is.prototype.close=is.prototype.close,ur.NO_ERROR=0,ur.TIMEOUT=8,ur.HTTP_ERROR=6,Jr.COMPLETE="complete",Ds.EventType=yi,yi.OPEN="a",yi.CLOSE="b",yi.ERROR="c",yi.MESSAGE="d",Zt.prototype.listen=Zt.prototype.N,lr.prototype.listenOnce=lr.prototype.O,lr.prototype.getLastError=lr.prototype.La,lr.prototype.getLastErrorCode=lr.prototype.Da,lr.prototype.getStatus=lr.prototype.ba,lr.prototype.getResponseJson=lr.prototype.Qa,lr.prototype.getResponseText=lr.prototype.ga,lr.prototype.send=lr.prototype.ea;var za=fe.createWebChannelTransport=function(){return new Bs},so=fe.getStatEventTarget=function(){return Or()},Wa=fe.ErrorCode=ur,Gl=fe.EventType=Jr,qa=fe.Event=ln,Uo=fe.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ui=fe.FetchXmlHttpFactory=On,So=fe.WebChannel=Ds,jo=fe.XhrIo=lr;const ji="@firebase/firestore";class Vi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vi.UNAUTHENTICATED=new Vi(null),Vi.GOOGLE_CREDENTIALS=new Vi("google-credentials-uid"),Vi.FIRST_PARTY=new Vi("first-party-uid"),Vi.MOCK_USER=new Vi("mock-user");let Ys="9.8.4";const Qs=new lt.Yd("@firebase/firestore");function Js(){return Qs.logLevel}function Ut(i,...e){if(Qs.logLevel<=lt.in.DEBUG){const t=e.map(ws);Qs.debug(`Firestore (${Ys}): ${i}`,...t)}}function Ei(i,...e){if(Qs.logLevel<=lt.in.ERROR){const t=e.map(ws);Qs.error(`Firestore (${Ys}): ${i}`,...t)}}function oo(i,...e){if(Qs.logLevel<=lt.in.WARN){const t=e.map(ws);Qs.warn(`Firestore (${Ys}): ${i}`,...t)}}function ws(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function wn(i="Unexpected state"){const e=`FIRESTORE (${Ys}) INTERNAL ASSERTION FAILED: `+i;throw Ei(e),new Error(e)}function Rn(i,e){i||wn()}function en(i,e){return i}const wt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ot extends ke.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class bi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class aa{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Pu{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Vi.UNAUTHENTICATED))}shutdown(){}}class ku{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Ho{constructor(e){this.t=e,this.currentUser=Vi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let c=this.i;const g=H=>this.i!==c?(c=this.i,t(H)):Promise.resolve();let v=new bi;this.o=()=>{this.i++,this.currentUser=this.u(),v.resolve(),v=new bi,e.enqueueRetryable(()=>g(this.currentUser))};const A=()=>{const H=v;e.enqueueRetryable((0,z.Z)(function*(){yield H.promise,yield g(o.currentUser)}))},V=H=>{Ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=H,this.auth.addAuthTokenListener(this.o),A()};this.t.onInit(H=>V(H)),setTimeout(()=>{if(!this.auth){const H=this.t.getImmediate({optional:!0});H?V(H):(Ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),v.resolve(),v=new bi)}},0),A()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(Ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Rn("string"==typeof o.accessToken),new aa(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Rn(null===e||"string"==typeof e),new Vi(e)}}class Ya{constructor(e,t,o){this.type="FirstParty",this.user=Vi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const c=e.auth.getAuthHeaderValueForFirstParty([]);c&&this.headers.set("Authorization",c),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class Nu{constructor(e,t,o){this.h=e,this.l=t,this.m=o}getToken(){return Promise.resolve(new Ya(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Vi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ka{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ua{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const o=g=>{null!=g.error&&Ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${g.error.message}`);const v=g.token!==this.p;return this.p=g.token,Ut("FirebaseAppCheckTokenProvider",`Received ${v?"new":"existing"} token.`),v?t(g.token):Promise.resolve()};this.o=g=>{e.enqueueRetryable(()=>o(g))};const c=g=>{Ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=g,this.appCheck.addTokenListener(this.o)};this.g.onInit(g=>c(g)),setTimeout(()=>{if(!this.appCheck){const g=this.g.getImmediate({optional:!0});g?c(g):Ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Rn("string"==typeof t.token),this.p=t.token,new Ka(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Fu(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}class Go{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const c=Fu(40);for(let g=0;g<c.length;++g)o.length<20&&c[g]<t&&(o+=e.charAt(c[g]%e.length))}return o}}function gr(i,e){return i<e?-1:i>e?1:0}function Us(i,e,t){return i.length===e.length&&i.every((o,c)=>t(o,e[c]))}function Za(i){return i+"\0"}class ii{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ot(wt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ot(wt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ot(wt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ot(wt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ii.fromMillis(Date.now())}static fromDate(e){return ii.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new ii(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?gr(this.nanoseconds,e.nanoseconds):gr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Un{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Un(e)}static min(){return new Un(new ii(0,0))}static max(){return new Un(new ii(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class zo{constructor(e,t,o){void 0===t?t=0:t>e.length&&wn(),void 0===o?o=e.length-t:o>e.length-t&&wn(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===zo.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof zo?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let c=0;c<o;c++){const g=e.get(c),v=t.get(c);if(g<v)return-1;if(g>v)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Sr extends zo{construct(e,t,o){return new Sr(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new Ot(wt.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(c=>c.length>0))}return new Sr(t)}static emptyPath(){return new Sr([])}}const du=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class si extends zo{construct(e,t,o){return new si(e,t,o)}static isValidIdentifier(e){return du.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),si.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new si(["__name__"])}static fromServerFormat(e){const t=[];let o="",c=0;const g=()=>{if(0===o.length)throw new Ot(wt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let v=!1;for(;c<e.length;){const A=e[c];if("\\"===A){if(c+1===e.length)throw new Ot(wt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const V=e[c+1];if("\\"!==V&&"."!==V&&"`"!==V)throw new Ot(wt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=V,c+=2}else"`"===A?(v=!v,c++):"."!==A||v?(o+=A,c++):(g(),c++)}if(g(),v)throw new Ot(wt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new si(t)}static emptyPath(){return new si([])}}class Xt{constructor(e){this.path=e}static fromPath(e){return new Xt(Sr.fromString(e))}static fromName(e){return new Xt(Sr.fromString(e).popFirst(5))}static empty(){return new Xt(Sr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Sr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Sr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xt(new Sr(e.slice()))}}class vo{constructor(e,t,o,c){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=c}}function Ta(i){return i.fields.find(e=>2===e.kind)}function eo(i){return i.fields.filter(e=>2!==e.kind)}vo.UNKNOWN_ID=-1;class Ao{constructor(e,t){this.fieldPath=e,this.kind=t}}class T{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new T(0,M.min())}}function D(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,c=Un.fromTimestamp(1e9===o?new ii(t+1,0):new ii(t,o));return new M(c,Xt.empty(),e)}function I(i){return new M(i.readTime,i.key,-1)}class M{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new M(Un.min(),Xt.empty(),-1)}static max(){return new M(Un.max(),Xt.empty(),-1)}}function B(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=Xt.comparator(i.documentKey,e.documentKey),0!==t?t:gr(i.largestBatchId,e.largestBatchId))}const J="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Te{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ze(i){return xt.apply(this,arguments)}function xt(){return xt=(0,z.Z)(function*(i){if(i.code!==wt.FAILED_PRECONDITION||i.message!==J)throw i;Ut("LocalStore","Unexpectedly lost primary lease")}),xt.apply(this,arguments)}class Be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&wn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Be((o,c)=>{this.nextCallback=g=>{this.wrapSuccess(e,g).next(o,c)},this.catchCallback=g=>{this.wrapFailure(t,g).next(o,c)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Be?t:Be.resolve(t)}catch(t){return Be.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Be.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Be.reject(t)}static resolve(e){return new Be((t,o)=>{t(e)})}static reject(e){return new Be((t,o)=>{o(e)})}static waitFor(e){return new Be((t,o)=>{let c=0,g=0,v=!1;e.forEach(A=>{++c,A.next(()=>{++g,v&&g===c&&t()},V=>o(V))}),v=!0,g===c&&t()})}static or(e){let t=Be.resolve(!1);for(const o of e)t=t.next(c=>c?Be.resolve(c):o());return t}static forEach(e,t){const o=[];return e.forEach((c,g)=>{o.push(t.call(this,c,g))}),this.waitFor(o)}static mapArray(e,t){return new Be((o,c)=>{const g=e.length,v=new Array(g);let A=0;for(let V=0;V<g;V++){const H=V;t(e[H]).next(oe=>{v[H]=oe,++A,A===g&&o(v)},oe=>c(oe))}})}static doWhile(e,t){return new Be((o,c)=>{const g=()=>{!0===e()?t().next(()=>{g()},c):o()};g()})}}class nr{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.T=new bi,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{t.error?this.T.reject(new sr(e,t.error)):this.T.resolve()},this.transaction.onerror=o=>{const c=pi(o.target.error);this.T.reject(new sr(e,c))}}static open(e,t,o,c){try{return new nr(t,e.transaction(c,o))}catch(g){throw new sr(t,g)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(Ut("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new ao(t)}}class dn{constructor(e,t,o){this.name=e,this.version=t,this.P=o,12.2===dn.v((0,ke.z$)())&&Ei("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ut("SimpleDb","Removing database:",e),xo(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,ke.hl)())return!1;if(dn.S())return!0;const e=(0,ke.z$)(),t=dn.v(e),o=0<t&&t<10,c=dn.D(e),g=0<c&&c<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||g)}static S(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,t){return e.store(t)}static v(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static D(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}k(e){var t=this;return(0,z.Z)(function*(){return t.db||(Ut("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,c)=>{const g=indexedDB.open(t.name,t.version);g.onsuccess=v=>{o(v.target.result)},g.onblocked=()=>{c(new sr(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},g.onerror=v=>{const A=v.target.error;c("VersionError"===A.name?new Ot(wt.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===A.name?new Ot(wt.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+A):new sr(e,A))},g.onupgradeneeded=v=>{Ut("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',v.oldVersion),t.P.O(v.target.result,g.transaction,v.oldVersion,t.version).next(()=>{Ut("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.M&&(t.db.onversionchange=o=>t.M(o)),t.db})()}F(e){this.M=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,c){var g=this;return(0,z.Z)(function*(){const v="readonly"===t;let A=0;for(;;){++A;try{g.db=yield g.k(e);const V=nr.open(g.db,e,v?"readonly":"readwrite",o),H=c(V).next(oe=>(V.R(),oe)).catch(oe=>(V.abort(oe),Be.reject(oe))).toPromise();return H.catch(()=>{}),yield V.A,H}catch(V){const H=V,oe="FirebaseError"!==H.name&&A<3;if(Ut("SimpleDb","Transaction failed with error:",H.message,"Retrying:",oe),g.close(),!oe)return Promise.reject(H)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class zr{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return xo(this.$.delete())}}class sr extends Ot{constructor(e,t){super(wt.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function oi(i){return"IndexedDbTransactionError"===i.name}class ao{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(Ut("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(Ut("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),xo(o)}add(e){return Ut("SimpleDb","ADD",this.store.name,e,e),xo(this.store.add(e))}get(e){return xo(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ut("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ut("SimpleDb","DELETE",this.store.name,e),xo(this.store.delete(e))}count(){return Ut("SimpleDb","COUNT",this.store.name),xo(this.store.count())}K(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const c=this.cursor(o),g=[];return this.G(c,(v,A)=>{g.push(A)}).next(()=>g)}{const c=this.store.getAll(o.range);return new Be((g,v)=>{c.onerror=A=>{v(A.target.error)},c.onsuccess=A=>{g(A.target.result)}})}}j(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new Be((c,g)=>{o.onerror=v=>{g(v.target.error)},o.onsuccess=v=>{c(v.target.result)}})}W(e,t){Ut("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.H=!1;const c=this.cursor(o);return this.G(c,(g,v,A)=>A.delete())}J(e,t){let o;t?o=e:(o={},t=e);const c=this.cursor(o);return this.G(c,t)}Y(e){const t=this.cursor({});return new Be((o,c)=>{t.onerror=g=>{const v=pi(g.target.error);c(v)},t.onsuccess=g=>{const v=g.target.result;v?e(v.primaryKey,v.value).next(A=>{A?v.continue():o()}):o()}})}G(e,t){const o=[];return new Be((c,g)=>{e.onerror=v=>{g(v.target.error)},e.onsuccess=v=>{const A=v.target.result;if(!A)return void c();const V=new zr(A),H=t(A.primaryKey,A.value,V);if(H instanceof Be){const oe=H.catch(He=>(V.done(),Be.reject(He)));o.push(oe)}V.isDone?c():null===V.U?A.continue():A.continue(V.U)}}).next(()=>Be.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.H?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function xo(i){return new Be((e,t)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const c=pi(o.target.error);t(c)}})}let hu=!1;function pi(i){const e=dn.v((0,ke.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const o=new Ot("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return hu||(hu=!0,setTimeout(()=>{throw o},0)),o}}return i}class Ks{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var t=this;Ut("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,z.Z)(function*(){t.task=null;try{Ut("IndexBackiller",`Documents written: ${yield t.X.tt()}`)}catch(o){oi(o)?Ut("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield ze(o)}yield t.Z(1)}))}}class ll{constructor(e,t){this.localStore=e,this.persistence=t}tt(e=50){var t=this;return(0,z.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>t.et(o,e))})()}et(e,t){const o=new Set;let c=t,g=!0;return Be.doWhile(()=>!0===g&&c>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(v=>{if(null!==v&&!o.has(v))return Ut("IndexBackiller",`Processing collection: ${v}`),this.nt(e,v,c).next(A=>{c-=A,o.add(v)});g=!1})).next(()=>t-c)}nt(e,t,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(c=>this.localStore.localDocuments.getNextDocuments(e,t,c,o).next(g=>{const v=g.changes;return this.localStore.indexManager.updateIndexEntries(e,v).next(()=>this.st(c,g)).next(A=>(Ut("IndexBackiller",`Updating offset: ${A}`),this.localStore.indexManager.updateCollectionGroup(e,t,A))).next(()=>v.size)}))}st(e,t){let o=e;return t.changes.forEach((c,g)=>{const v=I(g);B(v,o)>0&&(o=v)}),new M(o.readTime,o.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Ts{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=o=>this.it(o),this.rt=o=>t.writeSequenceNumber(o))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function uo(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Mo(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function ca(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}Ts.ot=-1;class xi{constructor(e,t){this.comparator=e,this.root=t||fs.EMPTY}insert(e,t){return new xi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fs.BLACK,null,null))}remove(e){return new xi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const c=this.comparator(e,o.key);if(0===c)return t+o.left.size;c<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zl(this.root,e,this.comparator,!1)}getReverseIterator(){return new zl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zl(this.root,e,this.comparator,!0)}}class zl{constructor(e,t,o,c){this.isReverse=c,this.nodeStack=[];let g=1;for(;!e.isEmpty();)if(g=t?o(e.key,t):1,t&&c&&(g*=-1),g<0)e=this.isReverse?e.left:e.right;else{if(0===g){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fs{constructor(e,t,o,c,g){this.key=e,this.value=t,this.color=o??fs.RED,this.left=c??fs.EMPTY,this.right=g??fs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,c,g){return new fs(e??this.key,t??this.value,o??this.color,c??this.left,g??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let c=this;const g=o(e,c.key);return c=g<0?c.copy(null,null,null,c.left.insert(e,t,o),null):0===g?c.copy(null,t,null,null,null):c.copy(null,null,null,null,c.right.insert(e,t,o)),c.fixUp()}removeMin(){if(this.left.isEmpty())return fs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,c=this;if(t(e,c.key)<0)c.left.isEmpty()||c.left.isRed()||c.left.left.isRed()||(c=c.moveRedLeft()),c=c.copy(null,null,null,c.left.remove(e,t),null);else{if(c.left.isRed()&&(c=c.rotateRight()),c.right.isEmpty()||c.right.isRed()||c.right.left.isRed()||(c=c.moveRedRight()),0===t(e,c.key)){if(c.right.isEmpty())return fs.EMPTY;o=c.right.min(),c=c.copy(o.key,o.value,null,null,c.right.removeMin())}c=c.copy(null,null,null,null,c.right.remove(e,t))}return c.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw wn();const e=this.left.check();if(e!==this.right.check())throw wn();return e+(this.isRed()?0:1)}}fs.EMPTY=null,fs.RED=!0,fs.BLACK=!1,fs.EMPTY=new class{constructor(){this.size=0}get key(){throw wn()}get value(){throw wn()}get color(){throw wn()}get left(){throw wn()}get right(){throw wn()}copy(i,e,t,o,c){return this}insert(i,e,t){return new fs(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Wr{constructor(e){this.comparator=e,this.data=new xi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const c=o.getNext();if(this.comparator(c.key,e[1])>=0)return;t(c.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Zs(this.data.getIterator())}getIteratorFrom(e){return new Zs(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof Wr)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const c=t.getNext().key,g=o.getNext().key;if(0!==this.comparator(c,g))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Wr(this.comparator);return t.data=e,t}}class Zs{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function _o(i){return i.hasNext()?i.getNext():void 0}class R{constructor(e){this.fields=e,e.sort(si.comparator)}static empty(){return new R([])}unionWith(e){let t=new Wr(si.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new R(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Us(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class W{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new W(t)}static fromUint8Array(e){const t=function(o){let c="";for(let g=0;g<o.length;++g)c+=String.fromCharCode(o[g]);return c}(e);return new W(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return gr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}W.EMPTY_BYTE_STRING=new W("");const xe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rt(i){if(Rn(!!i),"string"==typeof i){let e=0;const t=xe.exec(i);if(Rn(!!t),t[1]){let c=t[1];c=(c+"000000000").substr(0,9),e=Number(c)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:dt(i.seconds),nanos:dt(i.nanos)}}function dt(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Ft(i){return"string"==typeof i?W.fromBase64String(i):W.fromUint8Array(i)}function on(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Zn(i){const e=i.mapValue.fields.__previous_value__;return on(e)?Zn(e):e}function cr(i){const e=rt(i.mapValue.fields.__local_write_time__.timestampValue);return new ii(e.seconds,e.nanos)}class vr{constructor(e,t,o,c,g,v,A,V){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=c,this.ssl=g,this.forceLongPolling=v,this.autoDetectLongPolling=A,this.useFetchStreams=V}}class Pn{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Pn("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Pn&&e.projectId===this.projectId&&e.database===this.database}}function Mi(i){return null==i}function ps(i){return 0===i&&1/i==-1/0}function Ro(i){return"number"==typeof i&&Number.isInteger(i)&&!ps(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const lo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Wo={nullValue:"NULL_VALUE"};function qo(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?on(i)?4:Bu(i)?9007199254740991:10:wn()}function to(i,e){if(i===e)return!0;const t=qo(i);if(t!==qo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return cr(i).isEqual(cr(e));case 3:return function(o,c){if("string"==typeof o.timestampValue&&"string"==typeof c.timestampValue&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const g=rt(o.timestampValue),v=rt(c.timestampValue);return g.seconds===v.seconds&&g.nanos===v.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return c=e,Ft(i.bytesValue).isEqual(Ft(c.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,c){return dt(o.geoPointValue.latitude)===dt(c.geoPointValue.latitude)&&dt(o.geoPointValue.longitude)===dt(c.geoPointValue.longitude)}(i,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return dt(o.integerValue)===dt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const g=dt(o.doubleValue),v=dt(c.doubleValue);return g===v?ps(g)===ps(v):isNaN(g)&&isNaN(v)}return!1}(i,e);case 9:return Us(i.arrayValue.values||[],e.arrayValue.values||[],to);case 10:return function(o,c){const g=o.mapValue.fields||{},v=c.mapValue.fields||{};if(uo(g)!==uo(v))return!1;for(const A in g)if(g.hasOwnProperty(A)&&(void 0===v[A]||!to(g[A],v[A])))return!1;return!0}(i,e);default:return wn()}var c}function js(i,e){return void 0!==(i.values||[]).find(t=>to(t,e))}function ss(i,e){if(i===e)return 0;const t=qo(i),o=qo(e);if(t!==o)return gr(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return gr(i.booleanValue,e.booleanValue);case 2:return function(c,g){const v=dt(c.integerValue||c.doubleValue),A=dt(g.integerValue||g.doubleValue);return v<A?-1:v>A?1:v===A?0:isNaN(v)?isNaN(A)?0:-1:1}(i,e);case 3:return Yo(i.timestampValue,e.timestampValue);case 4:return Yo(cr(i),cr(e));case 5:return gr(i.stringValue,e.stringValue);case 6:return function(c,g){const v=Ft(c),A=Ft(g);return v.compareTo(A)}(i.bytesValue,e.bytesValue);case 7:return function(c,g){const v=c.split("/"),A=g.split("/");for(let V=0;V<v.length&&V<A.length;V++){const H=gr(v[V],A[V]);if(0!==H)return H}return gr(v.length,A.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,g){const v=gr(dt(c.latitude),dt(g.latitude));return 0!==v?v:gr(dt(c.longitude),dt(g.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(c,g){const v=c.values||[],A=g.values||[];for(let V=0;V<v.length&&V<A.length;++V){const H=ss(v[V],A[V]);if(H)return H}return gr(v.length,A.length)}(i.arrayValue,e.arrayValue);case 10:return function(c,g){if(c===lo.mapValue&&g===lo.mapValue)return 0;if(c===lo.mapValue)return 1;if(g===lo.mapValue)return-1;const v=c.fields||{},A=Object.keys(v),V=g.fields||{},H=Object.keys(V);A.sort(),H.sort();for(let oe=0;oe<A.length&&oe<H.length;++oe){const He=gr(A[oe],H[oe]);if(0!==He)return He;const vt=ss(v[A[oe]],V[H[oe]]);if(0!==vt)return vt}return gr(A.length,H.length)}(i.mapValue,e.mapValue);default:throw wn()}}function Yo(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return gr(i,e);const t=rt(i),o=rt(e),c=gr(t.seconds,o.seconds);return 0!==c?c:gr(t.nanos,o.nanos)}function ai(i){return Lu(i)}function Lu(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const c=rt(o);return`time(${c.seconds},${c.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Ft(i.bytesValue).toBase64():"referenceValue"in i?Xt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let c="[",g=!0;for(const v of o.values||[])g?g=!1:c+=",",c+=Lu(v);return c+"]"}(i.arrayValue):"mapValue"in i?function(o){const c=Object.keys(o.fields||{}).sort();let g="{",v=!0;for(const A of c)v?v=!1:g+=",",g+=`${A}:${Lu(o.fields[A])}`;return g+"}"}(i.mapValue):wn();var e}function Xa(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Vu(i){return!!i&&"integerValue"in i}function da(i){return!!i&&"arrayValue"in i}function Kc(i){return!!i&&"nullValue"in i}function uh(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function cl(i){return!!i&&"mapValue"in i}function Sa(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Mo(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=Sa(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Sa(i.arrayValue.values[t]);return e}return Object.assign({},i)}function Bu(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function lh(i){return"nullValue"in i?Wo:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Xa(Pn.empty(),Xt.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:wn()}function dl(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Xa(Pn.empty(),Xt.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?lo:wn()}function Wl(i,e){const t=ss(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function Zc(i,e){const t=ss(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class gs{constructor(e){this.value=e}static empty(){return new gs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!cl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sa(t)}setAll(e){let t=si.emptyPath(),o={},c=[];e.forEach((v,A)=>{if(!t.isImmediateParentOf(A)){const V=this.getFieldsMap(t);this.applyChanges(V,o,c),o={},c=[],t=A.popLast()}v?o[A.lastSegment()]=Sa(v):c.push(A.lastSegment())});const g=this.getFieldsMap(t);this.applyChanges(g,o,c)}delete(e){const t=this.field(e.popLast());cl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return to(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let c=t.mapValue.fields[e.get(o)];cl(c)&&c.mapValue.fields||(c={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=c),t=c}return t.mapValue.fields}applyChanges(e,t,o){Mo(t,(c,g)=>e[c]=g);for(const c of o)delete e[c]}clone(){return new gs(Sa(this.value))}}function $u(i){const e=[];return Mo(i.fields,(t,o)=>{const c=new si([t]);if(cl(o)){const g=$u(o.mapValue).fields;if(0===g.length)e.push(c);else for(const v of g)e.push(c.child(v))}else e.push(c)}),new R(e)}class wi{constructor(e,t,o,c,g,v){this.key=e,this.documentType=t,this.version=o,this.readTime=c,this.data=g,this.documentState=v}static newInvalidDocument(e){return new wi(e,0,Un.min(),Un.min(),gs.empty(),0)}static newFoundDocument(e,t,o){return new wi(e,1,t,Un.min(),o,0)}static newNoDocument(e,t){return new wi(e,2,t,Un.min(),gs.empty(),0)}static newUnknownDocument(e,t){return new wi(e,3,t,Un.min(),gs.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Un.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof wi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wi(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ql{constructor(e,t=null,o=[],c=[],g=null,v=null,A=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=c,this.limit=g,this.startAt=v,this.endAt=A,this.ut=null}}function ch(i,e=null,t=[],o=[],c=null,g=null,v=null){return new ql(i,e,t,o,c,g,v)}function Oo(i){const e=en(i);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>{return(c=o).field.canonicalString()+c.op.toString()+ai(c.value);var c}).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(c=o).field.canonicalString()+c.dir;var c}).join(","),Mi(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>ai(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>ai(o)).join(",")),e.ut=t}return e.ut}function fl(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let c=0;c<i.orderBy.length;c++)if(!gl(i.orderBy[c],e.orderBy[c]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let c=0;c<i.filters.length;c++)if((t=i.filters[c]).op!==(o=e.filters[c]).op||!t.field.isEqual(o.field)||!to(t.value,o.value))return!1;var t,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Kl(i.startAt,e.startAt)&&Kl(i.endAt,e.endAt)}function Xc(i){return Xt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function pl(i,e){return i.filters.filter(t=>t instanceof Ss&&t.field.isEqual(e))}function dh(i,e,t){let o=Wo,c=!0;for(const g of pl(i,e)){let v=Wo,A=!0;switch(g.op){case"<":case"<=":v=lh(g.value);break;case"==":case"in":case">=":v=g.value;break;case">":v=g.value,A=!1;break;case"!=":case"not-in":v=Wo}Wl({value:o,inclusive:c},{value:v,inclusive:A})<0&&(o=v,c=A)}if(null!==t)for(let g=0;g<i.orderBy.length;++g)if(i.orderBy[g].field.isEqual(e)){const v=t.position[g];Wl({value:o,inclusive:c},{value:v,inclusive:t.inclusive})<0&&(o=v,c=t.inclusive);break}return{value:o,inclusive:c}}function kf(i,e,t){let o=lo,c=!0;for(const g of pl(i,e)){let v=lo,A=!0;switch(g.op){case">=":case">":v=dl(g.value),A=!1;break;case"==":case"in":case"<=":v=g.value;break;case"<":v=g.value,A=!1;break;case"!=":case"not-in":v=lo}Zc({value:o,inclusive:c},{value:v,inclusive:A})>0&&(o=v,c=A)}if(null!==t)for(let g=0;g<i.orderBy.length;++g)if(i.orderBy[g].field.isEqual(e)){const v=t.position[g];Zc({value:o,inclusive:c},{value:v,inclusive:t.inclusive})>0&&(o=v,c=t.inclusive);break}return{value:o,inclusive:c}}class Ss extends class{}{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,o):new Nf(e,t,o):"array-contains"===t?new Lf(e,o):"in"===t?new Jc(e,o):"not-in"===t?new Hg(e,o):"array-contains-any"===t?new hh(e,o):new Ss(e,t,o)}static ct(e,t,o){return"in"===t?new Ff(e,o):new Yl(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(ss(t,this.value)):null!==t&&qo(this.value)===qo(t)&&this.at(ss(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return wn()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Nf extends Ss{constructor(e,t,o){super(e,t,o),this.key=Xt.fromName(o.referenceValue)}matches(e){const t=Xt.comparator(e.key,this.key);return this.at(t)}}class Ff extends Ss{constructor(e,t){super(e,"in",t),this.keys=Qc(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Yl extends Ss{constructor(e,t){super(e,"not-in",t),this.keys=Qc(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Qc(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>Xt.fromName(o.referenceValue))}class Lf extends Ss{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return da(t)&&js(t.arrayValue,this.value)}}class Jc extends Ss{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&js(this.value.arrayValue,t)}}class Hg extends Ss{constructor(e,t){super(e,"not-in",t)}matches(e){if(js(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!js(this.value.arrayValue,t)}}class hh extends Ss{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!da(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>js(this.value.arrayValue,o))}}class fu{constructor(e,t){this.position=e,this.inclusive=t}}class Aa{constructor(e,t="asc"){this.field=e,this.dir=t}}function gl(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function pu(i,e,t){let o=0;for(let c=0;c<i.position.length;c++){const g=e[c],v=i.position[c];if(o=g.field.isKeyField()?Xt.comparator(Xt.fromName(v.referenceValue),t.key):ss(v,t.data.field(g.field)),"desc"===g.dir&&(o*=-1),0!==o)break}return o}function Kl(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!to(i.position[t],e.position[t]))return!1;return!0}class xa{constructor(e,t=null,o=[],c=[],g=null,v="F",A=null,V=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=c,this.limit=g,this.limitType=v,this.startAt=A,this.endAt=V,this.lt=null,this.ft=null}}function fh(i,e,t,o,c,g,v,A){return new xa(i,e,t,o,c,g,v,A)}function Ma(i){return new xa(i)}function Zl(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function yl(i){for(const e of i.filters)if(e.ht())return e.field;return null}function vl(i){return null!==i.collectionGroup}function gu(i){const e=en(i);if(null===e.lt){e.lt=[];const t=yl(e),o=Zl(e);if(null!==t&&null===o)t.isKeyField()||e.lt.push(new Aa(t)),e.lt.push(new Aa(si.keyField(),"asc"));else{let c=!1;for(const g of e.explicitOrderBy)e.lt.push(g),g.field.isKeyField()&&(c=!0);if(!c){const g=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new Aa(si.keyField(),g))}}}return e.lt}function Po(i){const e=en(i);if(!e.ft)if("F"===e.limitType)e.ft=ch(e.path,e.collectionGroup,gu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const g of gu(e))t.push(new Aa(g.field,"desc"===g.dir?"asc":"desc"));const o=e.endAt?new fu(e.endAt.position,e.endAt.inclusive):null,c=e.startAt?new fu(e.startAt.position,e.startAt.inclusive):null;e.ft=ch(e.path,e.collectionGroup,t,e.filters,e.limit,o,c)}return e.ft}function ph(i,e,t){return new xa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Xl(i,e){return fl(Po(i),Po(e))&&i.limitType===e.limitType}function Qa(i){return`${Oo(Po(i))}|lt:${i.limitType}`}function ed(i){return`Query(target=${function hl(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(t=>{return`${(o=t).field.canonicalString()} ${o.op} ${ai(o.value)}`;var o}).join(", ")}]`),Mi(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(t=>{return`${(o=t).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(t=>ai(t)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(t=>ai(t)).join(",")),`Target(${e})`}(Po(i))}; limitType=${i.limitType})`}function ha(i,e){return e.isFoundDocument()&&function(t,o){const c=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(c):Xt.isDocumentKey(t.path)?t.path.isEqual(c):t.path.isImmediateParentOf(c)}(i,e)&&function(t,o){for(const c of t.explicitOrderBy)if(!c.field.isKeyField()&&null===o.data.field(c.field))return!1;return!0}(i,e)&&function(t,o){for(const c of t.filters)if(!c.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(c,g,v){const A=pu(c,g,v);return c.inclusive?A<=0:A<0}(t.startAt,gu(t),o)||t.endAt&&!function(c,g,v){const A=pu(c,g,v);return c.inclusive?A>=0:A>0}(t.endAt,gu(t),o)));var t,o}function Ja(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function gh(i){return(e,t)=>{let o=!1;for(const c of gu(i)){const g=mh(c,e,t);if(0!==g)return g;o=o||c.field.isKeyField()}return 0}}function mh(i,e,t){const o=i.field.isKeyField()?Xt.comparator(e.key,t.key):function(c,g,v){const A=g.data.field(c),V=v.data.field(c);return null!==A&&null!==V?ss(A,V):wn()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return wn()}}function Vf(i,e){if(i.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ps(e)?"-0":e}}function Bf(i){return{integerValue:""+i}}function td(i,e){return Ro(e)?Bf(e):Vf(i,e)}class nd{constructor(){this._=void 0}}function yh(i,e,t){return i instanceof Uu?function(o,c){const g={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&(g.fields.__previous_value__=c),{mapValue:g}}(t,e):i instanceof mu?$f(i,e):i instanceof yu?ju(i,e):function(o,c){const g=vh(o,c),v=Ko(g)+Ko(o._t);return Vu(g)&&Vu(o._t)?Bf(v):Vf(o.wt,v)}(i,e)}function rd(i,e,t){return i instanceof mu?$f(i,e):i instanceof yu?ju(i,e):t}function vh(i,e){return i instanceof Ra?Vu(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class Uu extends nd{}class mu extends nd{constructor(e){super(),this.elements=e}}function $f(i,e){const t=Hu(e);for(const o of i.elements)t.some(c=>to(c,o))||t.push(o);return{arrayValue:{values:t}}}class yu extends nd{constructor(e){super(),this.elements=e}}function ju(i,e){let t=Hu(e);for(const o of i.elements)t=t.filter(c=>!to(c,o));return{arrayValue:{values:t}}}class Ra extends nd{constructor(e,t){super(),this.wt=e,this._t=t}}function Ko(i){return dt(i.integerValue||i.doubleValue)}function Hu(i){return da(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class eu{constructor(e,t){this.field=e,this.transform=t}}class _h{constructor(e,t){this.version=e,this.transformResults=t}}class os{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new os}static exists(e){return new os(void 0,e)}static updateTime(e){return new os(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Gu(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class id{}function Jl(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new _u(i.key,os.none()):new vu(i.key,i.data,os.none());{const t=i.data,o=gs.empty();let c=new Wr(si.comparator);for(let g of e.fields)if(!c.has(g)){let v=t.field(g);null===v&&g.length>1&&(g=g.popLast(),v=t.field(g)),null===v?o.delete(g):o.set(g,v),c=c.add(g)}return new Oa(i.key,o,new R(c.toArray()),os.none())}}function sd(i,e,t){i instanceof vu?function(o,c,g){const v=o.value.clone(),A=Eh(o.fieldTransforms,c,g.transformResults);v.setAll(A),c.convertToFoundDocument(g.version,v).setHasCommittedMutations()}(i,e,t):i instanceof Oa?function(o,c,g){if(!Gu(o.precondition,c))return void c.convertToUnknownDocument(g.version);const v=Eh(o.fieldTransforms,c,g.transformResults),A=c.data;A.setAll(zu(o)),A.setAll(v),c.convertToFoundDocument(g.version,A).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function tu(i,e,t,o){return i instanceof vu?function(c,g,v,A){if(!Gu(c.precondition,g))return v;const V=c.value.clone(),H=od(c.fieldTransforms,A,g);return V.setAll(H),g.convertToFoundDocument(g.version,V).setHasLocalMutations(),null}(i,e,t,o):i instanceof Oa?function(c,g,v,A){if(!Gu(c.precondition,g))return v;const V=od(c.fieldTransforms,A,g),H=g.data;return H.setAll(zu(c)),H.setAll(V),g.convertToFoundDocument(g.version,H).setHasLocalMutations(),null===v?null:v.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(oe=>oe.field))}(i,e,t,o):(v=t,Gu(i.precondition,g=e)?(g.convertToNoDocument(g.version).setHasLocalMutations(),null):v);var g,v}function Gg(i,e){let t=null;for(const o of i.fieldTransforms){const c=e.data.field(o.field),g=vh(o.transform,c||null);null!=g&&(null===t&&(t=gs.empty()),t.set(o.field,g))}return t||null}function Uf(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&Us(t,o,(c,g)=>function Ql(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof mu&&o instanceof mu||t instanceof yu&&o instanceof yu?Us(t.elements,o.elements,to):t instanceof Ra&&o instanceof Ra?to(t._t,o._t):t instanceof Uu&&o instanceof Uu);var t,o}(c,g))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}class vu extends id{constructor(e,t,o,c=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=c,this.type=0}getFieldMask(){return null}}class Oa extends id{constructor(e,t,o,c,g=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=c,this.fieldTransforms=g,this.type=1}getFieldMask(){return this.fieldMask}}function zu(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function Eh(i,e,t){const o=new Map;Rn(i.length===t.length);for(let c=0;c<t.length;c++){const g=i[c],v=g.transform,A=e.data.field(g.field);o.set(g.field,rd(v,A,t[c]))}return o}function od(i,e,t){const o=new Map;for(const c of i){const g=c.transform,v=t.data.field(c.field);o.set(c.field,yh(g,v,e))}return o}class _u extends id{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Wu extends id{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jf{constructor(e){this.count=e}}var as,Br;function Qi(i){switch(i){default:return wn();case wt.CANCELLED:case wt.UNKNOWN:case wt.DEADLINE_EXCEEDED:case wt.RESOURCE_EXHAUSTED:case wt.INTERNAL:case wt.UNAVAILABLE:case wt.UNAUTHENTICATED:return!1;case wt.INVALID_ARGUMENT:case wt.NOT_FOUND:case wt.ALREADY_EXISTS:case wt.PERMISSION_DENIED:case wt.FAILED_PRECONDITION:case wt.ABORTED:case wt.OUT_OF_RANGE:case wt.UNIMPLEMENTED:case wt.DATA_LOSS:return!0}}function ec(i){if(void 0===i)return Ei("GRPC error has no .code"),wt.UNKNOWN;switch(i){case as.OK:return wt.OK;case as.CANCELLED:return wt.CANCELLED;case as.UNKNOWN:return wt.UNKNOWN;case as.DEADLINE_EXCEEDED:return wt.DEADLINE_EXCEEDED;case as.RESOURCE_EXHAUSTED:return wt.RESOURCE_EXHAUSTED;case as.INTERNAL:return wt.INTERNAL;case as.UNAVAILABLE:return wt.UNAVAILABLE;case as.UNAUTHENTICATED:return wt.UNAUTHENTICATED;case as.INVALID_ARGUMENT:return wt.INVALID_ARGUMENT;case as.NOT_FOUND:return wt.NOT_FOUND;case as.ALREADY_EXISTS:return wt.ALREADY_EXISTS;case as.PERMISSION_DENIED:return wt.PERMISSION_DENIED;case as.FAILED_PRECONDITION:return wt.FAILED_PRECONDITION;case as.ABORTED:return wt.ABORTED;case as.OUT_OF_RANGE:return wt.OUT_OF_RANGE;case as.UNIMPLEMENTED:return wt.UNIMPLEMENTED;case as.DATA_LOSS:return wt.DATA_LOSS;default:return wn()}}(Br=as||(as={}))[Br.OK=0]="OK",Br[Br.CANCELLED=1]="CANCELLED",Br[Br.UNKNOWN=2]="UNKNOWN",Br[Br.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Br[Br.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Br[Br.NOT_FOUND=5]="NOT_FOUND",Br[Br.ALREADY_EXISTS=6]="ALREADY_EXISTS",Br[Br.PERMISSION_DENIED=7]="PERMISSION_DENIED",Br[Br.UNAUTHENTICATED=16]="UNAUTHENTICATED",Br[Br.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Br[Br.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Br[Br.ABORTED=10]="ABORTED",Br[Br.OUT_OF_RANGE=11]="OUT_OF_RANGE",Br[Br.UNIMPLEMENTED=12]="UNIMPLEMENTED",Br[Br.INTERNAL=13]="INTERNAL",Br[Br.UNAVAILABLE=14]="UNAVAILABLE",Br[Br.DATA_LOSS=15]="DATA_LOSS";class Pa{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[c,g]of o)if(this.equalsFn(c,e))return g}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),c=this.inner[o];if(void 0===c)return this.inner[o]=[[e,t]],void this.innerSize++;for(let g=0;g<c.length;g++)if(this.equalsFn(c[g][0],e))return void(c[g]=[e,t]);c.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return 1===o.length?delete this.inner[t]:o.splice(c,1),this.innerSize--,!0;return!1}forEach(e){Mo(this.inner,(t,o)=>{for(const[c,g]of o)e(c,g)})}isEmpty(){return ca(this.inner)}size(){return this.innerSize}}const ad=new xi(Xt.comparator);function Hs(){return ad}const bh=new xi(Xt.comparator);function Gs(...i){let e=bh;for(const t of i)e=e.insert(t.key,t);return e}function qu(i){let e=bh;return i.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function Zo(){return Yu()}function wh(){return Yu()}function Yu(){return new Pa(i=>i.toString(),(i,e)=>i.isEqual(e))}const Ih=new xi(Xt.comparator),_l=new Wr(Xt.comparator);function _r(...i){let e=_l;for(const t of i)e=e.add(t);return e}const Hf=new Wr(gr);function Eo(){return Hf}class fa{constructor(e,t,o,c,g){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=c,this.resolvedLimboDocuments=g}static createSynthesizedRemoteEventForCurrentChange(e,t){const o=new Map;return o.set(e,El.createSynthesizedTargetChangeForCurrentChange(e,t)),new fa(Un.min(),o,Eo(),Hs(),_r())}}class El{constructor(e,t,o,c,g){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=c,this.removedDocuments=g}static createSynthesizedTargetChangeForCurrentChange(e,t){return new El(W.EMPTY_BYTE_STRING,t,_r(),_r(),_r())}}class tc{constructor(e,t,o,c){this.gt=e,this.removedTargetIds=t,this.key=o,this.yt=c}}class Dh{constructor(e,t){this.targetId=e,this.It=t}}class nc{constructor(e,t,o=W.EMPTY_BYTE_STRING,c=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=c}}class no{constructor(){this.Tt=0,this.Et=Ch(),this.At=W.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=_r(),t=_r(),o=_r();return this.Et.forEach((c,g)=>{switch(g){case 0:e=e.add(c);break;case 2:t=t.add(c);break;case 1:o=o.add(c);break;default:wn()}}),new El(this.At,this.Rt,e,t,o)}Dt(){this.bt=!1,this.Et=Ch()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class ud{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=Hs(),this.Bt=rc(),this.Lt=new Wr(gr)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const o=this.Qt(t);switch(e.state){case 0:this.jt(t)&&o.Vt(e.resumeToken);break;case 1:o.kt(),o.Pt||o.Dt(),o.Vt(e.resumeToken);break;case 2:o.kt(),o.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(o.Ot(),o.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),o.Vt(e.resumeToken));break;default:wn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((o,c)=>{this.jt(c)&&t(c)})}zt(e){const t=e.targetId,o=e.It.count,c=this.Ht(t);if(c){const g=c.target;if(Xc(g))if(0===o){const v=new Xt(g.path);this.Kt(t,v,wi.newNoDocument(v,Un.min()))}else Rn(1===o);else this.Jt(t)!==o&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((g,v)=>{const A=this.Ht(v);if(A){if(g.current&&Xc(A.target)){const V=new Xt(A.target.path);null!==this.$t.get(V)||this.Xt(v,V)||this.Kt(v,V,wi.newNoDocument(V,e))}g.vt&&(t.set(v,g.St()),g.Dt())}});let o=_r();this.Bt.forEach((g,v)=>{let A=!0;v.forEachWhile(V=>{const H=this.Ht(V);return!H||2===H.purpose||(A=!1,!1)}),A&&(o=o.add(g))}),this.$t.forEach((g,v)=>v.setReadTime(e));const c=new fa(e,t,this.Lt,this.$t,o);return this.$t=Hs(),this.Bt=rc(),this.Lt=new Wr(gr),c}qt(e,t){if(!this.jt(e))return;const o=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,o),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,o){if(!this.jt(e))return;const c=this.Qt(e);this.Xt(e,t)?c.Ct(t,1):c.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),o&&(this.$t=this.$t.insert(t,o))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new no,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new Wr(gr),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||Ut("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new no),this.Mt.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}function rc(){return new xi(Xt.comparator)}function Ch(){return new xi(Xt.comparator)}const Xo={asc:"ASCENDING",desc:"DESCENDING"},bl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Th{constructor(e,t){this.databaseId=e,this.dt=t}}function Ku(i,e){return i.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ld(i,e){return i.dt?e.toBase64():e.toUint8Array()}function cd(i,e){return Ku(i,e.toTimestamp())}function Os(i){return Rn(!!i),Un.fromTimestamp(function(e){const t=rt(e);return new ii(t.seconds,t.nanos)}(i))}function zs(i,e){return(t=i,new Sr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function ic(i){const e=Sr.fromString(i);return Rn(Qo(e)),e}function Zu(i,e){return zs(i.databaseId,e.path)}function b(i,e){const t=ic(e);if(t.get(1)!==i.databaseId.projectId)throw new Ot(wt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new Ot(wt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Xt(j(t))}function p(i,e){return zs(i.databaseId,e)}function y(i){const e=ic(i);return 4===e.length?Sr.emptyPath():j(e)}function C(i){return new Sr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function j(i){return Rn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function ne(i,e,t){return{name:Zu(i,e),fields:t.value.mapValue.fields}}function Ze(i,e,t){const o=b(i,e.name),c=Os(e.updateTime),g=new gs({mapValue:{fields:e.fields}}),v=wi.newFoundDocument(o,c,g);return t&&v.setHasCommittedMutations(),t?v.setHasCommittedMutations():v}function En(i,e){let t;if(e instanceof vu)t={update:ne(i,e.key,e.value)};else if(e instanceof _u)t={delete:Zu(i,e.key)};else if(e instanceof Oa)t={update:ne(i,e.key,e.data),updateMask:zf(e.fieldMask)};else{if(!(e instanceof Wu))return wn();t={verify:Zu(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(c,g){const v=g.transform;if(v instanceof Uu)return{fieldPath:g.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(v instanceof mu)return{fieldPath:g.field.canonicalString(),appendMissingElements:{values:v.elements}};if(v instanceof yu)return{fieldPath:g.field.canonicalString(),removeAllFromArray:{values:v.elements}};if(v instanceof Ra)return{fieldPath:g.field.canonicalString(),increment:v._t};throw wn()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(c=e.precondition).updateTime?{updateTime:cd(i,c.updateTime)}:void 0!==c.exists?{exists:c.exists}:wn()),t;var c}function Xn(i,e){const t=e.currentDocument?void 0!==(c=e.currentDocument).updateTime?os.updateTime(Os(c.updateTime)):void 0!==c.exists?os.exists(c.exists):os.none():os.none(),o=e.updateTransforms?e.updateTransforms.map(c=>function(g,v){let A=null;"setToServerValue"in v?(Rn("REQUEST_TIME"===v.setToServerValue),A=new Uu):"appendMissingElements"in v?A=new mu(v.appendMissingElements.values||[]):"removeAllFromArray"in v?A=new yu(v.removeAllFromArray.values||[]):"increment"in v?A=new Ra(g,v.increment):wn();const V=si.fromServerFormat(v.fieldPath);return new eu(V,A)}(i,c)):[];var c;if(e.update){const c=b(i,e.update.name),g=new gs({mapValue:{fields:e.update.fields}});if(e.updateMask){const v=new R((e.updateMask.fieldPaths||[]).map(H=>si.fromServerFormat(H)));return new Oa(c,g,v,t,o)}return new vu(c,g,t,o)}if(e.delete){const c=b(i,e.delete);return new _u(c,t)}if(e.verify){const c=b(i,e.verify);return new Wu(c,t)}return wn()}function Is(i,e){return{documents:[p(i,e.path)]}}function ko(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=p(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=p(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const c=function(V){if(0===V.length)return;const H=V.map(oe=>function(He){if("=="===He.op){if(uh(He.value))return{unaryFilter:{field:nu(He.field),op:"IS_NAN"}};if(Kc(He.value))return{unaryFilter:{field:nu(He.field),op:"IS_NULL"}}}else if("!="===He.op){if(uh(He.value))return{unaryFilter:{field:nu(He.field),op:"IS_NOT_NAN"}};if(Kc(He.value))return{unaryFilter:{field:nu(He.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nu(He.field),op:pa(He.op),value:He.value}}}(oe));return 1===H.length?H[0]:{compositeFilter:{op:"AND",filters:H}}}(e.filters);c&&(t.structuredQuery.where=c);const g=function(V){if(0!==V.length)return V.map(H=>{return{field:nu((oe=H).field),direction:Eu(oe.dir)};var oe})}(e.orderBy);g&&(t.structuredQuery.orderBy=g);const v=(H=e.limit,i.dt||Mi(H)?H:{value:H});var H,A,V;return null!==v&&(t.structuredQuery.limit=v),e.startAt&&(t.structuredQuery.startAt={before:(A=e.startAt).inclusive,values:A.position}),e.endAt&&(t.structuredQuery.endAt={before:!(V=e.endAt).inclusive,values:V.position}),t}function wl(i){let e=y(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let c=null;if(o>0){Rn(1===o);const oe=t.from[0];oe.allDescendants?c=oe.collectionId:e=e.child(oe.collectionId)}let g=[];t.where&&(g=sc(t.where));let v=[];t.orderBy&&(v=t.orderBy.map(oe=>{return new Aa(Xu((He=oe).field),function(vt){switch(vt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(He.direction));var He}));let A=null;t.limit&&(A=function(oe){let He;return He="object"==typeof oe?oe.value:oe,Mi(He)?null:He}(t.limit));let V=null;var oe;t.startAt&&(V=new fu((oe=t.startAt).values||[],!!oe.before));let H=null;return t.endAt&&(H=function(oe){return new fu(oe.values||[],!oe.before)}(t.endAt)),fh(e,c,v,g,A,"F",V,H)}function sc(i){return i?void 0!==i.unaryFilter?[oc(i)]:void 0!==i.fieldFilter?[Gf(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>sc(e)).reduce((e,t)=>e.concat(t)):wn():[]}function Eu(i){return Xo[i]}function pa(i){return bl[i]}function nu(i){return{fieldPath:i.canonicalString()}}function Xu(i){return si.fromServerFormat(i.fieldPath)}function Gf(i){return Ss.create(Xu(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wn()}}(i.fieldFilter.op),i.fieldFilter.value)}function oc(i){switch(i.unaryFilter.op){case"IS_NAN":const e=Xu(i.unaryFilter.field);return Ss.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Xu(i.unaryFilter.field);return Ss.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Xu(i.unaryFilter.field);return Ss.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Xu(i.unaryFilter.field);return Ss.create(c,"!=",{nullValue:"NULL_VALUE"});default:return wn()}}function zf(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Qo(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function As(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=zg(e)),e=dd(i.get(t),e);return zg(e)}function dd(i,e){let t=e;const o=i.length;for(let c=0;c<o;c++){const g=i.charAt(c);switch(g){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=g}}return t}function zg(i){return i+"\x01\x01"}function ka(i){const e=i.length;if(Rn(e>=2),2===e)return Rn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Sr.emptyPath();const t=e-2,o=[];let c="";for(let g=0;g<e;){const v=i.indexOf("\x01",g);switch((v<0||v>t)&&wn(),i.charAt(v+1)){case"\x01":const A=i.substring(g,v);let V;0===c.length?V=A:(c+=A,V=c,c=""),o.push(V);break;case"\x10":c+=i.substring(g,v),c+="\0";break;case"\x11":c+=i.substring(g,v+1);break;default:wn()}g=v+2}return new Sr(o)}const ac=["userId","batchId"];function hd(i,e){return[i,As(e)]}function Wf(i,e,t){return[i,As(e),t]}const qf={},Yf=["prefixPath","collectionGroup","readTime","documentId"],Wg=["prefixPath","collectionGroup","documentId"],t0=["collectionGroup","readTime","prefixPath","documentId"],uc=["canonicalId","targetId"],Kf=["targetId","path"],qg=["path","targetId"],By=["collectionId","parent"],Zf=["indexId","uid"],$y=["uid","sequenceNumber"],Uy=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],jy=["indexId","uid","orderedDocumentKey"],Hy=["userId","collectionPath","documentId"],Gy=["userId","collectionPath","largestBatchId"],zy=["userId","collectionGroup","largestBatchId"],Xf=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Qf=[...Xf,"documentOverlays"],Jf=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ah=Jf,Wy=[...Ah,"indexConfiguration","indexState","indexEntries"];class ep extends Te{constructor(e,t){super(),this.ee=e,this.currentSequenceNumber=t}}function Ws(i,e){const t=en(i);return dn.N(t.ee,e)}class xh{constructor(e,t,o,c){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=c}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let c=0;c<this.mutations.length;c++){const g=this.mutations[c];g.key.isEqual(e.key)&&sd(g,e,o[c])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=tu(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=tu(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=wh();return this.mutations.forEach(c=>{const g=e.get(c.key),v=g.overlayedDocument;let A=this.applyToLocalView(v,g.mutatedFields);A=t.has(c.key)?null:A;const V=Jl(v,A);null!==V&&o.set(c.key,V),v.isValidDocument()||v.convertToNoDocument(Un.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),_r())}isEqual(e){return this.batchId===e.batchId&&Us(this.mutations,e.mutations,(t,o)=>Uf(t,o))&&Us(this.baseMutations,e.baseMutations,(t,o)=>Uf(t,o))}}class bu{constructor(e,t,o,c){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=c}static from(e,t,o){Rn(e.mutations.length===o.length);let c=Ih;const g=e.mutations;for(let v=0;v<g.length;v++)c=c.insert(g[v].key,o[v].version);return new bu(e,t,o,c)}}class Mh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class wu{constructor(e,t,o,c,g=Un.min(),v=Un.min(),A=W.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=c,this.snapshotVersion=g,this.lastLimboFreeSnapshotVersion=v,this.resumeToken=A}withSequenceNumber(e){return new wu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new wu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new wu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Yg{constructor(e){this.ne=e}}function fd(i,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:Rh(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Zu(c=i.ne,(g=e).key),fields:g.data.value.mapValue.fields,updateTime:Ku(c,g.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:Qu(e.version)};else{if(!e.isUnknownDocument())return wn();o.unknownDocument={path:t.path.toArray(),version:Qu(e.version)}}var c,g;return o}function Rh(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Qu(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ju(i){const e=new ii(i.seconds,i.nanoseconds);return Un.fromTimestamp(e)}function el(i,e){const t=(e.baseMutations||[]).map(g=>Xn(i.ne,g));for(let g=0;g<e.mutations.length-1;++g){const v=e.mutations[g];g+1<e.mutations.length&&void 0!==e.mutations[g+1].transform&&(v.updateTransforms=e.mutations[g+1].transform.fieldTransforms,e.mutations.splice(g+1,1),++g)}const o=e.mutations.map(g=>Xn(i.ne,g)),c=ii.fromMillis(e.localWriteTimeMs);return new xh(e.batchId,c,t,o)}function Il(i){const e=Ju(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?Ju(i.lastLimboFreeSnapshotVersion):Un.min();let o;var c;return void 0!==i.query.documents?(Rn(1===(c=i.query).documents.length),o=Po(Ma(y(c.documents[0])))):o=Po(wl(i.query)),new wu(o,i.targetId,0,i.lastListenSequenceNumber,e,t,W.fromBase64String(i.resumeToken))}function tp(i,e){const t=Qu(e.snapshotVersion),o=Qu(e.lastLimboFreeSnapshotVersion);let c;c=Xc(e.target)?Is(i.ne,e.target):ko(i.ne,e.target);const g=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Oo(e.target),readTime:t,resumeToken:g,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:c}}function lc(i){const e=wl({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?ph(e,e.limit,"L"):e}function cc(i,e){return new Mh(e.largestBatchId,Xn(i.ne,e.overlayMutation))}function np(i,e){const t=e.path.lastSegment();return[i,As(e.path.popLast()),t]}function Oh(i,e,t,o){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:Qu(o.readTime),documentKey:As(o.documentKey.path),largestBatchId:o.largestBatchId}}class Zg{getBundleMetadata(e,t){return Ph(e).get(t).next(o=>{if(o)return{id:(c=o).bundleId,createTime:Ju(c.createTime),version:c.version};var c})}saveBundleMetadata(e,t){return Ph(e).put({bundleId:(o=t).id,createTime:Qu(Os(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return dc(e).get(t).next(o=>{if(o)return{name:(c=o).name,query:lc(c.bundledQuery),readTime:Ju(c.readTime)};var c})}saveNamedQuery(e,t){return dc(e).put({name:(o=t).name,readTime:Qu(Os(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Ph(i){return Ws(i,"bundles")}function dc(i){return Ws(i,"namedQueries")}class kh{constructor(e,t){this.wt=e,this.userId=t}static se(e,t){return new kh(e,t.uid||"")}getOverlay(e,t){return hc(e).get(np(this.userId,t)).next(o=>o?cc(this.wt,o):null)}getOverlays(e,t){const o=Zo();return Be.forEach(t,c=>this.getOverlay(e,c).next(g=>{null!==g&&o.set(c,g)})).next(()=>o)}saveOverlays(e,t,o){const c=[];return o.forEach((g,v)=>{const A=new Mh(t,v);c.push(this.ie(e,A))}),Be.waitFor(c)}removeOverlaysForBatchId(e,t,o){const c=new Set;t.forEach(v=>c.add(As(v.getCollectionPath())));const g=[];return c.forEach(v=>{const A=IDBKeyRange.bound([this.userId,v,o],[this.userId,v,o+1],!1,!0);g.push(hc(e).W("collectionPathOverlayIndex",A))}),Be.waitFor(g)}getOverlaysForCollection(e,t,o){const c=Zo(),g=As(t),v=IDBKeyRange.bound([this.userId,g,o],[this.userId,g,Number.POSITIVE_INFINITY],!0);return hc(e).K("collectionPathOverlayIndex",v).next(A=>{for(const V of A){const H=cc(this.wt,V);c.set(H.getKey(),H)}return c})}getOverlaysForCollectionGroup(e,t,o,c){const g=Zo();let v;const A=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return hc(e).J({index:"collectionGroupOverlayIndex",range:A},(V,H,oe)=>{const He=cc(this.wt,H);g.size()<c||He.largestBatchId===v?(g.set(He.getKey(),He),v=He.largestBatchId):oe.done()}).next(()=>g)}ie(e,t){return hc(e).put(function(o,c,g){const[v,A,V]=np(c,g.mutation.key);return{userId:c,collectionPath:A,documentId:V,collectionGroup:g.mutation.key.getCollectionGroup(),largestBatchId:g.largestBatchId,overlayMutation:En(o.ne,g.mutation)}}(this.wt,this.userId,t))}}function hc(i){return Ws(i,"documentOverlays")}class Dl{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(dt(e.integerValue));else if("doubleValue"in e){const o=dt(e.doubleValue);isNaN(o)?this.ce(t,13):(this.ce(t,15),ps(o)?t.ae(0):t.ae(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ce(t,20),"string"==typeof o?t.he(o):(t.he(`${o.seconds||""}`),t.ae(o.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(Ft(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.ce(t,45),t.ae(o.latitude||0),t.ae(o.longitude||0)}else"mapValue"in e?Bu(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):wn()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const o=e.fields||{};this.ce(t,55);for(const c of Object.keys(o))this.le(c,t),this.oe(o[c],t)}me(e,t){const o=e.values||[];this.ce(t,50);for(const c of o)this.oe(c,t)}_e(e,t){this.ce(t,37),Xt.fromName(e).path.forEach(o=>{this.ce(t,60),this.ge(o,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}function qy(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function rp(i){const e=64-function(t){let o=0;for(let c=0;c<8;++c){const g=qy(255&t[c]);if(o+=g,8!==g)break}return o}(i);return Math.ceil(e/8)}Dl.ye=new Dl;class ip{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ie(o.value),o=t.next();this.Te()}Ee(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.Ae(o.value),o=t.next();this.Re()}be(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ie(o);else if(o<2048)this.Ie(960|o>>>6),this.Ie(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ie(480|o>>>12),this.Ie(128|63&o>>>6),this.Ie(128|63&o);else{const c=t.codePointAt(0);this.Ie(240|c>>>18),this.Ie(128|63&c>>>12),this.Ie(128|63&c>>>6),this.Ie(128|63&c)}}this.Te()}Pe(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.Ae(o);else if(o<2048)this.Ae(960|o>>>6),this.Ae(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o);else{const c=t.codePointAt(0);this.Ae(240|c>>>18),this.Ae(128|63&c>>>12),this.Ae(128|63&c>>>6),this.Ae(128|63&c)}}this.Re()}ve(e){const t=this.Ve(e),o=rp(t);this.Se(1+o),this.buffer[this.position++]=255&o;for(let c=t.length-o;c<t.length;++c)this.buffer[this.position++]=255&t[c]}De(e){const t=this.Ve(e),o=rp(t);this.Se(1+o),this.buffer[this.position++]=~(255&o);for(let c=t.length-o;c<t.length;++c)this.buffer[this.position++]=~(255&t[c])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Oe(){return this.buffer.slice(0,this.position)}Ve(e){const t=function(c){const g=new DataView(new ArrayBuffer(8));return g.setFloat64(0,c,!1),new Uint8Array(g.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let c=1;c<t.length;++c)t[c]^=o?255:0;return t}Ie(e){const t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}Ae(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const c=new Uint8Array(o);c.set(this.buffer),this.buffer=c}}class Xg{constructor(e){this.Me=e}de(e){this.Me.pe(e)}he(e){this.Me.be(e)}ae(e){this.Me.ve(e)}ue(){this.Me.Ce()}}class n0{constructor(e){this.Me=e}de(e){this.Me.Ee(e)}he(e){this.Me.Pe(e)}ae(e){this.Me.De(e)}ue(){this.Me.Ne()}}class fc{constructor(){this.Me=new ip,this.Fe=new Xg(this.Me),this.$e=new n0(this.Me)}seed(e){this.Me.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}class Cl{constructor(e,t,o,c){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=c}Le(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new Cl(this.indexId,this.documentKey,this.arrayValue,o)}}function tl(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=Qg(i.arrayValue,e.arrayValue),0!==t?t:(t=Qg(i.directionalValue,e.directionalValue),0!==t?t:Xt.comparator(i.documentKey,e.documentKey)))}function Qg(i,e){for(let t=0;t<i.length&&t<e.length;++t){const o=i[t]-e[t];if(0!==o)return o}return i.length-e.length}class Yy{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const t of e.filters){const o=t;o.ht()?this.Ke=o:this.qe.push(o)}}Ge(e){const t=Ta(e);if(void 0!==t&&!this.Qe(t))return!1;const o=eo(e);let c=0,g=0;for(;c<o.length&&this.Qe(o[c]);++c);if(c===o.length)return!0;if(void 0!==this.Ke){const v=o[c];if(!this.je(this.Ke,v)||!this.We(this.Ue[g++],v))return!1;++c}for(;c<o.length;++c){const v=o[c];if(g>=this.Ue.length||!this.We(this.Ue[g++],v))return!1}return!0}Qe(e){for(const t of this.qe)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Na{constructor(){this.ze=new sp}addToCollectionParentIndex(e,t){return this.ze.add(t),Be.resolve()}getCollectionParents(e,t){return Be.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return Be.resolve()}deleteFieldIndex(e,t){return Be.resolve()}getDocumentsMatchingTarget(e,t){return Be.resolve(null)}getIndexType(e,t){return Be.resolve(0)}getFieldIndexes(e,t){return Be.resolve([])}getNextCollectionGroupToUpdate(e){return Be.resolve(null)}getMinOffset(e,t){return Be.resolve(M.min())}getMinOffsetFromCollectionGroup(e,t){return Be.resolve(M.min())}updateCollectionGroup(e,t,o){return Be.resolve()}updateIndexEntries(e,t){return Be.resolve()}}class sp{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),c=this.index[t]||new Wr(Sr.comparator),g=!c.has(o);return this.index[t]=c.add(o),g}has(e){const t=e.lastSegment(),o=e.popLast(),c=this.index[t];return c&&c.has(o)}getEntries(e){return(this.index[e]||new Wr(Sr.comparator)).toArray()}}const pd=new Uint8Array(0);class Ky{constructor(e,t){this.user=e,this.databaseId=t,this.He=new sp,this.Je=new Pa(o=>Oo(o),(o,c)=>fl(o,c)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.He.has(t)){const o=t.lastSegment(),c=t.popLast();e.addOnCommittedListener(()=>{this.He.add(t)});const g={collectionId:o,parent:As(c)};return Jg(e).put(g)}return Be.resolve()}getCollectionParents(e,t){const o=[],c=IDBKeyRange.bound([t,""],[Za(t),""],!1,!0);return Jg(e).K(c).next(g=>{for(const v of g){if(v.collectionId!==t)break;o.push(ka(v.parent))}return o})}addFieldIndex(e,t){const o=Nh(e),c={indexId:(v=t).indexId,collectionGroup:v.collectionGroup,fields:v.fields.map(A=>[A.fieldPath.canonicalString(),A.kind])};var v;delete c.indexId;const g=o.add(c);if(t.indexState){const v=pc(e);return g.next(A=>{v.put(Oh(A,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return g.next()}deleteFieldIndex(e,t){const o=Nh(e),c=pc(e),g=gd(e);return o.delete(t.indexId).next(()=>c.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>g.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=gd(e);let c=!0;const g=new Map;return Be.forEach(this.Ye(t),v=>this.Xe(e,v).next(A=>{c&&(c=!!A),g.set(v,A)})).next(()=>{if(c){let v=_r();const A=[];return Be.forEach(g,(V,H)=>{var oe;Ut("IndexedDbIndexManager",`Using index ${oe=V,`id=${oe.indexId}|cg=${oe.collectionGroup}|f=${oe.fields.map(Ri=>`${Ri.fieldPath}:${Ri.kind}`).join(",")}`} to execute ${Oo(t)}`);const He=function(Ri,Ns){const Ji=Ta(Ns);if(void 0===Ji)return null;for(const Bi of pl(Ri,Ji.fieldPath))switch(Bi.op){case"array-contains-any":return Bi.value.arrayValue.values||[];case"array-contains":return[Bi.value]}return null}(H,V),vt=function(Ri,Ns){const Ji=new Map;for(const Bi of eo(Ns))for(const po of pl(Ri,Bi.fieldPath))switch(po.op){case"==":case"in":Ji.set(Bi.fieldPath.canonicalString(),po.value);break;case"not-in":case"!=":return Ji.set(Bi.fieldPath.canonicalString(),po.value),Array.from(Ji.values())}return null}(H,V),Pt=function(Ri,Ns){const Ji=[];let Bi=!0;for(const po of eo(Ns)){const ih=0===po.kind?dh(Ri,po.fieldPath,Ri.startAt):kf(Ri,po.fieldPath,Ri.startAt);Ji.push(ih.value),Bi&&(Bi=ih.inclusive)}return new fu(Ji,Bi)}(H,V),jt=function(Ri,Ns){const Ji=[];let Bi=!0;for(const po of eo(Ns)){const ih=0===po.kind?kf(Ri,po.fieldPath,Ri.endAt):dh(Ri,po.fieldPath,Ri.endAt);Ji.push(ih.value),Bi&&(Bi=ih.inclusive)}return new fu(Ji,Bi)}(H,V),In=this.Ze(V,H,Pt),Bn=this.Ze(V,H,jt),ei=this.tn(V,H,vt),Gi=this.en(V.indexId,He,In,Pt.inclusive,Bn,jt.inclusive,ei);return Be.forEach(Gi,Ri=>o.j(Ri,t.limit).next(Ns=>{Ns.forEach(Ji=>{const Bi=Xt.fromSegments(Ji.documentKey);v.has(Bi)||(v=v.add(Bi),A.push(Bi))})}))}).next(()=>A)}return Be.resolve(null)})}Ye(e){let t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}en(e,t,o,c,g,v,A){const V=(null!=t?t.length:1)*Math.max(o.length,g.length),H=V/(null!=t?t.length:1),oe=[];for(let He=0;He<V;++He){const vt=t?this.nn(t[He/H]):pd,Pt=this.sn(e,vt,o[He%H],c),jt=this.rn(e,vt,g[He%H],v),In=A.map(Bn=>this.sn(e,vt,Bn,!0));oe.push(...this.createRange(Pt,jt,In))}return oe}sn(e,t,o,c){const g=new Cl(e,Xt.empty(),t,o);return c?g:g.Le()}rn(e,t,o,c){const g=new Cl(e,Xt.empty(),t,o);return c?g.Le():g}Xe(e,t){const o=new Yy(t),c=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,c).next(g=>{let v=null;for(const A of g)o.Ge(A)&&(!v||A.fields.length>v.fields.length)&&(v=A);return v})}getIndexType(e,t){let o=2;return Be.forEach(this.Ye(t),c=>this.Xe(e,c).next(g=>{g?0!==o&&g.fields.length<function(v){let A=new Wr(si.comparator),V=!1;for(const H of v.filters){const oe=H;oe.field.isKeyField()||("array-contains"===oe.op||"array-contains-any"===oe.op?V=!0:A=A.add(oe.field))}for(const H of v.orderBy)H.field.isKeyField()||(A=A.add(H.field));return A.size+(V?1:0)}(c)&&(o=1):o=0})).next(()=>o)}on(e,t){const o=new fc;for(const c of eo(e)){const g=t.data.field(c.fieldPath);if(null==g)return null;const v=o.Be(c.kind);Dl.ye.re(g,v)}return o.Oe()}nn(e){const t=new fc;return Dl.ye.re(e,t.Be(0)),t.Oe()}un(e,t){const o=new fc;return Dl.ye.re(Xa(this.databaseId,t),o.Be(function(c){const g=eo(c);return 0===g.length?0:g[g.length-1].kind}(e))),o.Oe()}tn(e,t,o){if(null===o)return[];let c=[];c.push(new fc);let g=0;for(const v of eo(e)){const A=o[g++];for(const V of c)if(this.cn(t,v.fieldPath)&&da(A))c=this.an(c,v,A);else{const H=V.Be(v.kind);Dl.ye.re(A,H)}}return this.hn(c)}Ze(e,t,o){return this.tn(e,t,o.position)}hn(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].Oe();return t}an(e,t,o){const c=[...e],g=[];for(const v of o.arrayValue.values||[])for(const A of c){const V=new fc;V.seed(A.Oe()),Dl.ye.re(v,V.Be(t.kind)),g.push(V)}return g}cn(e,t){return!!e.filters.find(o=>o instanceof Ss&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=Nh(e),c=pc(e);return(t?o.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.K()).next(g=>{const v=[];return Be.forEach(g,A=>c.get([A.indexId,this.uid]).next(V=>{v.push(function(H,oe){const He=oe?new T(oe.sequenceNumber,new M(Ju(oe.readTime),new Xt(ka(oe.documentKey)),oe.largestBatchId)):T.empty(),vt=H.fields.map(([Pt,jt])=>new Ao(si.fromServerFormat(Pt),jt));return new vo(H.indexId,H.collectionGroup,vt,He)}(A,V))})).next(()=>v)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,c)=>{const g=o.indexState.sequenceNumber-c.indexState.sequenceNumber;return 0!==g?g:gr(o.collectionGroup,c.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const c=Nh(e),g=pc(e);return this.ln(e).next(v=>c.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(A=>Be.forEach(A,V=>g.put(Oh(V.indexId,this.user,v,o)))))}updateIndexEntries(e,t){const o=new Map;return Be.forEach(t,(c,g)=>{const v=o.get(c.collectionGroup);return(v?Be.resolve(v):this.getFieldIndexes(e,c.collectionGroup)).next(A=>(o.set(c.collectionGroup,A),Be.forEach(A,V=>this.fn(e,c,V).next(H=>{const oe=this.dn(g,V);return H.isEqual(oe)?Be.resolve():this._n(e,g,V,H,oe)}))))})}wn(e,t,o,c){return gd(e).put({indexId:c.indexId,uid:this.uid,arrayValue:c.arrayValue,directionalValue:c.directionalValue,orderedDocumentKey:this.un(o,t.key),documentKey:t.key.path.toArray()})}mn(e,t,o,c){return gd(e).delete([c.indexId,this.uid,c.arrayValue,c.directionalValue,this.un(o,t.key),t.key.path.toArray()])}fn(e,t,o){const c=gd(e);let g=new Wr(tl);return c.J({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.un(o,t)])},(v,A)=>{g=g.add(new Cl(o.indexId,t,A.arrayValue,A.directionalValue))}).next(()=>g)}dn(e,t){let o=new Wr(tl);const c=this.on(t,e);if(null==c)return o;const g=Ta(t);if(null!=g){const v=e.data.field(g.fieldPath);if(da(v))for(const A of v.arrayValue.values||[])o=o.add(new Cl(t.indexId,e.key,this.nn(A),c))}else o=o.add(new Cl(t.indexId,e.key,pd,c));return o}_n(e,t,o,c,g){Ut("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const v=[];return function(A,V,H,oe,He){const vt=A.getIterator(),Pt=V.getIterator();let jt=_o(vt),In=_o(Pt);for(;jt||In;){let Bn=!1,ei=!1;if(jt&&In){const Gi=H(jt,In);Gi<0?ei=!0:Gi>0&&(Bn=!0)}else null!=jt?ei=!0:Bn=!0;Bn?(oe(In),In=_o(Pt)):ei?(He(jt),jt=_o(vt)):(jt=_o(vt),In=_o(Pt))}}(c,g,tl,A=>{v.push(this.wn(e,t,o,A))},A=>{v.push(this.mn(e,t,o,A))}),Be.waitFor(v)}ln(e){let t=1;return pc(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,c,g)=>{g.done(),t=c.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((v,A)=>tl(v,A)).filter((v,A,V)=>!A||0!==tl(v,V[A-1]));const c=[];c.push(e);for(const v of o){const A=tl(v,e),V=tl(v,t);if(0===A)c[0]=e.Le();else if(A>0&&V<0)c.push(v),c.push(v.Le());else if(V>0)break}c.push(t);const g=[];for(let v=0;v<c.length;v+=2)g.push(IDBKeyRange.bound([c[v].indexId,this.uid,c[v].arrayValue,c[v].directionalValue,pd,[]],[c[v+1].indexId,this.uid,c[v+1].arrayValue,c[v+1].directionalValue,pd,[]]));return g}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(em)}getMinOffset(e,t){return Be.mapArray(this.Ye(t),o=>this.Xe(e,o).next(c=>c||wn())).next(em)}}function Jg(i){return Ws(i,"collectionParents")}function gd(i){return Ws(i,"indexEntries")}function Nh(i){return Ws(i,"indexConfiguration")}function pc(i){return Ws(i,"indexState")}function em(i){Rn(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let o=1;o<i.length;o++){const c=i[o].indexState.offset;B(c,e)<0&&(e=c),t<c.largestBatchId&&(t=c.largestBatchId)}return new M(e.readTime,e.documentKey,t)}const tm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class No{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new No(e,No.DEFAULT_COLLECTION_PERCENTILE,No.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ir(i,e,t){const o=i.store("mutations"),c=i.store("documentMutations"),g=[],v=IDBKeyRange.only(t.batchId);let A=0;const V=o.J({range:v},(oe,He,vt)=>(A++,vt.delete()));g.push(V.next(()=>{Rn(1===A)}));const H=[];for(const oe of t.mutations){const He=Wf(e,oe.key.path,t.batchId);g.push(c.delete(He)),H.push(oe.key)}return Be.waitFor(g).next(()=>H)}function md(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw wn();e=i.noDocument}return JSON.stringify(e).length}No.DEFAULT_COLLECTION_PERCENTILE=10,No.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,No.DEFAULT=new No(41943040,No.DEFAULT_COLLECTION_PERCENTILE,No.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),No.DISABLED=new No(-1,0,0);class yd{constructor(e,t,o,c){this.userId=e,this.wt=t,this.indexManager=o,this.referenceDelegate=c,this.gn={}}static se(e,t,o,c){Rn(""!==e.uid);const g=e.isAuthenticated()?e.uid:"";return new yd(g,t,o,c)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return nl(e).J({index:"userMutationsIndex",range:o},(c,g,v)=>{t=!1,v.done()}).next(()=>t)}addMutationBatch(e,t,o,c){const g=gc(e),v=nl(e);return v.add({}).next(A=>{Rn("number"==typeof A);const V=new xh(A,t,o,c),H=function(vt,Pt,jt){const In=jt.baseMutations.map(ei=>En(vt.ne,ei)),Bn=jt.mutations.map(ei=>En(vt.ne,ei));return{userId:Pt,batchId:jt.batchId,localWriteTimeMs:jt.localWriteTime.toMillis(),baseMutations:In,mutations:Bn}}(this.wt,this.userId,V),oe=[];let He=new Wr((vt,Pt)=>gr(vt.canonicalString(),Pt.canonicalString()));for(const vt of c){const Pt=Wf(this.userId,vt.key.path,A);He=He.add(vt.key.path.popLast()),oe.push(v.put(H)),oe.push(g.put(Pt,qf))}return He.forEach(vt=>{oe.push(this.indexManager.addToCollectionParentIndex(e,vt))}),e.addOnCommittedListener(()=>{this.gn[A]=V.keys()}),Be.waitFor(oe).next(()=>V)})}lookupMutationBatch(e,t){return nl(e).get(t).next(o=>o?(Rn(o.userId===this.userId),el(this.wt,o)):null)}yn(e,t){return this.gn[t]?Be.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const c=o.keys();return this.gn[t]=c,c}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,c=IDBKeyRange.lowerBound([this.userId,o]);let g=null;return nl(e).J({index:"userMutationsIndex",range:c},(v,A,V)=>{A.userId===this.userId&&(Rn(A.batchId>=o),g=el(this.wt,A)),V.done()}).next(()=>g)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return nl(e).J({index:"userMutationsIndex",range:t,reverse:!0},(c,g,v)=>{o=g.batchId,v.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return nl(e).K("userMutationsIndex",t).next(o=>o.map(c=>el(this.wt,c)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=hd(this.userId,t.path),c=IDBKeyRange.lowerBound(o),g=[];return gc(e).J({range:c},(v,A,V)=>{const[H,oe,He]=v,vt=ka(oe);if(H===this.userId&&t.path.isEqual(vt))return nl(e).get(He).next(Pt=>{if(!Pt)throw wn();Rn(Pt.userId===this.userId),g.push(el(this.wt,Pt))});V.done()}).next(()=>g)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Wr(gr);const c=[];return t.forEach(g=>{const v=hd(this.userId,g.path),A=IDBKeyRange.lowerBound(v),V=gc(e).J({range:A},(H,oe,He)=>{const[vt,Pt,jt]=H,In=ka(Pt);vt===this.userId&&g.path.isEqual(In)?o=o.add(jt):He.done()});c.push(V)}),Be.waitFor(c).next(()=>this.pn(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,c=o.length+1,g=hd(this.userId,o),v=IDBKeyRange.lowerBound(g);let A=new Wr(gr);return gc(e).J({range:v},(V,H,oe)=>{const[He,vt,Pt]=V,jt=ka(vt);He===this.userId&&o.isPrefixOf(jt)?jt.length===c&&(A=A.add(Pt)):oe.done()}).next(()=>this.pn(e,A))}pn(e,t){const o=[],c=[];return t.forEach(g=>{c.push(nl(e).get(g).next(v=>{if(null===v)throw wn();Rn(v.userId===this.userId),o.push(el(this.wt,v))}))}),Be.waitFor(c).next(()=>o)}removeMutationBatch(e,t){return Ir(e.ee,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.In(t.batchId)}),Be.forEach(o,c=>this.referenceDelegate.markPotentiallyOrphaned(e,c))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Be.resolve();const o=IDBKeyRange.lowerBound([this.userId]),c=[];return gc(e).J({range:o},(g,v,A)=>{if(g[0]===this.userId){const V=ka(g[1]);c.push(V)}else A.done()}).next(()=>{Rn(0===c.length)})})}containsKey(e,t){return op(e,this.userId,t)}Tn(e){return ap(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function op(i,e,t){const o=hd(e,t.path),c=o[1],g=IDBKeyRange.lowerBound(o);let v=!1;return gc(i).J({range:g,H:!0},(A,V,H)=>{const[oe,He,vt]=A;oe===e&&He===c&&(v=!0),H.done()}).next(()=>v)}function nl(i){return Ws(i,"mutations")}function gc(i){return Ws(i,"documentMutations")}function ap(i){return Ws(i,"mutationQueues")}class Tl{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new Tl(0)}static Rn(){return new Tl(-1)}}class nm{constructor(e,t){this.referenceDelegate=e,this.wt=t}allocateTargetId(e){return this.bn(e).next(t=>{const o=new Tl(t.highestTargetId);return t.highestTargetId=o.next(),this.Pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(t=>Un.fromTimestamp(new ii(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.bn(e).next(c=>(c.highestListenSequenceNumber=t,o&&(c.lastRemoteSnapshotVersion=o.toTimestamp()),t>c.highestListenSequenceNumber&&(c.highestListenSequenceNumber=t),this.Pn(e,c)))}addTargetData(e,t){return this.vn(e,t).next(()=>this.bn(e).next(o=>(o.targetCount+=1,this.Vn(t,o),this.Pn(e,o))))}updateTargetData(e,t){return this.vn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>mc(e).delete(t.targetId)).next(()=>this.bn(e)).next(o=>(Rn(o.targetCount>0),o.targetCount-=1,this.Pn(e,o)))}removeTargets(e,t,o){let c=0;const g=[];return mc(e).J((v,A)=>{const V=Il(A);V.sequenceNumber<=t&&null===o.get(V.targetId)&&(c++,g.push(this.removeTargetData(e,V)))}).next(()=>Be.waitFor(g)).next(()=>c)}forEachTarget(e,t){return mc(e).J((o,c)=>{const g=Il(c);t(g)})}bn(e){return rm(e).get("targetGlobalKey").next(t=>(Rn(null!==t),t))}Pn(e,t){return rm(e).put("targetGlobalKey",t)}vn(e,t){return mc(e).put(tp(this.wt,t))}Vn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.bn(e).next(t=>t.targetCount)}getTargetData(e,t){const o=Oo(t),c=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let g=null;return mc(e).J({range:c,index:"queryTargetsIndex"},(v,A,V)=>{const H=Il(A);fl(t,H.target)&&(g=H,V.done())}).next(()=>g)}addMatchingKeys(e,t,o){const c=[],g=Sl(e);return t.forEach(v=>{const A=As(v.path);c.push(g.put({targetId:o,path:A})),c.push(this.referenceDelegate.addReference(e,o,v))}),Be.waitFor(c)}removeMatchingKeys(e,t,o){const c=Sl(e);return Be.forEach(t,g=>{const v=As(g.path);return Be.waitFor([c.delete([o,v]),this.referenceDelegate.removeReference(e,o,g)])})}removeMatchingKeysForTargetId(e,t){const o=Sl(e),c=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(c)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),c=Sl(e);let g=_r();return c.J({range:o,H:!0},(v,A,V)=>{const H=ka(v[1]),oe=new Xt(H);g=g.add(oe)}).next(()=>g)}containsKey(e,t){const o=As(t.path),c=IDBKeyRange.bound([o],[Za(o)],!1,!0);let g=0;return Sl(e).J({index:"documentTargetsIndex",H:!0,range:c},([v,A],V,H)=>{0!==v&&(g++,H.done())}).next(()=>g>0)}te(e,t){return mc(e).get(t).next(o=>o?Il(o):null)}}function mc(i){return Ws(i,"targets")}function rm(i){return Ws(i,"targetGlobal")}function Sl(i){return Ws(i,"targetDocuments")}function Fh([i,e],[t,o]){const c=gr(i,t);return 0===c?gr(e,o):c}class im{constructor(e){this.Sn=e,this.buffer=new Wr(Fh),this.Dn=0}Cn(){return++this.Dn}xn(e){const t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();Fh(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Zy{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var t=this;Ut("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,z.Z)(function*(){t.Nn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(o){oi(o)?Ut("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield ze(o)}yield t.kn(3e5)}))}}class sm{constructor(e,t){this.On=e,this.params=t}calculateTargetCount(e,t){return this.On.Mn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return Be.resolve(Ts.ot);const o=new im(t);return this.On.forEachTarget(e,c=>o.xn(c.sequenceNumber)).next(()=>this.On.Fn(e,c=>o.xn(c))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.On.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.On.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ut("LruGarbageCollector","Garbage collection skipped; disabled"),Be.resolve(tm)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Ut("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tm):this.$n(e,t))}getCacheSize(e){return this.On.getCacheSize(e)}$n(e,t){let o,c,g,v,A,V,H;const oe=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(He=>(He>this.params.maximumSequenceNumbersToCollect?(Ut("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${He}`),c=this.params.maximumSequenceNumbersToCollect):c=He,v=Date.now(),this.nthSequenceNumber(e,c))).next(He=>(o=He,A=Date.now(),this.removeTargets(e,o,t))).next(He=>(g=He,V=Date.now(),this.removeOrphanedDocuments(e,o))).next(He=>(H=Date.now(),Js()<=lt.in.DEBUG&&Ut("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${v-oe}ms\n\tDetermined least recently used ${c} in `+(A-v)+`ms\n\tRemoved ${g} targets in `+(V-A)+`ms\n\tRemoved ${He} documents in `+(H-V)+`ms\nTotal Duration: ${H-oe}ms`),Be.resolve({didRun:!0,sequenceNumbersCollected:c,targetsRemoved:g,documentsRemoved:He})))}}class om{constructor(e,t){this.db=e,this.garbageCollector=new sm(this,t)}Mn(e){const t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(c=>o+c))}Bn(e){let t=0;return this.Fn(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Fn(e,t){return this.Ln(e,(o,c)=>t(c))}addReference(e,t,o){return yc(e,o)}removeReference(e,t,o){return yc(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return yc(e,t)}Un(e,t){return function(o,c){let g=!1;return ap(o).Y(v=>op(o,v,c).next(A=>(A&&(g=!0),Be.resolve(!A)))).next(()=>g)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),c=[];let g=0;return this.Ln(e,(v,A)=>{if(A<=t){const V=this.Un(e,v).next(H=>{if(!H)return g++,o.getEntry(e,v).next(()=>(o.removeEntry(v,Un.min()),Sl(e).delete([0,As(v.path)])))});c.push(V)}}).next(()=>Be.waitFor(c)).next(()=>o.apply(e)).next(()=>g)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return yc(e,t)}Ln(e,t){const o=Sl(e);let c,g=Ts.ot;return o.J({index:"documentTargetsIndex"},([v,A],{path:V,sequenceNumber:H})=>{0===v?(g!==Ts.ot&&t(new Xt(ka(c)),g),g=H,c=V):g=Ts.ot}).next(()=>{g!==Ts.ot&&t(new Xt(ka(c)),g)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function yc(i,e){return Sl(i).put((o=i.currentSequenceNumber,{targetId:0,path:As(e.path),sequenceNumber:o}));var o}class Xy{constructor(){this.changes=new Pa(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,wi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?Be.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Qy{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return Jo(e).put(o)}removeEntry(e,t,o){return Jo(e).delete(function(c,g){const v=c.path.toArray();return[v.slice(0,v.length-2),v[v.length-2],Rh(g),v[v.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.qn(e,o)))}getEntry(e,t){let o=wi.newInvalidDocument(t);return Jo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(vd(t))},(c,g)=>{o=this.Kn(t,g)}).next(()=>o)}Gn(e,t){let o={size:0,document:wi.newInvalidDocument(t)};return Jo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(vd(t))},(c,g)=>{o={document:this.Kn(t,g),size:md(g)}}).next(()=>o)}getEntries(e,t){let o=Hs();return this.Qn(e,t,(c,g)=>{const v=this.Kn(c,g);o=o.insert(c,v)}).next(()=>o)}jn(e,t){let o=Hs(),c=new xi(Xt.comparator);return this.Qn(e,t,(g,v)=>{const A=this.Kn(g,v);o=o.insert(g,A),c=c.insert(g,md(v))}).next(()=>({documents:o,Wn:c}))}Qn(e,t,o){if(t.isEmpty())return Be.resolve();let c=new Wr(lp);t.forEach(V=>c=c.add(V));const g=IDBKeyRange.bound(vd(c.first()),vd(c.last())),v=c.getIterator();let A=v.getNext();return Jo(e).J({index:"documentKeyIndex",range:g},(V,H,oe)=>{const He=Xt.fromSegments([...H.prefixPath,H.collectionGroup,H.documentId]);for(;A&&lp(A,He)<0;)o(A,null),A=v.getNext();A&&A.isEqual(He)&&(o(A,H),A=v.hasNext()?v.getNext():null),A?oe.q(vd(A)):oe.done()}).next(()=>{for(;A;)o(A,null),A=v.hasNext()?v.getNext():null})}getAllFromCollection(e,t,o){const c=[t.popLast().toArray(),t.lastSegment(),Rh(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],g=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Jo(e).K(IDBKeyRange.bound(c,g,!0)).next(v=>{let A=Hs();for(const V of v){const H=this.Kn(Xt.fromSegments(V.prefixPath.concat(V.collectionGroup,V.documentId)),V);A=A.insert(H.key,H)}return A})}getAllFromCollectionGroup(e,t,o,c){let g=Hs();const v=Vh(t,o),A=Vh(t,M.max());return Jo(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(v,A,!0)},(V,H,oe)=>{const He=this.Kn(Xt.fromSegments(H.prefixPath.concat(H.collectionGroup,H.documentId)),H);g=g.insert(He.key,He),g.size===c&&oe.done()}).next(()=>g)}newChangeBuffer(e){return new am(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return up(e).get("remoteDocumentGlobalKey").next(t=>(Rn(!!t),t))}qn(e,t){return up(e).put("remoteDocumentGlobalKey",t)}Kn(e,t){if(t){const o=function Kg(i,e){let t;if(e.document)t=Ze(i.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=Xt.fromSegments(e.noDocument.path),c=Ju(e.noDocument.readTime);t=wi.newNoDocument(o,c),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return wn();{const o=Xt.fromSegments(e.unknownDocument.path),c=Ju(e.unknownDocument.version);t=wi.newUnknownDocument(o,c)}}return e.readTime&&t.setReadTime(function(o){const c=new ii(o[0],o[1]);return Un.fromTimestamp(c)}(e.readTime)),t}(this.wt,t);if(!o.isNoDocument()||!o.version.isEqual(Un.min()))return o}return wi.newInvalidDocument(e)}}function Lh(i){return new Qy(i)}class am extends Xy{constructor(e,t){super(),this.zn=e,this.trackRemovals=t,this.Hn=new Pa(o=>o.toString(),(o,c)=>o.isEqual(c))}applyChanges(e){const t=[];let o=0,c=new Wr((g,v)=>gr(g.canonicalString(),v.canonicalString()));return this.changes.forEach((g,v)=>{const A=this.Hn.get(g);if(t.push(this.zn.removeEntry(e,g,A.readTime)),v.isValidDocument()){const V=fd(this.zn.wt,v);c=c.add(g.path.popLast()),o+=md(V)-A.size,t.push(this.zn.addEntry(e,g,V))}else if(o-=A.size,this.trackRemovals){const V=fd(this.zn.wt,v.convertToNoDocument(Un.min()));t.push(this.zn.addEntry(e,g,V))}}),c.forEach(g=>{t.push(this.zn.indexManager.addToCollectionParentIndex(e,g))}),t.push(this.zn.updateMetadata(e,o)),Be.waitFor(t)}getFromCache(e,t){return this.zn.Gn(e,t).next(o=>(this.Hn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.zn.jn(e,t).next(({documents:o,Wn:c})=>(c.forEach((g,v)=>{this.Hn.set(g,{size:v,readTime:o.get(g).readTime})}),o))}}function up(i){return Ws(i,"remoteDocumentGlobal")}function Jo(i){return Ws(i,"remoteDocumentsV14")}function vd(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Vh(i,e){const t=e.documentKey.path.toArray();return[i,Rh(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function lp(i,e){const t=i.path.toArray(),o=e.path.toArray();let c=0;for(let g=0;g<t.length-2&&g<o.length-2;++g)if(c=gr(t[g],o[g]),c)return c;return c=gr(t.length,o.length),c||(c=gr(t[t.length-2],o[o.length-2]),c||gr(t[t.length-1],o[o.length-1]))}class cp{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class _d{constructor(e,t,o,c){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=c}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(c=>(o=c,this.getBaseDocument(e,t,o))).next(c=>(null!==o&&tu(o.mutation,c,R.empty(),ii.now()),c))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,_r()).next(()=>o))}getLocalViewOfDocuments(e,t,o=_r()){const c=Zo();return this.populateOverlays(e,c,t).next(()=>this.computeViews(e,t,c,o).next(g=>{let v=Gs();return g.forEach((A,V)=>{v=v.insert(A,V.overlayedDocument)}),v}))}getOverlayedDocuments(e,t){const o=Zo();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,_r()))}populateOverlays(e,t,o){const c=[];return o.forEach(g=>{t.has(g)||c.push(g)}),this.documentOverlayCache.getOverlays(e,c).next(g=>{g.forEach((v,A)=>{t.set(v,A)})})}computeViews(e,t,o,c){let g=Hs();const v=Yu(),A=Yu();return t.forEach((V,H)=>{const oe=o.get(H.key);c.has(H.key)&&(void 0===oe||oe.mutation instanceof Oa)?g=g.insert(H.key,H):void 0!==oe&&(v.set(H.key,oe.mutation.getFieldMask()),tu(oe.mutation,H,oe.mutation.getFieldMask(),ii.now()))}),this.recalculateAndSaveOverlays(e,g).next(V=>(V.forEach((H,oe)=>v.set(H,oe)),t.forEach((H,oe)=>{var He;return A.set(H,new cp(oe,null!==(He=v.get(H))&&void 0!==He?He:null))}),A))}recalculateAndSaveOverlays(e,t){const o=Yu();let c=new xi((v,A)=>v-A),g=_r();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(v=>{for(const A of v)A.keys().forEach(V=>{const H=t.get(V);if(null===H)return;let oe=o.get(V)||R.empty();oe=A.applyToLocalView(H,oe),o.set(V,oe);const He=(c.get(A.batchId)||_r()).add(V);c=c.insert(A.batchId,He)})}).next(()=>{const v=[],A=c.getReverseIterator();for(;A.hasNext();){const V=A.getNext(),H=V.key,oe=V.value,He=wh();oe.forEach(vt=>{if(!g.has(vt)){const Pt=Jl(t.get(vt),o.get(vt));null!==Pt&&He.set(vt,Pt),g=g.add(vt)}}),v.push(this.documentOverlayCache.saveOverlays(e,H,He))}return Be.waitFor(v)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o){return Xt.isDocumentKey((c=t).path)&&null===c.collectionGroup&&0===c.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):vl(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o):this.getDocumentsMatchingCollectionQuery(e,t,o);var c}getNextDocuments(e,t,o,c){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,c).next(g=>{const v=c-g.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,c-g.size):Be.resolve(Zo());let A=-1,V=g;return v.next(H=>Be.forEach(H,(oe,He)=>(A<He.largestBatchId&&(A=He.largestBatchId),g.get(oe)?Be.resolve():this.getBaseDocument(e,oe,He).next(vt=>{V=V.insert(oe,vt)}))).next(()=>this.populateOverlays(e,H,g)).next(()=>this.computeViews(e,V,H,_r())).next(oe=>({batchId:A,changes:qu(oe)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Xt(t)).next(o=>{let c=Gs();return o.isFoundDocument()&&(c=c.insert(o.key,o)),c})}getDocumentsMatchingCollectionGroupQuery(e,t,o){const c=t.collectionGroup;let g=Gs();return this.indexManager.getCollectionParents(e,c).next(v=>Be.forEach(v,A=>{const V=(H=t,oe=A.child(c),new xa(oe,null,H.explicitOrderBy.slice(),H.filters.slice(),H.limit,H.limitType,H.startAt,H.endAt));var H,oe;return this.getDocumentsMatchingCollectionQuery(e,V,o).next(H=>{H.forEach((oe,He)=>{g=g.insert(oe,He)})})}).next(()=>g))}getDocumentsMatchingCollectionQuery(e,t,o){let c;return this.remoteDocumentCache.getAllFromCollection(e,t.path,o).next(g=>(c=g,this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId))).next(g=>{g.forEach((A,V)=>{const H=V.getKey();null===c.get(H)&&(c=c.insert(H,wi.newInvalidDocument(H)))});let v=Gs();return c.forEach((A,V)=>{const H=g.get(A);void 0!==H&&tu(H.mutation,V,R.empty(),ii.now()),ha(t,V)&&(v=v.insert(A,V))}),v})}getBaseDocument(e,t,o){return null===o||1===o.mutation.type?this.remoteDocumentCache.getEntry(e,t):Be.resolve(wi.newInvalidDocument(t))}}class Jy{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return Be.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var o;return this.Jn.set(t.id,{id:(o=t).id,version:o.version,createTime:Os(o.createTime)}),Be.resolve()}getNamedQuery(e,t){return Be.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,{name:(o=t).name,query:lc(o.bundledQuery),readTime:Os(o.readTime)}),Be.resolve();var o}}class dp{constructor(){this.overlays=new xi(Xt.comparator),this.Xn=new Map}getOverlay(e,t){return Be.resolve(this.overlays.get(t))}getOverlays(e,t){const o=Zo();return Be.forEach(t,c=>this.getOverlay(e,c).next(g=>{null!==g&&o.set(c,g)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((c,g)=>{this.ie(e,t,g)}),Be.resolve()}removeOverlaysForBatchId(e,t,o){const c=this.Xn.get(o);return void 0!==c&&(c.forEach(g=>this.overlays=this.overlays.remove(g)),this.Xn.delete(o)),Be.resolve()}getOverlaysForCollection(e,t,o){const c=Zo(),g=t.length+1,v=new Xt(t.child("")),A=this.overlays.getIteratorFrom(v);for(;A.hasNext();){const V=A.getNext().value,H=V.getKey();if(!t.isPrefixOf(H.path))break;H.path.length===g&&V.largestBatchId>o&&c.set(V.getKey(),V)}return Be.resolve(c)}getOverlaysForCollectionGroup(e,t,o,c){let g=new xi((H,oe)=>H-oe);const v=this.overlays.getIterator();for(;v.hasNext();){const H=v.getNext().value;if(H.getKey().getCollectionGroup()===t&&H.largestBatchId>o){let oe=g.get(H.largestBatchId);null===oe&&(oe=Zo(),g=g.insert(H.largestBatchId,oe)),oe.set(H.getKey(),H)}}const A=Zo(),V=g.getIterator();for(;V.hasNext()&&(V.getNext().value.forEach((H,oe)=>A.set(H,oe)),!(A.size()>=c)););return Be.resolve(A)}ie(e,t,o){const c=this.overlays.get(o.key);if(null!==c){const v=this.Xn.get(c.largestBatchId).delete(o.key);this.Xn.set(c.largestBatchId,v)}this.overlays=this.overlays.insert(o.key,new Mh(t,o));let g=this.Xn.get(t);void 0===g&&(g=_r(),this.Xn.set(t,g)),this.Xn.set(t,g.add(o.key))}}class Ed{constructor(){this.Zn=new Wr(ms.ts),this.es=new Wr(ms.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const o=new ms(e,t);this.Zn=this.Zn.add(o),this.es=this.es.add(o)}ss(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.rs(new ms(e,t))}os(e,t){e.forEach(o=>this.removeReference(o,t))}us(e){const t=new Xt(new Sr([])),o=new ms(t,e),c=new ms(t,e+1),g=[];return this.es.forEachInRange([o,c],v=>{this.rs(v),g.push(v.key)}),g}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new Xt(new Sr([])),o=new ms(t,e),c=new ms(t,e+1);let g=_r();return this.es.forEachInRange([o,c],v=>{g=g.add(v.key)}),g}containsKey(e){const t=new ms(e,0),o=this.Zn.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class ms{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return Xt.comparator(e.key,t.key)||gr(e.ls,t.ls)}static ns(e,t){return gr(e.ls,t.ls)||Xt.comparator(e.key,t.key)}}class um{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new Wr(ms.ts)}checkEmpty(e){return Be.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,o,c){const g=this.fs;this.fs++;const v=new xh(g,t,o,c);this.mutationQueue.push(v);for(const A of c)this.ds=this.ds.add(new ms(A.key,g)),this.indexManager.addToCollectionParentIndex(e,A.key.path.popLast());return Be.resolve(v)}lookupMutationBatch(e,t){return Be.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const c=this.ws(t+1),g=c<0?0:c;return Be.resolve(this.mutationQueue.length>g?this.mutationQueue[g]:null)}getHighestUnacknowledgedBatchId(){return Be.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return Be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new ms(t,0),c=new ms(t,Number.POSITIVE_INFINITY),g=[];return this.ds.forEachInRange([o,c],v=>{const A=this._s(v.ls);g.push(A)}),Be.resolve(g)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Wr(gr);return t.forEach(c=>{const g=new ms(c,0),v=new ms(c,Number.POSITIVE_INFINITY);this.ds.forEachInRange([g,v],A=>{o=o.add(A.ls)})}),Be.resolve(this.gs(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,c=o.length+1;let g=o;Xt.isDocumentKey(g)||(g=g.child(""));const v=new ms(new Xt(g),0);let A=new Wr(gr);return this.ds.forEachWhile(V=>{const H=V.key.path;return!!o.isPrefixOf(H)&&(H.length===c&&(A=A.add(V.ls)),!0)},v),Be.resolve(this.gs(A))}gs(e){const t=[];return e.forEach(o=>{const c=this._s(o);null!==c&&t.push(c)}),t}removeMutationBatch(e,t){Rn(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let o=this.ds;return Be.forEach(t.mutations,c=>{const g=new ms(c.key,t.batchId);return o=o.delete(g),this.referenceDelegate.markPotentiallyOrphaned(e,c.key)}).next(()=>{this.ds=o})}In(e){}containsKey(e,t){const o=new ms(t,0),c=this.ds.firstAfterOrEqual(o);return Be.resolve(t.isEqual(c&&c.key))}performConsistencyCheck(e){return Be.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class hp{constructor(e){this.ps=e,this.docs=new xi(Xt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,c=this.docs.get(o),g=c?c.size:0,v=this.ps(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:v}),this.size+=v-g,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return Be.resolve(o?o.document.mutableCopy():wi.newInvalidDocument(t))}getEntries(e,t){let o=Hs();return t.forEach(c=>{const g=this.docs.get(c);o=o.insert(c,g?g.document.mutableCopy():wi.newInvalidDocument(c))}),Be.resolve(o)}getAllFromCollection(e,t,o){let c=Hs();const g=new Xt(t.child("")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:A,value:{document:V}}=v.getNext();if(!t.isPrefixOf(A.path))break;A.path.length>t.length+1||B(I(V),o)<=0||(c=c.insert(V.key,V.mutableCopy()))}return Be.resolve(c)}getAllFromCollectionGroup(e,t,o,c){wn()}Is(e,t){return Be.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new ev(this)}getSize(e){return Be.resolve(this.size)}}class ev extends Xy{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((o,c)=>{c.isValidDocument()?t.push(this.zn.addEntry(e,c)):this.zn.removeEntry(o)}),Be.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class tv{constructor(e){this.persistence=e,this.Ts=new Pa(t=>Oo(t),fl),this.lastRemoteSnapshotVersion=Un.min(),this.highestTargetId=0,this.Es=0,this.As=new Ed,this.targetCount=0,this.Rs=Tl.An()}forEachTarget(e,t){return this.Ts.forEach((o,c)=>t(c)),Be.resolve()}getLastRemoteSnapshotVersion(e){return Be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Be.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),Be.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.Es&&(this.Es=t),Be.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new Tl(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,Be.resolve()}updateTargetData(e,t){return this.vn(t),Be.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,Be.resolve()}removeTargets(e,t,o){let c=0;const g=[];return this.Ts.forEach((v,A)=>{A.sequenceNumber<=t&&null===o.get(A.targetId)&&(this.Ts.delete(v),g.push(this.removeMatchingKeysForTargetId(e,A.targetId)),c++)}),Be.waitFor(g).next(()=>c)}getTargetCount(e){return Be.resolve(this.targetCount)}getTargetData(e,t){const o=this.Ts.get(t)||null;return Be.resolve(o)}addMatchingKeys(e,t,o){return this.As.ss(t,o),Be.resolve()}removeMatchingKeys(e,t,o){this.As.os(t,o);const c=this.persistence.referenceDelegate,g=[];return c&&t.forEach(v=>{g.push(c.markPotentiallyOrphaned(e,v))}),Be.waitFor(g)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),Be.resolve()}getMatchingKeysForTargetId(e,t){const o=this.As.hs(t);return Be.resolve(o)}containsKey(e,t){return Be.resolve(this.As.containsKey(t))}}class fp{constructor(e,t){this.bs={},this.overlays={},this.Ps=new Ts(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new tv(this),this.indexManager=new Na,this.remoteDocumentCache=new hp(o=>this.referenceDelegate.Ss(o)),this.wt=new Yg(t),this.Ds=new Jy(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new dp,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.bs[e.toKey()];return o||(o=new um(t,this.referenceDelegate),this.bs[e.toKey()]=o),o}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,o){Ut("MemoryPersistence","Starting transaction:",e);const c=new vc(this.Ps.next());return this.referenceDelegate.Cs(),o(c).next(g=>this.referenceDelegate.xs(c).next(()=>g)).toPromise().then(g=>(c.raiseOnCommittedEvent(),g))}Ns(e,t){return Be.or(Object.values(this.bs).map(o=>()=>o.containsKey(e,t)))}}class vc extends Te{constructor(e){super(),this.currentSequenceNumber=e}}class Bh{constructor(e){this.persistence=e,this.ks=new Ed,this.Os=null}static Ms(e){return new Bh(e)}get Fs(){if(this.Os)return this.Os;throw wn()}addReference(e,t,o){return this.ks.addReference(o,t),this.Fs.delete(o.toString()),Be.resolve()}removeReference(e,t,o){return this.ks.removeReference(o,t),this.Fs.add(o.toString()),Be.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),Be.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(c=>this.Fs.add(c.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(c=>{c.forEach(g=>this.Fs.add(g.toString()))}).next(()=>o.removeTargetData(e,t))}Cs(){this.Os=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Be.forEach(this.Fs,o=>{const c=Xt.fromPath(o);return this.$s(e,c).next(g=>{g||t.removeEntry(c,Un.min())})}).next(()=>(this.Os=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(o=>{o?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return Be.or([()=>Be.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class nv{constructor(e){this.wt=e}O(e,t,o,c){const g=new nr("createOrUpgrade",t);var A;o<1&&c>=1&&(e.createObjectStore("owner"),(A=e).createObjectStore("mutationQueues",{keyPath:"userId"}),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ac,{unique:!0}),A.createObjectStore("documentMutations"),lm(e),function(A){A.createObjectStore("remoteDocuments")}(e));let v=Be.resolve();return o<3&&c>=3&&(0!==o&&(function(A){A.deleteObjectStore("targetDocuments"),A.deleteObjectStore("targets"),A.deleteObjectStore("targetGlobal")}(e),lm(e)),v=v.next(()=>function(A){const V=A.store("targetGlobal"),H={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Un.min().toTimestamp(),targetCount:0};return V.put("targetGlobalKey",H)}(g))),o<4&&c>=4&&(0!==o&&(v=v.next(()=>function(A,V){return V.store("mutations").K().next(H=>{A.deleteObjectStore("mutations"),A.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",ac,{unique:!0});const oe=V.store("mutations"),He=H.map(vt=>oe.put(vt));return Be.waitFor(He)})}(e,g))),v=v.next(()=>{!function(A){A.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&c>=5&&(v=v.next(()=>this.Bs(g))),o<6&&c>=6&&(v=v.next(()=>(function(A){A.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(g)))),o<7&&c>=7&&(v=v.next(()=>this.Us(g))),o<8&&c>=8&&(v=v.next(()=>this.qs(e,g))),o<9&&c>=9&&(v=v.next(()=>{!function(A){A.objectStoreNames.contains("remoteDocumentChanges")&&A.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&c>=10&&(v=v.next(()=>this.Ks(g))),o<11&&c>=11&&(v=v.next(()=>{(function(A){A.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(A){A.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&c>=12&&(v=v.next(()=>{!function(A){const V=A.createObjectStore("documentOverlays",{keyPath:Hy});V.createIndex("collectionPathOverlayIndex",Gy,{unique:!1}),V.createIndex("collectionGroupOverlayIndex",zy,{unique:!1})}(e)})),o<13&&c>=13&&(v=v.next(()=>function(A){const V=A.createObjectStore("remoteDocumentsV14",{keyPath:Yf});V.createIndex("documentKeyIndex",Wg),V.createIndex("collectionGroupIndex",t0)}(e)).next(()=>this.Gs(e,g)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&c>=14&&(v=v.next(()=>this.Qs(e,g))),o<15&&c>=15&&(v=v.next(()=>function(A){A.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),A.createObjectStore("indexState",{keyPath:Zf}).createIndex("sequenceNumberIndex",$y,{unique:!1}),A.createObjectStore("indexEntries",{keyPath:Uy}).createIndex("documentKeyIndex",jy,{unique:!1})}(e))),v}Ls(e){let t=0;return e.store("remoteDocuments").J((o,c)=>{t+=md(c)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Bs(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.K().next(c=>Be.forEach(c,g=>{const v=IDBKeyRange.bound([g.userId,-1],[g.userId,g.lastAcknowledgedBatchId]);return o.K("userMutationsIndex",v).next(A=>Be.forEach(A,V=>{Rn(V.userId===g.userId);const H=el(this.wt,V);return Ir(e,g.userId,H).next(()=>{})}))}))}Us(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(c=>{const g=[];return o.J((v,A)=>{const V=new Sr(v),H=[0,As(V)];g.push(t.get(H).next(oe=>oe?Be.resolve():t.put({targetId:0,path:As(V),sequenceNumber:c.highestListenSequenceNumber})))}).next(()=>Be.waitFor(g))})}qs(e,t){e.createObjectStore("collectionParents",{keyPath:By});const o=t.store("collectionParents"),c=new sp,g=v=>{if(c.add(v)){const A=v.lastSegment(),V=v.popLast();return o.put({collectionId:A,parent:As(V)})}};return t.store("remoteDocuments").J({H:!0},(v,A)=>{const V=new Sr(v);return g(V.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([v,A,V],H)=>{const oe=ka(A);return g(oe.popLast())}))}Ks(e){const t=e.store("targets");return t.J((o,c)=>{const g=Il(c),v=tp(this.wt,g);return t.put(v)})}Gs(e,t){const o=t.store("remoteDocuments"),c=[];return o.J((g,v)=>{const A=t.store("remoteDocumentsV14"),V=(H=v,H.document?new Xt(Sr.fromString(H.document.name).popFirst(5)):H.noDocument?Xt.fromSegments(H.noDocument.path):H.unknownDocument?Xt.fromSegments(H.unknownDocument.path):wn()).path.toArray();var H;const oe={prefixPath:V.slice(0,V.length-2),collectionGroup:V[V.length-2],documentId:V[V.length-1],readTime:v.readTime||[0,0],unknownDocument:v.unknownDocument,noDocument:v.noDocument,document:v.document,hasCommittedMutations:!!v.hasCommittedMutations};c.push(A.put(oe))}).next(()=>Be.waitFor(c))}Qs(e,t){const o=t.store("mutations"),c=Lh(this.wt),g=new fp(Bh.Ms,this.wt.ne);return o.K().next(v=>{const A=new Map;return v.forEach(V=>{var H;let oe=null!==(H=A.get(V.userId))&&void 0!==H?H:_r();el(this.wt,V).keys().forEach(He=>oe=oe.add(He)),A.set(V.userId,oe)}),Be.forEach(A,(V,H)=>{const oe=new Vi(H),He=kh.se(this.wt,oe),vt=g.getIndexManager(oe),Pt=yd.se(oe,this.wt,vt,g.referenceDelegate);return new _d(c,Pt,He,vt).recalculateAndSaveOverlaysForDocumentKeys(new ep(t,Ts.ot),V).next()})})}}function lm(i){i.createObjectStore("targetDocuments",{keyPath:Kf}).createIndex("documentTargetsIndex",qg,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",uc,{unique:!0}),i.createObjectStore("targetGlobal")}const pp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class bd{constructor(e,t,o,c,g,v,A,V,H,oe,He=14){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.js=g,this.window=v,this.document=A,this.Ws=H,this.zs=oe,this.Hs=He,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=vt=>Promise.resolve(),!bd.V())throw new Ot(wt.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new om(this,c),this.ei=t+"main",this.wt=new Yg(V),this.ni=new dn(this.ei,this.Hs,new nv(this.wt)),this.Vs=new nm(this.referenceDelegate,this.wt),this.remoteDocumentCache=Lh(this.wt),this.Ds=new Zg,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===oe&&Ei("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ot(wt.FAILED_PRECONDITION,pp);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new Ts(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var t=this;return this.ti=function(){var o=(0,z.Z)(function*(c){if(t.started)return e(c)});return function(c){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var t=(0,z.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,z.Z)(function*(){t.started&&(yield t.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>wd(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(t=>{t||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(t=>this.isPrimary&&!t?this.li(e).next(()=>!1):!!t&&this.fi(e).next(()=>!0))).catch(e=>{if(oi(e))return Ut("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ut("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return _c(e).get("owner").next(t=>Be.resolve(this.di(t)))}_i(e){return wd(e).delete(this.clientId)}wi(){var e=this;return(0,z.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const c=Ws(o,"clientMetadata");return c.K().next(g=>{const v=e.gi(g,18e5),A=g.filter(V=>-1===v.indexOf(V));return Be.forEach(A,V=>c.delete(V.clientId)).next(()=>A)})}).catch(()=>[]);if(e.si)for(const o of t)e.si.removeItem(e.yi(o.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?Be.resolve(!0):_c(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)){if(this.di(t)&&this.networkEnabled)return!0;if(!this.di(t)){if(!t.allowTabSynchronization)throw new Ot(wt.FAILED_PRECONDITION,pp);return!1}}return!(!this.networkEnabled||!this.inForeground)||wd(e).K().next(o=>void 0===this.gi(o,5e3).find(c=>{if(this.clientId!==c.clientId){const v=!this.inForeground&&c.inForeground,A=this.networkEnabled===c.networkEnabled;if(!this.networkEnabled&&c.networkEnabled||v&&A)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Ut("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,z.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new ep(t,Ts.ot);return e.li(o).next(()=>e._i(o))}),e.ni.close(),e.Ai()})()}gi(e,t){return e.filter(o=>this.mi(o.updateTimeMs,t)&&!this.pi(o.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>wd(e).K().next(t=>this.gi(t,18e5).map(o=>o.clientId)))}get started(){return this.vs}getMutationQueue(e,t){return yd.se(e,this.wt,t,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Ky(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return kh.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,t,o){Ut("IndexedDbPersistence","Starting transaction:",e);const c="readonly"===t?"readonly":"readwrite",g=15===(v=this.Hs)?Wy:14===v?Ah:13===v?Jf:12===v?Qf:11===v?Xf:void wn();var v;let A;return this.ni.runTransaction(e,c,g,V=>(A=new ep(V,this.Ps?this.Ps.next():Ts.ot),"readwrite-primary"===t?this.ai(A).next(H=>!!H||this.hi(A)).next(H=>{if(!H)throw Ei(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new Ot(wt.FAILED_PRECONDITION,J);return o(A)}).next(H=>this.fi(A).next(()=>H)):this.bi(A).next(()=>o(A)))).then(V=>(A.raiseOnCommittedEvent(),V))}bi(e){return _c(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)&&!this.di(t)&&!(this.zs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Ot(wt.FAILED_PRECONDITION,pp)})}fi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return _c(e).put("owner",t)}static V(){return dn.V()}li(e){const t=_c(e);return t.get("owner").next(o=>this.di(o)?(Ut("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):Be.resolve())}mi(e,t){const o=Date.now();return!(e<o-t||e>o&&(Ei(`Detected an update time that is in the future: ${e} > ${o}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,ke.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var t;try{const o=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return Ut("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Ei("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){Ei("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch{}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function _c(i){return Ws(i,"owner")}function wd(i){return Ws(i,"clientMetadata")}function ga(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class gp{constructor(e,t,o,c){this.targetId=e,this.fromCache=t,this.Pi=o,this.vi=c}static Vi(e,t){let o=_r(),c=_r();for(const g of t.docChanges)switch(g.type){case 0:o=o.add(g.doc.key);break;case 1:c=c.add(g.doc.key)}return new gp(e,t.fromCache,o,c)}}class $h{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,o,c){return this.Ci(e,t).next(g=>g||this.xi(e,t,c,o)).next(g=>g||this.Ni(e,t))}Ci(e,t){return Be.resolve(null)}xi(e,t,o,c){return function ml(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}(t)||c.isEqual(Un.min())?this.Ni(e,t):this.Di.getDocuments(e,o).next(g=>{const v=this.ki(t,g);return this.Oi(t,v,o,c)?this.Ni(e,t):(Js()<=lt.in.DEBUG&&Ut("QueryEngine","Re-using previous result from %s to execute query: %s",c.toString(),ed(t)),this.Mi(e,v,t,D(c,-1)))})}ki(e,t){let o=new Wr(gh(e));return t.forEach((c,g)=>{ha(e,g)&&(o=o.add(g))}),o}Oi(e,t,o,c){if(null===e.limit)return!1;if(o.size!==t.size)return!0;const g="F"===e.limitType?t.last():t.first();return!!g&&(g.hasPendingWrites||g.version.compareTo(c)>0)}Ni(e,t){return Js()<=lt.in.DEBUG&&Ut("QueryEngine","Using full collection scan to execute query:",ed(t)),this.Di.getDocumentsMatchingQuery(e,t,M.min())}Mi(e,t,o,c){return this.Di.getDocumentsMatchingQuery(e,o,c).next(g=>(t.forEach(v=>{g=g.insert(v.key,v)}),g))}}class mp{constructor(e,t,o,c){this.persistence=e,this.Fi=t,this.wt=c,this.$i=new xi(gr),this.Bi=new Pa(g=>Oo(g),fl),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(o)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _d(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function cm(i,e,t,o){return new mp(i,e,t,o)}function rv(i,e){return dm.apply(this,arguments)}function dm(){return dm=(0,z.Z)(function*(i,e){const t=en(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let c;return t.mutationQueue.getAllMutationBatches(o).next(g=>(c=g,t.qi(e),t.mutationQueue.getAllMutationBatches(o))).next(g=>{const v=[],A=[];let V=_r();for(const H of c){v.push(H.batchId);for(const oe of H.mutations)V=V.add(oe.key)}for(const H of g){A.push(H.batchId);for(const oe of H.mutations)V=V.add(oe.key)}return t.localDocuments.getDocuments(o,V).next(H=>({Ki:H,removedBatchIds:v,addedBatchIds:A}))})})}),dm.apply(this,arguments)}function r0(i,e){const t=en(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const c=e.batch.keys(),g=t.Ui.newChangeBuffer({trackRemovals:!0});return function(v,A,V,H){const oe=V.batch,He=oe.keys();let vt=Be.resolve();return He.forEach(Pt=>{vt=vt.next(()=>H.getEntry(A,Pt)).next(jt=>{const In=V.docVersions.get(Pt);Rn(null!==In),jt.version.compareTo(In)<0&&(oe.applyToRemoteDocument(jt,V),jt.isValidDocument()&&(jt.setReadTime(V.commitVersion),H.addEntry(jt)))})}),vt.next(()=>v.mutationQueue.removeMutationBatch(A,oe))}(t,o,e,g).next(()=>g.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,c,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(v){let A=_r();for(let V=0;V<v.mutationResults.length;++V)v.mutationResults[V].transformResults.length>0&&(A=A.add(v.batch.mutations[V].key));return A}(e))).next(()=>t.localDocuments.getDocuments(o,c))})}function hm(i){const e=en(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Vs.getLastRemoteSnapshotVersion(t))}function fm(i,e){const t=en(i),o=e.snapshotVersion;let c=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",g=>{const v=t.Ui.newChangeBuffer({trackRemovals:!0});c=t.$i;const A=[];e.targetChanges.forEach((oe,He)=>{const vt=c.get(He);if(!vt)return;A.push(t.Vs.removeMatchingKeys(g,oe.removedDocuments,He).next(()=>t.Vs.addMatchingKeys(g,oe.addedDocuments,He)));let Pt=vt.withSequenceNumber(g.currentSequenceNumber);var jt,In,Bn;e.targetMismatches.has(He)?Pt=Pt.withResumeToken(W.EMPTY_BYTE_STRING,Un.min()).withLastLimboFreeSnapshotVersion(Un.min()):oe.resumeToken.approximateByteSize()>0&&(Pt=Pt.withResumeToken(oe.resumeToken,o)),c=c.insert(He,Pt),In=Pt,Bn=oe,(0===(jt=vt).resumeToken.approximateByteSize()||In.snapshotVersion.toMicroseconds()-jt.snapshotVersion.toMicroseconds()>=3e8||Bn.addedDocuments.size+Bn.modifiedDocuments.size+Bn.removedDocuments.size>0)&&A.push(t.Vs.updateTargetData(g,Pt))});let V=Hs(),H=_r();if(e.documentUpdates.forEach(oe=>{e.resolvedLimboDocuments.has(oe)&&A.push(t.persistence.referenceDelegate.updateLimboDocument(g,oe))}),A.push(iv(g,v,e.documentUpdates).next(oe=>{V=oe.Gi,H=oe.Qi})),!o.isEqual(Un.min())){const oe=t.Vs.getLastRemoteSnapshotVersion(g).next(He=>t.Vs.setTargetsMetadata(g,g.currentSequenceNumber,o));A.push(oe)}return Be.waitFor(A).next(()=>v.apply(g)).next(()=>t.localDocuments.getLocalViewOfDocuments(g,V,H)).next(()=>V)}).then(g=>(t.$i=c,g))}function iv(i,e,t){let o=_r(),c=_r();return t.forEach(g=>o=o.add(g)),e.getEntries(i,o).next(g=>{let v=Hs();return t.forEach((A,V)=>{const H=g.get(A);V.isFoundDocument()!==H.isFoundDocument()&&(c=c.add(A)),V.isNoDocument()&&V.version.isEqual(Un.min())?(e.removeEntry(A,V.readTime),v=v.insert(A,V)):!H.isValidDocument()||V.version.compareTo(H.version)>0||0===V.version.compareTo(H.version)&&H.hasPendingWrites?(e.addEntry(V),v=v.insert(A,V)):Ut("LocalStore","Ignoring outdated watch update for ",A,". Current version:",H.version," Watch version:",V.version)}),{Gi:v,Qi:c}})}function sv(i,e){const t=en(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function Fa(i,e){const t=en(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let c;return t.Vs.getTargetData(o,e).next(g=>g?(c=g,Be.resolve(c)):t.Vs.allocateTargetId(o).next(v=>(c=new wu(e,v,0,o.currentSequenceNumber),t.Vs.addTargetData(o,c).next(()=>c))))}).then(o=>{const c=t.$i.get(o.targetId);return(null===c||o.snapshotVersion.compareTo(c.snapshotVersion)>0)&&(t.$i=t.$i.insert(o.targetId,o),t.Bi.set(e,o.targetId)),o})}function Ec(i,e,t){return Uh.apply(this,arguments)}function Uh(){return Uh=(0,z.Z)(function*(i,e,t){const o=en(i),c=o.$i.get(e),g=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",g,v=>o.persistence.referenceDelegate.removeTarget(v,c)))}catch(v){if(!oi(v))throw v;Ut("LocalStore",`Failed to update sequence numbers for target ${e}: ${v}`)}o.$i=o.$i.remove(e),o.Bi.delete(c.target)}),Uh.apply(this,arguments)}function Al(i,e,t){const o=en(i);let c=Un.min(),g=_r();return o.persistence.runTransaction("Execute query","readonly",v=>function(A,V,H){const oe=en(A),He=oe.Bi.get(H);return void 0!==He?Be.resolve(oe.$i.get(He)):oe.Vs.getTargetData(V,H)}(o,v,Po(e)).next(A=>{if(A)return c=A.lastLimboFreeSnapshotVersion,o.Vs.getMatchingKeysForTargetId(v,A.targetId).next(V=>{g=V})}).next(()=>o.Fi.getDocumentsMatchingQuery(v,e,t?c:Un.min(),t?g:_r())).next(A=>(gm(o,Ja(e),A),{documents:A,ji:g})))}function pm(i,e){const t=en(i),o=en(t.Vs),c=t.$i.get(e);return c?Promise.resolve(c.target):t.persistence.runTransaction("Get target data","readonly",g=>o.te(g,e).next(v=>v?v.target:null))}function yp(i,e){const t=en(i),o=t.Li.get(e)||Un.min();return t.persistence.runTransaction("Get new document changes","readonly",c=>t.Ui.getAllFromCollectionGroup(c,e,D(o,-1),Number.MAX_SAFE_INTEGER)).then(c=>(gm(t,e,c),c))}function gm(i,e,t){let o=Un.min();t.forEach((c,g)=>{g.readTime.compareTo(o)>0&&(o=g.readTime)}),i.Li.set(e,o)}function vp(){return vp=(0,z.Z)(function*(i,e,t,o){const c=en(i);let g=_r(),v=Hs();for(const H of t){const oe=e.Wi(H.metadata.name);H.document&&(g=g.add(oe));const He=e.zi(H);He.setReadTime(e.Hi(H.metadata.readTime)),v=v.insert(oe,He)}const A=c.Ui.newChangeBuffer({trackRemovals:!0}),V=yield Fa(c,(H=o,Po(Ma(Sr.fromString(`__bundle__/docs/${H}`)))));var H;return c.persistence.runTransaction("Apply bundle documents","readwrite",H=>iv(H,A,v).next(oe=>(A.apply(H),oe)).next(oe=>c.Vs.removeMatchingKeysForTargetId(H,V.targetId).next(()=>c.Vs.addMatchingKeys(H,g,V.targetId)).next(()=>c.localDocuments.getLocalViewOfDocuments(H,oe.Gi,oe.Qi)).next(()=>oe.Gi)))}),vp.apply(this,arguments)}function av(i,e){return _p.apply(this,arguments)}function _p(){return _p=(0,z.Z)(function*(i,e,t=_r()){const o=yield Fa(i,Po(lc(e.bundledQuery))),c=en(i);return c.persistence.runTransaction("Save named query","readwrite",g=>{const v=Os(e.readTime);if(o.snapshotVersion.compareTo(v)>=0)return c.Ds.saveNamedQuery(g,e);const A=o.withResumeToken(W.EMPTY_BYTE_STRING,v);return c.$i=c.$i.insert(A.targetId,A),c.Vs.updateTargetData(g,A).next(()=>c.Vs.removeMatchingKeysForTargetId(g,o.targetId)).next(()=>c.Vs.addMatchingKeys(g,t,o.targetId)).next(()=>c.Ds.saveNamedQuery(g,e))})}),_p.apply(this,arguments)}function Ep(i,e){return`firestore_clients_${i}_${e}`}function mm(i,e,t){let o=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function jh(i,e){return`firestore_targets_${i}_${e}`}class Id{constructor(e,t,o,c){this.user=e,this.batchId=t,this.state=o,this.error=c}static Ji(e,t,o){const c=JSON.parse(o);let g,v="object"==typeof c&&-1!==["pending","acknowledged","rejected"].indexOf(c.state)&&(void 0===c.error||"object"==typeof c.error);return v&&c.error&&(v="string"==typeof c.error.message&&"string"==typeof c.error.code,v&&(g=new Ot(c.error.code,c.error.message))),v?new Id(e,t,c.state,g):(Ei("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class xl{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static Ji(e,t){const o=JSON.parse(t);let c,g="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return g&&o.error&&(g="string"==typeof o.error.message&&"string"==typeof o.error.code,g&&(c=new Ot(o.error.code,o.error.message))),g?new xl(e,o.state,c):(Ei("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class bp{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const o=JSON.parse(t);let c="object"==typeof o&&o.activeTargetIds instanceof Array,g=Eo();for(let v=0;c&&v<o.activeTargetIds.length;++v)c=Ro(o.activeTargetIds[v]),g=g.add(o.activeTargetIds[v]);return c?new bp(e,g):(Ei("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Dd{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Dd(t.clientId,t.onlineState):(Ei("SharedClientState",`Failed to parse online state: ${e}`),null)}}class wp{constructor(){this.activeTargetIds=Eo()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ym{constructor(e,t,o,c,g){this.window=e,this.js=t,this.persistenceKey=o,this.tr=c,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new xi(gr),this.started=!1,this.ir=[];const v=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=g,this.rr=Ep(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new wp),this.cr=new RegExp(`^firestore_clients_${v}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${v}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${v}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(A){return`firestore_bundle_loaded_v2_${A}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,z.Z)(function*(){const t=yield e.syncEngine.Ri();for(const c of t){if(c===e.tr)continue;const g=e.getItem(Ep(e.persistenceKey,c));if(g){const v=bp.Ji(c,g);v&&(e.sr=e.sr.insert(v.clientId,v))}}e._r();const o=e.storage.getItem(e.lr);if(o){const c=e.wr(o);c&&e.mr(c)}for(const c of e.ir)e.nr(c);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((o,c)=>{c.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,o){this.yr(e,t,o),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(jh(this.persistenceKey,e));if(o){const c=xl.Ji(e,o);c&&(t=c.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(jh(this.persistenceKey,e))}updateQueryState(e,t,o){this.Tr(e,t,o)}handleUserChange(e,t,o){t.forEach(c=>{this.pr(c)}),this.currentUser=e,o.forEach(c=>{this.addPendingMutation(c)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ut("SharedClientState","READ",e,t),t}setItem(e,t){Ut("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ut("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(Ut("SharedClientState","EVENT",o.key,o.newValue),o.key===this.rr)return void Ei("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,z.Z)(function*(){if(t.started){if(null!==o.key)if(t.cr.test(o.key)){if(null==o.newValue){const c=t.Rr(o.key);return t.br(c,null)}{const c=t.Pr(o.key,o.newValue);if(c)return t.br(c.clientId,c)}}else if(t.ar.test(o.key)){if(null!==o.newValue){const c=t.vr(o.key,o.newValue);if(c)return t.Vr(c)}}else if(t.hr.test(o.key)){if(null!==o.newValue){const c=t.Sr(o.key,o.newValue);if(c)return t.Dr(c)}}else if(o.key===t.lr){if(null!==o.newValue){const c=t.wr(o.newValue);if(c)return t.mr(c)}}else if(o.key===t.ur){const c=function(g){let v=Ts.ot;if(null!=g)try{const A=JSON.parse(g);Rn("number"==typeof A),v=A}catch(A){Ei("SharedClientState","Failed to read sequence number from WebStorage",A)}return v}(o.newValue);c!==Ts.ot&&t.sequenceNumberHandler(c)}else if(o.key===t.dr){const c=t.Cr(o.newValue);yield Promise.all(c.map(g=>t.syncEngine.Nr(g)))}}else t.ir.push(o)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,o){const c=new Id(this.currentUser,e,t,o),g=mm(this.persistenceKey,this.currentUser,e);this.setItem(g,c.Yi())}pr(e){const t=mm(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,o){const c=jh(this.persistenceKey,e),g=new xl(e,t,o);this.setItem(c,g.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.cr.exec(e);return t?t[1]:null}Pr(e,t){const o=this.Rr(e);return bp.Ji(o,t)}vr(e,t){const o=this.ar.exec(e),c=Number(o[1]);return Id.Ji(new Vi(void 0!==o[2]?o[2]:null),c,t)}Sr(e,t){const o=this.hr.exec(e),c=Number(o[1]);return xl.Ji(c,t)}wr(e){return Dd.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var t=this;return(0,z.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Ut("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const o=t?this.sr.insert(e,t):this.sr.remove(e),c=this.gr(this.sr),g=this.gr(o),v=[],A=[];return g.forEach(V=>{c.has(V)||v.push(V)}),c.forEach(V=>{g.has(V)||A.push(V)}),this.syncEngine.Mr(v,A).then(()=>{this.sr=o})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=Eo();return e.forEach((o,c)=>{t=t.unionWith(c.activeTargetIds)}),t}}class Ml{constructor(){this.Fr=new wp,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,o){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new wp,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class vm{Br(e){}shutdown(){}}class _m{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Ut("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){Ut("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const uv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Ip{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class s0 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,o,c,g){const v=this.oo(e,t);Ut("RestConnection","Sending: ",v,o);const A={};return this.uo(A,c,g),this.co(e,v,A,o).then(V=>(Ut("RestConnection","Received: ",V),V),V=>{throw oo("RestConnection",`${e} failed with error: `,V,"url: ",v,"request:",o),V})}ao(e,t,o,c,g,v){return this.ro(e,t,o,c,g)}uo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ys,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((c,g)=>e[g]=c),o&&o.headers.forEach((c,g)=>e[g]=c)}oo(e,t){return`${this.so}/v1/${t}:${uv[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,o,c){return new Promise((g,v)=>{const A=new jo;A.listenOnce(Gl.COMPLETE,()=>{try{switch(A.getLastErrorCode()){case Wa.NO_ERROR:const H=A.getResponseJson();Ut("Connection","XHR received:",JSON.stringify(H)),g(H);break;case Wa.TIMEOUT:Ut("Connection",'RPC "'+e+'" timed out'),v(new Ot(wt.DEADLINE_EXCEEDED,"Request time out"));break;case Wa.HTTP_ERROR:const oe=A.getStatus();if(Ut("Connection",'RPC "'+e+'" failed with status:',oe,"response text:",A.getResponseText()),oe>0){const He=A.getResponseJson().error;if(He&&He.status&&He.message){const vt=function(Pt){const jt=Pt.toLowerCase().replace(/_/g,"-");return Object.values(wt).indexOf(jt)>=0?jt:wt.UNKNOWN}(He.status);v(new Ot(vt,He.message))}else v(new Ot(wt.UNKNOWN,"Server responded with status "+A.getStatus()))}else v(new Ot(wt.UNAVAILABLE,"Connection failed."));break;default:wn()}}finally{Ut("Connection",'RPC "'+e+'" completed.')}});const V=JSON.stringify(c);A.send(t,"POST",V,o,15)})}ho(e,t,o){const c=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],g=za(),v=so(),A={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(A.xmlHttpFactory=new Ui({})),this.uo(A.initMessageHeaders,t,o),(0,ke.uI)()||(0,ke.b$)()||(0,ke.d)()||(0,ke.w1)()||(0,ke.Mn)()||(0,ke.ru)()||(A.httpHeadersOverwriteParam="$httpHeaders");const V=c.join("");Ut("Connection","Creating WebChannel: "+V,A);const H=g.createWebChannel(V,A);let oe=!1,He=!1;const vt=new Ip({jr:jt=>{He?Ut("Connection","Not sending because WebChannel is closed:",jt):(oe||(Ut("Connection","Opening WebChannel transport."),H.open(),oe=!0),Ut("Connection","WebChannel sending:",jt),H.send(jt))},Wr:()=>H.close()}),Pt=(jt,In,Bn)=>{jt.listen(In,ei=>{try{Bn(ei)}catch(Gi){setTimeout(()=>{throw Gi},0)}})};return Pt(H,So.EventType.OPEN,()=>{He||Ut("Connection","WebChannel transport opened.")}),Pt(H,So.EventType.CLOSE,()=>{He||(He=!0,Ut("Connection","WebChannel transport closed"),vt.eo())}),Pt(H,So.EventType.ERROR,jt=>{He||(He=!0,oo("Connection","WebChannel transport errored:",jt),vt.eo(new Ot(wt.UNAVAILABLE,"The operation could not be completed")))}),Pt(H,So.EventType.MESSAGE,jt=>{var In;if(!He){const Bn=jt.data[0];Rn(!!Bn);const ei=Bn,Gi=ei.error||(null===(In=ei[0])||void 0===In?void 0:In.error);if(Gi){Ut("Connection","WebChannel received error:",Gi);const Ri=Gi.status;let Ns=function(Bi){const po=as[Bi];if(void 0!==po)return ec(po)}(Ri),Ji=Gi.message;void 0===Ns&&(Ns=wt.INTERNAL,Ji="Unknown error status: "+Ri+" with message "+Gi.message),He=!0,vt.eo(new Ot(Ns,Ji)),H.close()}else Ut("Connection","WebChannel received:",Bn),vt.no(Bn)}}),Pt(v,qa.STAT_EVENT,jt=>{jt.stat===Uo.PROXY?Ut("Connection","Detected buffering proxy"):jt.stat===Uo.NOPROXY&&Ut("Connection","Detected no buffering proxy")}),setTimeout(()=>{vt.Zr()},0),vt}}function lv(){return typeof window<"u"?window:null}function bc(){return typeof document<"u"?document:null}function Hh(i){return new Th(i,!0)}class Em{constructor(e,t,o=1e3,c=1.5,g=6e4){this.js=e,this.timerId=t,this.lo=o,this.fo=c,this._o=g,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),o=Math.max(0,Date.now()-this.yo),c=Math.max(0,t-o);c>0&&Ut("ExponentialBackoff",`Backing off for ${c} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,c,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class cv{constructor(e,t,o,c,g,v,A,V){this.js=e,this.Ao=o,this.Ro=c,this.bo=g,this.authCredentialsProvider=v,this.appCheckCredentialsProvider=A,this.listener=V,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new Em(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,z.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}Oo(){var e=this;return(0,z.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var o=this;return(0,z.Z)(function*(){o.Fo(),o.$o(),o.So.cancel(),o.Po++,4!==e?o.So.reset():t&&t.code===wt.RESOURCE_EXHAUSTED?(Ei(t.toString()),Ei("Using maximum backoff delay to prevent overloading the backend."),o.So.po()):t&&t.code===wt.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Bo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,c])=>{this.Po===t&&this.Uo(o,c)},o=>{e(()=>{const c=new Ot(wt.UNKNOWN,"Fetching auth token failed: "+o.message);return this.qo(c)})})}Uo(e,t){const o=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{o(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(c=>{o(()=>this.qo(c))}),this.stream.onMessage(c=>{o(()=>this.onMessage(c))})}xo(){var e=this;this.state=5,this.So.Io((0,z.Z)(function*(){e.state=0,e.start()}))}qo(e){return Ut("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(Ut("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class o0 extends cv{constructor(e,t,o,c,g,v){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,c,v),this.wt=g}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function Qt(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(V=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===V?1:"REMOVE"===V?2:"CURRENT"===V?3:"RESET"===V?4:wn(),c=e.targetChange.targetIds||[],g=function(V,H){return V.dt?(Rn(void 0===H||"string"==typeof H),W.fromBase64String(H||"")):(Rn(void 0===H||H instanceof Uint8Array),W.fromUint8Array(H||new Uint8Array))}(i,e.targetChange.resumeToken),v=e.targetChange.cause,A=v&&function(V){const H=void 0===V.code?wt.UNKNOWN:ec(V.code);return new Ot(H,V.message||"")}(v);t=new nc(o,c,g,A||null)}else if("documentChange"in e){const o=e.documentChange,c=b(i,o.document.name),g=Os(o.document.updateTime),v=new gs({mapValue:{fields:o.document.fields}}),A=wi.newFoundDocument(c,g,v);t=new tc(o.targetIds||[],o.removedTargetIds||[],A.key,A)}else if("documentDelete"in e){const o=e.documentDelete,c=b(i,o.document),g=o.readTime?Os(o.readTime):Un.min(),v=wi.newNoDocument(c,g);t=new tc([],o.removedTargetIds||[],v.key,v)}else if("documentRemove"in e){const o=e.documentRemove,c=b(i,o.document);t=new tc([],o.removedTargetIds||[],c,null)}else{if(!("filter"in e))return wn();{const o=e.filter,g=new jf(o.count||0);t=new Dh(o.targetId,g)}}var V;return t}(this.wt,e),o=function(c){if(!("targetChange"in c))return Un.min();const g=c.targetChange;return g.targetIds&&g.targetIds.length?Un.min():g.readTime?Os(g.readTime):Un.min()}(e);return this.listener.Go(t,o)}Qo(e){const t={};t.database=C(this.wt),t.addTarget=function(c,g){let v;const A=g.target;return v=Xc(A)?{documents:Is(c,A)}:{query:ko(c,A)},v.targetId=g.targetId,g.resumeToken.approximateByteSize()>0?v.resumeToken=ld(c,g.resumeToken):g.snapshotVersion.compareTo(Un.min())>0&&(v.readTime=Ku(c,g.snapshotVersion.toTimestamp())),v}(this.wt,e);const o=function Sh(i,e){const t=function(o,c){switch(c){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return wn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Mo(t)}jo(e){const t={};t.database=C(this.wt),t.removeTarget=e,this.Mo(t)}}class a0 extends cv{constructor(e,t,o,c,g,v){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,c,v),this.wt=g,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Rn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function Gn(i,e){return i&&i.length>0?(Rn(void 0!==e),i.map(t=>function(o,c){let g=Os(o.updateTime?o.updateTime:c);return g.isEqual(Un.min())&&(g=Os(c)),new _h(g,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=Os(e.commitTime);return this.listener.Jo(o,t)}return Rn(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=C(this.wt),this.Mo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>En(this.wt,o))};this.Mo(t)}}class bm extends class{}{constructor(e,t,o,c){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=o,this.wt=c,this.Zo=!1}tu(){if(this.Zo)throw new Ot(wt.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,o){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,g])=>this.bo.ro(e,t,o,c,g)).catch(c=>{throw"FirebaseError"===c.name?(c.code===wt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ot(wt.UNKNOWN,c.toString())})}ao(e,t,o,c){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,v])=>this.bo.ao(e,t,o,g,v,c)).catch(g=>{throw"FirebaseError"===g.name?(g.code===wt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new Ot(wt.UNKNOWN,g.toString())})}terminate(){this.Zo=!0}}class Dp{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Ei(t),this.su=!1):Ut("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class wm{constructor(e,t,o,c,g){var v=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=g,this.du.Br(A=>{o.enqueueAndForget((0,z.Z)(function*(){var V;Iu(v)&&(Ut("RemoteStore","Restarting streams for network reachability change."),yield(V=(0,z.Z)(function*(H){const oe=en(H);oe.lu.add(4),yield Rl(oe),oe._u.set("Unknown"),oe.lu.delete(4),yield Cd(oe)}),function(H){return V.apply(this,arguments)})(v))}))}),this._u=new Dp(o,c)}}function Cd(i){return Gh.apply(this,arguments)}function Gh(){return Gh=(0,z.Z)(function*(i){if(Iu(i))for(const e of i.fu)yield e(!0)}),Gh.apply(this,arguments)}function Rl(i){return wc.apply(this,arguments)}function wc(){return wc=(0,z.Z)(function*(i){for(const e of i.fu)yield e(!1)}),wc.apply(this,arguments)}function Fo(i,e){const t=en(i);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),Td(t)?La(t):Md(t).Co()&&Cp(t,e))}function Ic(i,e){const t=en(i),o=Md(t);t.hu.delete(e),o.Co()&&zh(t,e),0===t.hu.size&&(o.Co()?o.ko():Iu(t)&&t._u.set("Unknown"))}function Cp(i,e){i.wu.Nt(e.targetId),Md(i).Qo(e)}function zh(i,e){i.wu.Nt(e),Md(i).jo(e)}function La(i){i.wu=new ud({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),te:e=>i.hu.get(e)||null}),Md(i).start(),i._u.iu()}function Td(i){return Iu(i)&&!Md(i).Do()&&i.hu.size>0}function Iu(i){return 0===en(i).lu.size}function Wh(i){i.wu=void 0}function u0(i){return qh.apply(this,arguments)}function qh(){return qh=(0,z.Z)(function*(i){i.hu.forEach((e,t)=>{Cp(i,e)})}),qh.apply(this,arguments)}function l0(i,e){return Dc.apply(this,arguments)}function Dc(){return Dc=(0,z.Z)(function*(i,e){Wh(i),Td(i)?(i._u.uu(e),La(i)):i._u.set("Unknown")}),Dc.apply(this,arguments)}function Yh(i,e,t){return Sd.apply(this,arguments)}function Sd(){return Sd=(0,z.Z)(function*(i,e,t){if(i._u.set("Online"),e instanceof nc&&2===e.state&&e.cause)try{yield(o=(0,z.Z)(function*(c,g){const v=g.cause;for(const A of g.targetIds)c.hu.has(A)&&(yield c.remoteSyncer.rejectListen(A,v),c.hu.delete(A),c.wu.removeTarget(A))}),function(c,g){return o.apply(this,arguments)})(i,e)}catch(o){Ut("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Cc(i,o)}else if(e instanceof tc?i.wu.Ut(e):e instanceof Dh?i.wu.zt(e):i.wu.Gt(e),!t.isEqual(Un.min()))try{const o=yield hm(i.localStore);t.compareTo(o)>=0&&(yield function(c,g){const v=c.wu.Yt(g);return v.targetChanges.forEach((A,V)=>{if(A.resumeToken.approximateByteSize()>0){const H=c.hu.get(V);H&&c.hu.set(V,H.withResumeToken(A.resumeToken,g))}}),v.targetMismatches.forEach(A=>{const V=c.hu.get(A);if(!V)return;c.hu.set(A,V.withResumeToken(W.EMPTY_BYTE_STRING,V.snapshotVersion)),zh(c,A);const H=new wu(V.target,A,1,V.sequenceNumber);Cp(c,H)}),c.remoteSyncer.applyRemoteEvent(v)}(i,t))}catch(o){Ut("RemoteStore","Failed to raise snapshot:",o),yield Cc(i,o)}var o}),Sd.apply(this,arguments)}function Cc(i,e,t){return Ad.apply(this,arguments)}function Ad(){return Ad=(0,z.Z)(function*(i,e,t){if(!oi(e))throw e;i.lu.add(1),yield Rl(i),i._u.set("Offline"),t||(t=()=>hm(i.localStore)),i.asyncQueue.enqueueRetryable((0,z.Z)(function*(){Ut("RemoteStore","Retrying IndexedDB access"),yield t(),i.lu.delete(1),yield Cd(i)}))}),Ad.apply(this,arguments)}function dv(i,e){return e().catch(t=>Cc(i,t,e))}function Tc(i){return Tp.apply(this,arguments)}function Tp(){return Tp=(0,z.Z)(function*(i){const e=en(i),t=Ol(e);let o=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;hv(e);)try{const c=yield sv(e.localStore,o);if(null===c){0===e.au.length&&t.ko();break}o=c.batchId,fv(e,c)}catch(c){yield Cc(e,c)}Sp(e)&&pv(e)}),Tp.apply(this,arguments)}function hv(i){return Iu(i)&&i.au.length<10}function fv(i,e){i.au.push(e);const t=Ol(i);t.Co()&&t.zo&&t.Ho(e.mutations)}function Sp(i){return Iu(i)&&!Ol(i).Do()&&i.au.length>0}function pv(i){Ol(i).start()}function gv(i){return Im.apply(this,arguments)}function Im(){return Im=(0,z.Z)(function*(i){Ol(i).Xo()}),Im.apply(this,arguments)}function Dm(i){return Kh.apply(this,arguments)}function Kh(){return Kh=(0,z.Z)(function*(i){const e=Ol(i);for(const t of i.au)e.Ho(t.mutations)}),Kh.apply(this,arguments)}function mv(i,e,t){return xd.apply(this,arguments)}function xd(){return xd=(0,z.Z)(function*(i,e,t){const o=i.au.shift(),c=bu.from(o,e,t);yield dv(i,()=>i.remoteSyncer.applySuccessfulWrite(c)),yield Tc(i)}),xd.apply(this,arguments)}function c0(i,e){return Cm.apply(this,arguments)}function Cm(){return Cm=(0,z.Z)(function*(i,e){var t;e&&Ol(i).zo&&(yield(t=(0,z.Z)(function*(o,c){if(Qi(g=c.code)&&g!==wt.ABORTED){const v=o.au.shift();Ol(o).No(),yield dv(o,()=>o.remoteSyncer.rejectFailedWrite(v.batchId,c)),yield Tc(o)}var g}),function(o,c){return t.apply(this,arguments)})(i,e)),Sp(i)&&pv(i)}),Cm.apply(this,arguments)}function yv(i,e){return Tm.apply(this,arguments)}function Tm(){return Tm=(0,z.Z)(function*(i,e){const t=en(i);t.asyncQueue.verifyOperationInProgress(),Ut("RemoteStore","RemoteStore received new credentials");const o=Iu(t);t.lu.add(3),yield Rl(t),o&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield Cd(t)}),Tm.apply(this,arguments)}function Sm(i,e){return Am.apply(this,arguments)}function Am(){return Am=(0,z.Z)(function*(i,e){const t=en(i);e?(t.lu.delete(2),yield Cd(t)):e||(t.lu.add(2),yield Rl(t),t._u.set("Unknown"))}),Am.apply(this,arguments)}function Md(i){return i.mu||(i.mu=function(e,t,o){const c=en(e);return c.tu(),new o0(t,c.bo,c.authCredentials,c.appCheckCredentials,c.wt,o)}(i.datastore,i.asyncQueue,{zr:u0.bind(null,i),Jr:l0.bind(null,i),Go:Yh.bind(null,i)}),i.fu.push(function(){var e=(0,z.Z)(function*(t){t?(i.mu.No(),Td(i)?La(i):i._u.set("Unknown")):(yield i.mu.stop(),Wh(i))});return function(t){return e.apply(this,arguments)}}())),i.mu}function Ol(i){return i.gu||(i.gu=function(e,t,o){const c=en(e);return c.tu(),new a0(t,c.bo,c.authCredentials,c.appCheckCredentials,c.wt,o)}(i.datastore,i.asyncQueue,{zr:gv.bind(null,i),Jr:c0.bind(null,i),Yo:Dm.bind(null,i),Jo:mv.bind(null,i)}),i.fu.push(function(){var e=(0,z.Z)(function*(t){t?(i.gu.No(),yield Tc(i)):(yield i.gu.stop(),i.au.length>0&&(Ut("RemoteStore",`Stopping write stream with ${i.au.length} pending writes`),i.au=[]))});return function(t){return e.apply(this,arguments)}}())),i.gu}class xm{constructor(e,t,o,c,g){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=c,this.removalCallback=g,this.deferred=new bi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(v=>{})}static createAndSchedule(e,t,o,c,g){const v=Date.now()+o,A=new xm(e,t,v,c,g);return A.start(o),A}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ot(wt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rd(i,e){if(Ei("AsyncQueue",`${e}: ${i}`),oi(i))return new Ot(wt.UNAVAILABLE,`${e}: ${i}`);throw i}class ea{constructor(e){this.comparator=e?(t,o)=>e(t,o)||Xt.comparator(t.key,o.key):(t,o)=>Xt.comparator(t.key,o.key),this.keyedMap=Gs(),this.sortedSet=new xi(this.comparator)}static emptySet(e){return new ea(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ea)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const c=t.getNext().key,g=o.getNext().key;if(!c.isEqual(g))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new ea;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class Zh{constructor(){this.yu=new xi(Xt.comparator)}track(e){const t=e.doc.key,o=this.yu.get(t);o?0!==e.type&&3===o.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==o.type?this.yu=this.yu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.yu=this.yu.remove(t):1===e.type&&2===o.type?this.yu=this.yu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):wn():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,o)=>{e.push(o)}),e}}class Sc{constructor(e,t,o,c,g,v,A,V){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=c,this.mutatedKeys=g,this.fromCache=v,this.syncStateChanged=A,this.excludesMetadataChanges=V}static fromInitialDocuments(e,t,o,c){const g=[];return t.forEach(v=>{g.push({type:0,doc:v})}),new Sc(e,t,ea.emptySet(t),g,o,c,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let c=0;c<t.length;c++)if(t[c].type!==o[c].type||!t[c].doc.isEqual(o[c].doc))return!1;return!0}}class Mm{constructor(){this.Iu=void 0,this.listeners=[]}}class Ap{constructor(){this.queries=new Pa(e=>Qa(e),Xl),this.onlineState="Unknown",this.Tu=new Set}}function Xh(i,e){return Od.apply(this,arguments)}function Od(){return Od=(0,z.Z)(function*(i,e){const t=en(i),o=e.query;let c=!1,g=t.queries.get(o);if(g||(c=!0,g=new Mm),c)try{g.Iu=yield t.onListen(o)}catch(v){const A=Rd(v,`Initialization of query '${ed(e.query)}' failed`);return void e.onError(A)}t.queries.set(o,g),g.listeners.push(e),e.Eu(t.onlineState),g.Iu&&e.Au(g.Iu)&&Pd(t)}),Od.apply(this,arguments)}function xp(i,e){return ru.apply(this,arguments)}function ru(){return ru=(0,z.Z)(function*(i,e){const t=en(i),o=e.query;let c=!1;const g=t.queries.get(o);if(g){const v=g.listeners.indexOf(e);v>=0&&(g.listeners.splice(v,1),c=0===g.listeners.length)}if(c)return t.queries.delete(o),t.onUnlisten(o)}),ru.apply(this,arguments)}function Rm(i,e){const t=en(i);let o=!1;for(const c of e){const v=t.queries.get(c.query);if(v){for(const A of v.listeners)A.Au(c)&&(o=!0);v.Iu=c}}o&&Pd(t)}function vv(i,e,t){const o=en(i),c=o.queries.get(e);if(c)for(const g of c.listeners)g.onError(t);o.queries.delete(e)}function Pd(i){i.Tu.forEach(e=>{e.next()})}class Mp{constructor(e,t,o){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=o||{}}Au(e){if(!this.options.includeMetadataChanges){const o=[];for(const c of e.docChanges)3!==c.type&&o.push(c);e=new Sc(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Sc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class Om{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class Pm{constructor(e){this.wt=e}Wi(e){return b(this.wt,e)}zi(e){return e.metadata.exists?Ze(this.wt,e.document,!1):wi.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return Os(e)}}class _v{constructor(e,t,o){this.xu=e,this.localStore=t,this.wt=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Ac(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const o=Sr.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,o=new Pm(this.wt);for(const c of e)if(c.metadata.queries){const g=o.Wi(c.metadata.name);for(const v of c.metadata.queries){const A=(t.get(v)||_r()).add(g);t.set(v,A)}}return t}complete(){var e=this;return(0,z.Z)(function*(){const t=yield function ov(i,e,t,o){return vp.apply(this,arguments)}(e.localStore,new Pm(e.wt),e.documents,e.xu.id),o=e.ku(e.documents);for(const c of e.queries)yield av(e.localStore,c,o.get(c.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Mu:t}})()}}function Ac(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class Pl{constructor(e){this.key=e}}class Qh{constructor(e){this.key=e}}class kl{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=_r(),this.mutatedKeys=_r(),this.Lu=gh(e),this.Uu=new ea(this.Lu)}get qu(){return this.Fu}Ku(e,t){const o=t?t.Gu:new Zh,c=t?t.Uu:this.Uu;let g=t?t.mutatedKeys:this.mutatedKeys,v=c,A=!1;const V="F"===this.query.limitType&&c.size===this.query.limit?c.last():null,H="L"===this.query.limitType&&c.size===this.query.limit?c.first():null;if(e.inorderTraversal((oe,He)=>{const vt=c.get(oe),Pt=ha(this.query,He)?He:null,jt=!!vt&&this.mutatedKeys.has(vt.key),In=!!Pt&&(Pt.hasLocalMutations||this.mutatedKeys.has(Pt.key)&&Pt.hasCommittedMutations);let Bn=!1;vt&&Pt?vt.data.isEqual(Pt.data)?jt!==In&&(o.track({type:3,doc:Pt}),Bn=!0):this.Qu(vt,Pt)||(o.track({type:2,doc:Pt}),Bn=!0,(V&&this.Lu(Pt,V)>0||H&&this.Lu(Pt,H)<0)&&(A=!0)):!vt&&Pt?(o.track({type:0,doc:Pt}),Bn=!0):vt&&!Pt&&(o.track({type:1,doc:vt}),Bn=!0,(V||H)&&(A=!0)),Bn&&(Pt?(v=v.add(Pt),g=In?g.add(oe):g.delete(oe)):(v=v.delete(oe),g=g.delete(oe)))}),null!==this.query.limit)for(;v.size>this.query.limit;){const oe="F"===this.query.limitType?v.last():v.first();v=v.delete(oe.key),g=g.delete(oe.key),o.track({type:1,doc:oe})}return{Uu:v,Gu:o,Oi:A,mutatedKeys:g}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const c=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const g=e.Gu.pu();g.sort((H,oe)=>function(He,vt){const Pt=jt=>{switch(jt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wn()}};return Pt(He)-Pt(vt)}(H.type,oe.type)||this.Lu(H.doc,oe.doc)),this.ju(o);const v=t?this.Wu():[],A=0===this.Bu.size&&this.current?1:0,V=A!==this.$u;return this.$u=A,0!==g.length||V?{snapshot:new Sc(this.query,e.Uu,c,g,e.mutatedKeys,0===A,V,!1),zu:v}:{zu:v}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new Zh,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=_r(),this.Uu.forEach(o=>{this.Hu(o.key)&&(this.Bu=this.Bu.add(o.key))});const t=[];return e.forEach(o=>{this.Bu.has(o)||t.push(new Qh(o))}),this.Bu.forEach(o=>{e.has(o)||t.push(new Pl(o))}),t}Ju(e){this.Fu=e.ji,this.Bu=_r();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return Sc.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class kd{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class xc{constructor(e){this.key=e,this.Xu=!1}}class Ev{constructor(e,t,o,c,g,v){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=c,this.currentUser=g,this.maxConcurrentLimboResolutions=v,this.Zu={},this.tc=new Pa(A=>Qa(A),Xl),this.ec=new Map,this.nc=new Set,this.sc=new xi(Xt.comparator),this.ic=new Map,this.rc=new Ed,this.oc={},this.uc=new Map,this.cc=Tl.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function km(i,e){return Jh.apply(this,arguments)}function Jh(){return Jh=(0,z.Z)(function*(i,e){const t=jp(i);let o,c;const g=t.tc.get(e);if(g)o=g.targetId,t.sharedClientState.addLocalQueryTarget(o),c=g.view.Yu();else{const v=yield Fa(t.localStore,Po(e));t.isPrimaryClient&&Fo(t.remoteStore,v);const A=t.sharedClientState.addLocalQueryTarget(v.targetId);o=v.targetId,c=yield Nd(t,e,o,"current"===A)}return c}),Jh.apply(this,arguments)}function Nd(i,e,t,o){return Fd.apply(this,arguments)}function Fd(){return Fd=(0,z.Z)(function*(i,e,t,o){i.hc=(oe,He,vt)=>{return(Pt=(0,z.Z)(function*(jt,In,Bn,ei){let Gi=In.view.Ku(Bn);Gi.Oi&&(Gi=yield Al(jt.localStore,In.query,!1).then(({documents:Ji})=>In.view.Ku(Ji,Gi)));const Ri=ei&&ei.targetChanges.get(In.targetId),Ns=In.view.applyChanges(Gi,jt.isPrimaryClient,Ri);return Np(jt,In.targetId,Ns.zu),Ns.snapshot}),function(jt,In,Bn,ei){return Pt.apply(this,arguments)})(i,oe,He,vt);var Pt};const c=yield Al(i.localStore,e,!0),g=new kl(e,c.ji),v=g.Ku(c.documents),A=El.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState),V=g.applyChanges(v,i.isPrimaryClient,A);Np(i,t,V.zu);const H=new kd(e,t,g);return i.tc.set(e,H),i.ec.has(t)?i.ec.get(t).push(e):i.ec.set(t,[e]),V.snapshot}),Fd.apply(this,arguments)}function Nm(i,e){return Mc.apply(this,arguments)}function Mc(){return Mc=(0,z.Z)(function*(i,e){const t=en(i),o=t.tc.get(e),c=t.ec.get(o.targetId);if(c.length>1)return t.ec.set(o.targetId,c.filter(g=>!Xl(g,e))),void t.tc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Ec(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),Ic(t.remoteStore,o.targetId),Nl(t,o.targetId)}).catch(ze))):(Nl(t,o.targetId),yield Ec(t.localStore,o.targetId,!0))}),Mc.apply(this,arguments)}function ef(){return ef=(0,z.Z)(function*(i,e,t){const o=$d(i);try{const c=yield function(g,v){const A=en(g),V=ii.now(),H=v.reduce((vt,Pt)=>vt.add(Pt.key),_r());let oe,He;return A.persistence.runTransaction("Locally write mutations","readwrite",vt=>{let Pt=Hs(),jt=_r();return A.Ui.getEntries(vt,H).next(In=>{Pt=In,Pt.forEach((Bn,ei)=>{ei.isValidDocument()||(jt=jt.add(Bn))})}).next(()=>A.localDocuments.getOverlayedDocuments(vt,Pt)).next(In=>{oe=In;const Bn=[];for(const ei of v){const Gi=Gg(ei,oe.get(ei.key).overlayedDocument);null!=Gi&&Bn.push(new Oa(ei.key,Gi,$u(Gi.value.mapValue),os.exists(!0)))}return A.mutationQueue.addMutationBatch(vt,V,Bn,v)}).next(In=>{He=In;const Bn=In.applyToLocalDocumentSet(oe,jt);return A.documentOverlayCache.saveOverlays(vt,In.batchId,Bn)})}).then(()=>({batchId:He.batchId,changes:qu(oe)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(c.batchId),function(g,v,A){let V=g.oc[g.currentUser.toKey()];V||(V=new xi(gr)),V=V.insert(v,A),g.oc[g.currentUser.toKey()]=V}(o,c.batchId,t),yield Du(o,c.changes),yield Tc(o.remoteStore)}catch(c){const g=Rd(c,"Failed to persist write");t.reject(g)}}),ef.apply(this,arguments)}function wv(i,e){return tf.apply(this,arguments)}function tf(){return tf=(0,z.Z)(function*(i,e){const t=en(i);try{const o=yield fm(t.localStore,e);e.targetChanges.forEach((c,g)=>{const v=t.ic.get(g);v&&(Rn(c.addedDocuments.size+c.modifiedDocuments.size+c.removedDocuments.size<=1),c.addedDocuments.size>0?v.Xu=!0:c.modifiedDocuments.size>0?Rn(v.Xu):c.removedDocuments.size>0&&(Rn(v.Xu),v.Xu=!1))}),yield Du(t,o,e)}catch(o){yield ze(o)}}),tf.apply(this,arguments)}function Rp(i,e,t){const o=en(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const c=[];o.tc.forEach((g,v)=>{const A=v.view.Eu(e);A.snapshot&&c.push(A.snapshot)}),function(g,v){const A=en(g);A.onlineState=v;let V=!1;A.queries.forEach((H,oe)=>{for(const He of oe.listeners)He.Eu(v)&&(V=!0)}),V&&Pd(A)}(o.eventManager,e),c.length&&o.Zu.Go(c),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Iv(i,e,t){return nf.apply(this,arguments)}function nf(){return nf=(0,z.Z)(function*(i,e,t){const o=en(i);o.sharedClientState.updateQueryState(e,"rejected",t);const c=o.ic.get(e),g=c&&c.key;if(g){let v=new xi(Xt.comparator);v=v.insert(g,wi.newNoDocument(g,Un.min()));const A=_r().add(g),V=new fa(Un.min(),new Map,new Wr(gr),v,A);yield wv(o,V),o.sc=o.sc.remove(g),o.ic.delete(e),rf(o)}else yield Ec(o.localStore,e,!1).then(()=>Nl(o,e,t)).catch(ze)}),nf.apply(this,arguments)}function Dv(i,e){return Op.apply(this,arguments)}function Op(){return Op=(0,z.Z)(function*(i,e){const t=en(i),o=e.batch.batchId;try{const c=yield r0(t.localStore,e);Ld(t,o,null),kp(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield Du(t,c)}catch(c){yield ze(c)}}),Op.apply(this,arguments)}function ta(i,e,t){return Pp.apply(this,arguments)}function Pp(){return Pp=(0,z.Z)(function*(i,e,t){const o=en(i);try{const c=yield function(g,v){const A=en(g);return A.persistence.runTransaction("Reject batch","readwrite-primary",V=>{let H;return A.mutationQueue.lookupMutationBatch(V,v).next(oe=>(Rn(null!==oe),H=oe.keys(),A.mutationQueue.removeMutationBatch(V,oe))).next(()=>A.mutationQueue.performConsistencyCheck(V)).next(()=>A.documentOverlayCache.removeOverlaysForBatchId(V,H,v)).next(()=>A.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(V,H)).next(()=>A.localDocuments.getDocuments(V,H))})}(o.localStore,e);Ld(o,e,t),kp(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield Du(o,c)}catch(c){yield ze(c)}}),Pp.apply(this,arguments)}function Fm(){return Fm=(0,z.Z)(function*(i,e){const t=en(i);Iu(t.remoteStore)||Ut("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(g){const v=en(g);return v.persistence.runTransaction("Get highest unacknowledged batch id","readonly",A=>v.mutationQueue.getHighestUnacknowledgedBatchId(A))}(t.localStore);if(-1===o)return void e.resolve();const c=t.uc.get(o)||[];c.push(e),t.uc.set(o,c)}catch(o){const c=Rd(o,"Initialization of waitForPendingWrites() operation failed");e.reject(c)}}),Fm.apply(this,arguments)}function kp(i,e){(i.uc.get(e)||[]).forEach(t=>{t.resolve()}),i.uc.delete(e)}function Ld(i,e,t){const o=en(i);let c=o.oc[o.currentUser.toKey()];if(c){const g=c.get(e);g&&(t?g.reject(t):g.resolve(),c=c.remove(e)),o.oc[o.currentUser.toKey()]=c}}function Nl(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.ec.get(e))i.tc.delete(o),t&&i.Zu.lc(o,t);i.ec.delete(e),i.isPrimaryClient&&i.rc.us(e).forEach(o=>{i.rc.containsKey(o)||Lm(i,o)})}function Lm(i,e){i.nc.delete(e.path.canonicalString());const t=i.sc.get(e);null!==t&&(Ic(i.remoteStore,t),i.sc=i.sc.remove(e),i.ic.delete(t),rf(i))}function Np(i,e,t){for(const o of t)o instanceof Pl?(i.rc.addReference(o.key,e),Tv(i,o)):o instanceof Qh?(Ut("SyncEngine","Document no longer in limbo: "+o.key),i.rc.removeReference(o.key,e),i.rc.containsKey(o.key)||Lm(i,o.key)):wn()}function Tv(i,e){const t=e.key,o=t.path.canonicalString();i.sc.get(t)||i.nc.has(o)||(Ut("SyncEngine","New document in limbo: "+t),i.nc.add(o),rf(i))}function rf(i){for(;i.nc.size>0&&i.sc.size<i.maxConcurrentLimboResolutions;){const e=i.nc.values().next().value;i.nc.delete(e);const t=new Xt(Sr.fromString(e)),o=i.cc.next();i.ic.set(o,new xc(t)),i.sc=i.sc.insert(t,o),Fo(i.remoteStore,new wu(Po(Ma(t.path)),o,2,Ts.ot))}}function Du(i,e,t){return sf.apply(this,arguments)}function sf(){return sf=(0,z.Z)(function*(i,e,t){const o=en(i),c=[],g=[],v=[];var A;o.tc.isEmpty()||(o.tc.forEach((A,V)=>{v.push(o.hc(V,e,t).then(H=>{if(H){o.isPrimaryClient&&o.sharedClientState.updateQueryState(V.targetId,H.fromCache?"not-current":"current"),c.push(H);const oe=gp.Vi(V.targetId,H);g.push(oe)}}))}),yield Promise.all(v),o.Zu.Go(c),yield(A=(0,z.Z)(function*(V,H){const oe=en(V);try{yield oe.persistence.runTransaction("notifyLocalViewChanges","readwrite",He=>Be.forEach(H,vt=>Be.forEach(vt.Pi,Pt=>oe.persistence.referenceDelegate.addReference(He,vt.targetId,Pt)).next(()=>Be.forEach(vt.vi,Pt=>oe.persistence.referenceDelegate.removeReference(He,vt.targetId,Pt)))))}catch(He){if(!oi(He))throw He;Ut("LocalStore","Failed to update sequence numbers: "+He)}for(const He of H){const vt=He.targetId;if(!He.fromCache){const Pt=oe.$i.get(vt),In=Pt.withLastLimboFreeSnapshotVersion(Pt.snapshotVersion);oe.$i=oe.$i.insert(vt,In)}}}),function(V,H){return A.apply(this,arguments)})(o.localStore,g))}),sf.apply(this,arguments)}function Sv(i,e){return Fp.apply(this,arguments)}function Fp(){return Fp=(0,z.Z)(function*(i,e){const t=en(i);if(!t.currentUser.isEqual(e)){Ut("SyncEngine","User change. New user:",e.toKey());const o=yield rv(t.localStore,e);t.currentUser=e,(c=t).uc.forEach(v=>{v.forEach(A=>{A.reject(new Ot(wt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),c.uc.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield Du(t,o.Ki)}var c}),Fp.apply(this,arguments)}function Vm(i,e){const t=en(i),o=t.ic.get(e);if(o&&o.Xu)return _r().add(o.key);{let c=_r();const g=t.ec.get(e);if(!g)return c;for(const v of g){const A=t.tc.get(v);c=c.unionWith(A.view.qu)}return c}}function Bm(i,e){return Lp.apply(this,arguments)}function Lp(){return Lp=(0,z.Z)(function*(i,e){const t=en(i),o=yield Al(t.localStore,e.query,!0),c=e.view.Ju(o);return t.isPrimaryClient&&Np(t,e.targetId,c.zu),c}),Lp.apply(this,arguments)}function iu(i,e){return Vd.apply(this,arguments)}function Vd(){return Vd=(0,z.Z)(function*(i,e){const t=en(i);return yp(t.localStore,e).then(o=>Du(t,o))}),Vd.apply(this,arguments)}function Av(i,e,t,o){return Vp.apply(this,arguments)}function Vp(){return Vp=(0,z.Z)(function*(i,e,t,o){const c=en(i),g=yield function(v,A){const V=en(v),H=en(V.mutationQueue);return V.persistence.runTransaction("Lookup mutation documents","readonly",oe=>H.yn(oe,A).next(He=>He?V.localDocuments.getDocuments(oe,He):Be.resolve(null)))}(c.localStore,e);var A;null!==g?("pending"===t?yield Tc(c.remoteStore):"acknowledged"===t||"rejected"===t?(Ld(c,e,o||null),kp(c,e),A=e,en(en(c.localStore).mutationQueue).In(A)):wn(),yield Du(c,g)):Ut("SyncEngine","Cannot apply mutation batch with id: "+e)}),Vp.apply(this,arguments)}function af(){return af=(0,z.Z)(function*(i,e){const t=en(i);if(jp(t),$d(t),!0===e&&!0!==t.ac){const o=t.sharedClientState.getAllActiveQueryTargets(),c=yield $m(t,o.toArray());t.ac=!0,yield Sm(t.remoteStore,!0);for(const g of c)Fo(t.remoteStore,g)}else if(!1===e&&!1!==t.ac){const o=[];let c=Promise.resolve();t.ec.forEach((g,v)=>{t.sharedClientState.isLocalQueryTarget(v)?o.push(v):c=c.then(()=>(Nl(t,v),Ec(t.localStore,v,!0))),Ic(t.remoteStore,v)}),yield c,yield $m(t,o),function(g){const v=en(g);v.ic.forEach((A,V)=>{Ic(v.remoteStore,V)}),v.rc.cs(),v.ic=new Map,v.sc=new xi(Xt.comparator)}(t),t.ac=!1,yield Sm(t.remoteStore,!1)}}),af.apply(this,arguments)}function $m(i,e,t){return Bp.apply(this,arguments)}function Bp(){return Bp=(0,z.Z)(function*(i,e,t){const o=en(i),c=[],g=[];for(const v of e){let A;const V=o.ec.get(v);if(V&&0!==V.length){A=yield Fa(o.localStore,Po(V[0]));for(const H of V){const oe=o.tc.get(H),He=yield Bm(o,oe);He.snapshot&&g.push(He.snapshot)}}else{const H=yield pm(o.localStore,v);A=yield Fa(o.localStore,H),yield Nd(o,Um(H),v,!1)}c.push(A)}return o.Zu.Go(g),c}),Bp.apply(this,arguments)}function Um(i){return fh(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function $p(i){const e=en(i);return en(en(e.localStore).persistence).Ri()}function xv(i,e,t,o){return Up.apply(this,arguments)}function Up(){return Up=(0,z.Z)(function*(i,e,t,o){const c=en(i);if(c.ac)return void Ut("SyncEngine","Ignoring unexpected query state notification.");const g=c.ec.get(e);if(g&&g.length>0)switch(t){case"current":case"not-current":{const v=yield yp(c.localStore,Ja(g[0])),A=fa.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Du(c,v,A);break}case"rejected":yield Ec(c.localStore,e,!0),Nl(c,e,o);break;default:wn()}}),Up.apply(this,arguments)}function uf(i,e,t){return Bd.apply(this,arguments)}function Bd(){return Bd=(0,z.Z)(function*(i,e,t){const o=jp(i);if(o.ac){for(const c of e){if(o.ec.has(c)){Ut("SyncEngine","Adding an already active target "+c);continue}const g=yield pm(o.localStore,c),v=yield Fa(o.localStore,g);yield Nd(o,Um(g),v.targetId,!1),Fo(o.remoteStore,v)}for(const c of t)o.ec.has(c)&&(yield Ec(o.localStore,c,!1).then(()=>{Ic(o.remoteStore,c),Nl(o,c)}).catch(ze))}}),Bd.apply(this,arguments)}function jp(i){const e=en(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=wv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Vm.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Iv.bind(null,e),e.Zu.Go=Rm.bind(null,e.eventManager),e.Zu.lc=vv.bind(null,e.eventManager),e}function $d(i){const e=en(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Dv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ta.bind(null,e),e}class Gp{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,z.Z)(function*(){t.wt=Hh(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return cm(this.persistence,new $h,e.initialUser,this.wt)}_c(e){return new fp(Bh.Ms,this.wt)}dc(e){return new Ml}terminate(){var e=this;return(0,z.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Mv extends Gp{constructor(e,t,o){super(),this.yc=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,z.Z)(function*(){yield t().call(o,e),yield o.yc.initialize(o,e),yield $d(o.yc.syncEngine),yield Tc(o.yc.remoteStore),yield o.persistence.ci(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return cm(this.persistence,new $h,e.initialUser,this.wt)}mc(e,t){return new Zy(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}gc(e,t){const o=new ll(t,this.persistence);return new Ks(e.asyncQueue,o)}_c(e){const t=ga(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?No.withCacheSize(this.cacheSizeBytes):No.DEFAULT;return new bd(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,lv(),bc(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new Ml}}class h0 extends Mv{constructor(e,t){super(e,t,!1),this.yc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,z.Z)(function*(){yield t().call(o,e);const c=o.yc.syncEngine;o.sharedClientState instanceof ym&&(o.sharedClientState.syncEngine={kr:Av.bind(null,c),Or:xv.bind(null,c),Mr:uf.bind(null,c),Ri:$p.bind(null,c),Nr:iu.bind(null,c)},yield o.sharedClientState.start()),yield o.persistence.ci(function(){var g=(0,z.Z)(function*(v){yield function d0(i,e){return af.apply(this,arguments)}(o.yc.syncEngine,v),o.gcScheduler&&(v&&!o.gcScheduler.started?o.gcScheduler.start():v||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(v&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():v||o.indexBackfillerScheduler.stop())});return function(v){return g.apply(this,arguments)}}())})()}dc(e){const t=lv();if(!ym.V(t))throw new Ot(wt.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=ga(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ym(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class Ud{initialize(e,t){var o=this;return(0,z.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=c=>Rp(o.syncEngine,c,1),o.remoteStore.remoteSyncer.handleCredentialChange=Sv.bind(null,o.syncEngine),yield Sm(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Ap}createDatastore(e){const t=Hh(e.databaseInfo.databaseId),o=new s0(e.databaseInfo);return new bm(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,c=e.asyncQueue,g=A=>Rp(this.syncEngine,A,0),v=_m.V()?new _m:new vm,new wm(t,o,c,g,v);var t,o,c,g,v}createSyncEngine(e,t){return function(o,c,g,v,A,V,H){const oe=new Ev(o,c,g,v,A,V);return H&&(oe.ac=!0),oe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,z.Z)(function*(t){const o=en(t);Ut("RemoteStore","RemoteStore shutting down."),o.lu.add(5),yield Rl(o),o.du.shutdown(),o._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Rv(i,e=10240){let t=0;return{read:()=>(0,z.Z)(function*(){if(t<i.byteLength){const o={value:i.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,z.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class lf{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class jm{constructor(e,t){this.Ec=e,this.wt=t,this.metadata=new bi,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(o=>{o&&o.Cu()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,z.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,z.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,z.Z)(function*(){const t=yield e.bc();if(null===t)return null;const o=e.Ac.decode(t),c=Number(o);isNaN(c)&&e.Pc(`length string (${o}) is not valid number`);const g=yield e.vc(c);return new Om(JSON.parse(g),t.length+c)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,z.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const t=e.Vc();t<0&&e.Pc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}vc(e){var t=this;return(0,z.Z)(function*(){for(;t.buffer.length<e;)(yield t.Sc())&&t.Pc("Reached the end of bundle when more is expected.");const o=t.Ac.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,z.Z)(function*(){const t=yield e.Ec.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class Hm{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,z.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Ot(wt.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(c=(0,z.Z)(function*(g,v){const A=en(g),V=C(A.wt)+"/documents",H={documents:v.map(Pt=>Zu(A.wt,Pt))},oe=yield A.ao("BatchGetDocuments",V,H,v.length),He=new Map;oe.forEach(Pt=>{const jt=function Dt(i,e){return"found"in e?function(t,o){Rn(!!o.found);const c=b(t,o.found.name),g=Os(o.found.updateTime),v=new gs({mapValue:{fields:o.found.fields}});return wi.newFoundDocument(c,g,v)}(i,e):"missing"in e?function(t,o){Rn(!!o.missing),Rn(!!o.readTime);const c=b(t,o.missing),g=Os(o.readTime);return wi.newNoDocument(c,g)}(i,e):wn()}(A.wt,Pt);He.set(jt.key.toString(),jt)});const vt=[];return v.forEach(Pt=>{const jt=He.get(Pt.toString());Rn(!!jt),vt.push(jt)}),vt}),function(g,v){return c.apply(this,arguments)})(t.datastore,e);var c;return o.forEach(c=>t.recordVersion(c)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new _u(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,z.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,c)=>{const g=Xt.fromPath(c);e.mutations.push(new Wu(g,e.precondition(g)))}),yield(o=(0,z.Z)(function*(c,g){const v=en(c),A=C(v.wt)+"/documents",V={writes:g.map(H=>En(v.wt,H))};yield v.ro("Commit",A,V)}),function(c,g){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw wn();t=Un.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new Ot(wt.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?os.updateTime(t):os.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Un.min()))throw new Ot(wt.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return os.updateTime(t)}return os.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Gm{constructor(e,t,o,c,g){this.asyncQueue=e,this.datastore=t,this.options=o,this.updateFunction=c,this.deferred=g,this.Dc=o.maxAttempts,this.So=new Em(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,z.Z)(function*(){const t=new Hm(e.datastore),o=e.xc(t);o&&o.then(c=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(c)}).catch(g=>{e.Nc(g)}))}).catch(c=>{e.Nc(c)})}))}xc(e){try{const t=this.updateFunction(e);return!Mi(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!Qi(t)}return!1}}class zm{constructor(e,t,o,c){var g=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=c,this.user=Vi.UNAUTHENTICATED,this.clientId=Go.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var v=(0,z.Z)(function*(A){Ut("FirestoreClient","Received user=",A.uid),yield g.authCredentialListener(A),g.user=A});return function(A){return v.apply(this,arguments)}}()),this.appCheckCredentials.start(o,v=>(Ut("FirestoreClient","Received new app check token=",v),this.appCheckCredentialListener(v,this.user)))}getConfiguration(){var e=this;return(0,z.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ot(wt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new bi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,z.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const c=Rd(o,"Failed to shutdown persistence");t.reject(c)}})),t.promise}}function zp(i,e){return Va.apply(this,arguments)}function Va(){return Va=(0,z.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Ut("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var c=(0,z.Z)(function*(g){o.isEqual(g)||(yield rv(e.localStore,g),o=g)});return function(g){return c.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),Va.apply(this,arguments)}function jd(i,e){return Wp.apply(this,arguments)}function Wp(){return Wp=(0,z.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield qp(i);Ut("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(c=>yv(e.remoteStore,c)),i.setAppCheckTokenChangeListener((c,g)=>yv(e.remoteStore,g)),i.onlineComponents=e}),Wp.apply(this,arguments)}function qp(i){return Wm.apply(this,arguments)}function Wm(){return Wm=(0,z.Z)(function*(i){return i.offlineComponents||(Ut("FirestoreClient","Using default OfflineComponentProvider"),yield zp(i,new Gp)),i.offlineComponents}),Wm.apply(this,arguments)}function Rc(i){return cf.apply(this,arguments)}function cf(){return cf=(0,z.Z)(function*(i){return i.onlineComponents||(Ut("FirestoreClient","Using default OnlineComponentProvider"),yield jd(i,new Ud)),i.onlineComponents}),cf.apply(this,arguments)}function Yp(i){return qp(i).then(e=>e.persistence)}function df(i){return qp(i).then(e=>e.localStore)}function Kp(i){return Rc(i).then(e=>e.remoteStore)}function Zp(i){return Rc(i).then(e=>e.syncEngine)}function Oc(i){return Xp.apply(this,arguments)}function Xp(){return Xp=(0,z.Z)(function*(i){const e=yield Rc(i),t=e.eventManager;return t.onListen=km.bind(null,e.syncEngine),t.onUnlisten=Nm.bind(null,e.syncEngine),t}),Xp.apply(this,arguments)}function Qp(i,e,t={}){const o=new bi;return i.asyncQueue.enqueueAndForget((0,z.Z)(function*(){return function(c,g,v,A,V){const H=new lf({next:He=>{g.enqueueAndForget(()=>xp(c,oe));const vt=He.docs.has(v);!vt&&He.fromCache?V.reject(new Ot(wt.UNAVAILABLE,"Failed to get document because the client is offline.")):vt&&He.fromCache&&A&&"server"===A.source?V.reject(new Ot(wt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):V.resolve(He)},error:He=>V.reject(He)}),oe=new Mp(Ma(v.path),H,{includeMetadataChanges:!0,Du:!0});return Xh(c,oe)}(yield Oc(i),i.asyncQueue,e,t,o)})),o.promise}function Ym(i,e,t={}){const o=new bi;return i.asyncQueue.enqueueAndForget((0,z.Z)(function*(){return function(c,g,v,A,V){const H=new lf({next:He=>{g.enqueueAndForget(()=>xp(c,oe)),He.fromCache&&"server"===A.source?V.reject(new Ot(wt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):V.resolve(He)},error:He=>V.reject(He)}),oe=new Mp(v,H,{includeMetadataChanges:!0,Du:!0});return Xh(c,oe)}(yield Oc(i),i.asyncQueue,e,t,o)})),o.promise}const Jp=new Map;function hf(i,e,t){if(!t)throw new Ot(wt.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Fv(i,e,t,o){if(!0===e&&!0===o)throw new Ot(wt.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function ma(i){if(!Xt.isDocumentKey(i))throw new Ot(wt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Lv(i){if(Xt.isDocumentKey(i))throw new Ot(wt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function eg(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":wn()}function Ur(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Ot(wt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=eg(i);throw new Ot(wt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function tg(i,e){if(e<=0)throw new Ot(wt.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class ng{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ot(wt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ot(wt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Fv("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hd{constructor(e,t,o){this._authCredentials=t,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ng({}),this._settingsFrozen=!1,e instanceof Pn?this._databaseId=e:(this._app=e,this._databaseId=function(c){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Ot(wt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pn(c.options.projectId)}(e))}get app(){if(!this._app)throw new Ot(wt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ot(wt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ng(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Pu;switch(t.type){case"gapi":const o=t.client;return Rn(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new Nu(o,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ot(wt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Jp.get(e);t&&(Ut("ComponentProvider","Removing Datastore"),Jp.delete(e),t.terminate())}(this),Promise.resolve()}}class Hi{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new su(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hi(this.firestore,e,this._key)}}class Xs{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Xs(this.firestore,e,this._query)}}class su extends Xs{constructor(e,t,o){super(e,t,Ma(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hi(this.firestore,null,new Xt(e))}withConverter(e){return new su(this.firestore,e,this._path)}}function ff(i,e,...t){if(i=(0,ke.m9)(i),hf("collection","path",e),i instanceof Hd){const o=Sr.fromString(e,...t);return Lv(o),new su(i,null,o)}{if(!(i instanceof Hi||i instanceof su))throw new Ot(wt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Sr.fromString(e,...t));return Lv(o),new su(i.firestore,null,o)}}function pf(i,e,...t){if(i=(0,ke.m9)(i),1===arguments.length&&(e=Go.I()),hf("doc","path",e),i instanceof Hd){const o=Sr.fromString(e,...t);return ma(o),new Hi(i,null,new Xt(o))}{if(!(i instanceof Hi||i instanceof su))throw new Ot(wt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Sr.fromString(e,...t));return ma(o),new Hi(i.firestore,i instanceof su?i.converter:null,new Xt(o))}}function Km(i,e){return i=(0,ke.m9)(i),e=(0,ke.m9)(e),(i instanceof Hi||i instanceof su)&&(e instanceof Hi||e instanceof su)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Zm(i,e){return i=(0,ke.m9)(i),e=(0,ke.m9)(e),i instanceof Xs&&e instanceof Xs&&i.firestore===e.firestore&&Xl(i._query,e._query)&&i.converter===e.converter}class Bv{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new Em(this,"async_queue_retry"),this.Kc=()=>{const t=bc();t&&Ut("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=bc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=bc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new bi;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}jc(){var e=this;return(0,z.Z)(function*(){if(0!==e.Mc.length){try{yield e.Mc[0](),e.Mc.shift(),e.So.reset()}catch(t){if(!oi(t))throw t;Ut("AsyncQueue","Operation failed with retryable error: "+t)}e.Mc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Oc.then(()=>(this.Lc=!0,e().catch(o=>{throw this.Bc=o,this.Lc=!1,Ei("INTERNAL UNHANDLED ERROR: ",function(g){let v=g.message||"";return g.stack&&(v=g.stack.includes(g.message)?g.stack:g.message+"\n"+g.stack),v}(o)),o}).then(o=>(this.Lc=!1,o))));return this.Oc=t,t}enqueueAfterDelay(e,t,o){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const c=xm.createAndSchedule(this,e,t,o,g=>this.Wc(g));return this.$c.push(c),c}Gc(){this.Bc&&wn()}verifyOperationInProgress(){}zc(){var e=this;return(0,z.Z)(function*(){let t;do{t=e.Oc,yield t}while(t!==e.Oc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function rg(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const c of["next","error","complete"])if(c in o&&"function"==typeof o[c])return!0;return!1}(i)}class gf{constructor(){this._progressObserver={},this._taskCompletionResolver=new bi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ys extends Hd{constructor(e,t,o){super(e,t,o),this.type="firestore",this._queue=new Bv,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||yf(this),this._firestoreClient.terminate()}}function Ps(i){return i._firestoreClient||yf(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function yf(i){var e;const t=i._freezeSettings(),o=(g=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new vr(i._databaseId,g,i._persistenceKey,(A=t).host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,A.useFetchStreams));var g,A;i._firestoreClient=new zm(i._authCredentials,i._appCheckCredentials,i._queue,o)}function Pc(i,e,t){const o=new bi;return i.asyncQueue.enqueue((0,z.Z)(function*(){try{yield zp(i,t),yield jd(i,e),o.resolve()}catch(c){const g=c;if(!("FirebaseError"===(v=g).name?v.code===wt.FAILED_PRECONDITION||v.code===wt.UNIMPLEMENTED:!(typeof DOMException<"u"&&v instanceof DOMException)||22===v.code||20===v.code||11===v.code))throw g;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+g),o.reject(g)}var v})).then(()=>o.promise)}function Vl(i){if(i._initialized||i._terminated)throw new Ot(wt.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Lo{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ot(wt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new si(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class bo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bo(W.fromBase64String(e))}catch(t){throw new Ot(wt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new bo(W.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class va{constructor(e){this._methodName=e}}class Cu{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ot(wt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ot(wt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return gr(this._lat,e._lat)||gr(this._long,e._long)}}const Fc=/^__.*__$/;class Qm{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new Oa(e,this.data,this.fieldMask,t,this.fieldTransforms):new vu(e,this.data,t,this.fieldTransforms)}}class ig{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new Oa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function sg(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wn()}}class zd{constructor(e,t,o,c,g,v){this.settings=e,this.databaseId=t,this.wt=o,this.ignoreUndefinedProperties=c,void 0===g&&this.Xc(),this.fieldTransforms=g||[],this.fieldMask=v||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new zd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.ta({path:o,na:!1});return c.sa(e),c}ia(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),c=this.ta({path:o,na:!1});return c.Xc(),c}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return Xd(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(sg(this.Zc)&&Fc.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class Jm{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=o||Hh(e)}aa(e,t,o,c=!1){return new zd({Zc:e,methodName:t,ca:o,path:si.emptyPath(),na:!1,ua:c},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function rl(i){const e=i._freezeSettings(),t=Hh(i._databaseId);return new Jm(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Wd(i,e,t,o,c,g={}){const v=i.aa(g.merge||g.mergeFields?2:0,e,t,c);ug("Data must be an object, but it was:",v,o);const A=Kd(o,v);let V,H;if(g.merge)V=new R(v.fieldMask),H=v.fieldTransforms;else if(g.mergeFields){const oe=[];for(const He of g.mergeFields){const vt=Zd(e,He,t);if(!v.contains(vt))throw new Ot(wt.INVALID_ARGUMENT,`Field '${vt}' is specified in your field mask but missing from your input data.`);Ef(oe,vt)||oe.push(vt)}V=new R(oe),H=v.fieldTransforms.filter(He=>V.covers(He.field))}else V=null,H=v.fieldTransforms;return new Qm(new gs(A),V,H)}class Lc extends va{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lc}}function og(i,e,t){return new zd({Zc:3,ca:e.settings.ca,methodName:i._methodName,na:t},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class ag extends va{_toFieldTransform(e){return new eu(e.path,new Uu)}isEqual(e){return e instanceof ag}}class ey extends va{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=og(this,e,!0),o=this.ha.map(g=>au(g,t)),c=new mu(o);return new eu(e.path,c)}isEqual(e){return this===e}}class Uv extends va{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=og(this,e,!0),o=this.ha.map(g=>au(g,t)),c=new yu(o);return new eu(e.path,c)}isEqual(e){return this===e}}class ty extends va{constructor(e,t){super(e),this.la=t}_toFieldTransform(e){const t=new Ra(e.wt,td(e.wt,this.la));return new eu(e.path,t)}isEqual(e){return this===e}}function qd(i,e,t,o){const c=i.aa(1,e,t);ug("Data must be an object, but it was:",c,o);const g=[],v=gs.empty();Mo(o,(V,H)=>{const oe=Vc(e,V,t);H=(0,ke.m9)(H);const He=c.ia(oe);if(H instanceof Lc)g.push(oe);else{const vt=au(H,He);null!=vt&&(g.push(oe),v.set(oe,vt))}});const A=new R(g);return new ig(v,A,c.fieldTransforms)}function Yd(i,e,t,o,c,g){const v=i.aa(1,e,t),A=[Zd(e,o,t)],V=[c];if(g.length%2!=0)throw new Ot(wt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let vt=0;vt<g.length;vt+=2)A.push(Zd(e,g[vt])),V.push(g[vt+1]);const H=[],oe=gs.empty();for(let vt=A.length-1;vt>=0;--vt)if(!Ef(H,A[vt])){const Pt=A[vt];let jt=V[vt];jt=(0,ke.m9)(jt);const In=v.ia(Pt);if(jt instanceof Lc)H.push(Pt);else{const Bn=au(jt,In);null!=Bn&&(H.push(Pt),oe.set(Pt,Bn))}}const He=new R(H);return new ig(oe,He,v.fieldTransforms)}function ny(i,e,t,o=!1){return au(t,i.aa(o?4:3,e))}function au(i,e){if(_f(i=(0,ke.m9)(i)))return ug("Unsupported field value:",e,i),Kd(i,e);if(i instanceof va)return function(t,o){if(!sg(o.Zc))throw o.oa(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.oa(`${t._methodName}() is not currently supported inside arrays`);const c=t._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,o){const c=[];let g=0;for(const v of t){let A=au(v,o.ra(g));null==A&&(A={nullValue:"NULL_VALUE"}),c.push(A),g++}return{arrayValue:{values:c}}}(i,e)}return function(t,o){if(null===(t=(0,ke.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return td(o.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const c=ii.fromDate(t);return{timestampValue:Ku(o.wt,c)}}if(t instanceof ii){const c=new ii(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ku(o.wt,c)}}if(t instanceof Cu)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof bo)return{bytesValue:ld(o.wt,t._byteString)};if(t instanceof Hi){const c=o.databaseId,g=t.firestore._databaseId;if(!g.isEqual(c))throw o.oa(`Document reference is for database ${g.projectId}/${g.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:zs(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.oa(`Unsupported field value: ${eg(t)}`)}(i,e)}function Kd(i,e){const t={};return ca(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mo(i,(o,c)=>{const g=au(c,e.ea(o));null!=g&&(t[o]=g)}),{mapValue:{fields:t}}}function _f(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof ii||i instanceof Cu||i instanceof bo||i instanceof Hi||i instanceof va)}function ug(i,e,t){if(!_f(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=eg(t);throw e.oa("an object"===o?i+" a custom object":i+" "+o)}var o}function Zd(i,e,t){if((e=(0,ke.m9)(e))instanceof Lo)return e._internalPath;if("string"==typeof e)return Vc(i,e);throw Xd("Field path arguments must be of type string or ",i,!1,void 0,t)}const lg=new RegExp("[~\\*/\\[\\]]");function Vc(i,e,t){if(e.search(lg)>=0)throw Xd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Lo(...e.split("."))._internalPath}catch{throw Xd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Xd(i,e,t,o,c){const g=o&&!o.isEmpty(),v=void 0!==c;let A=`Function ${e}() called with invalid data`;t&&(A+=" (via `toFirestore()`)"),A+=". ";let V="";return(g||v)&&(V+=" (found",g&&(V+=` in field ${o}`),v&&(V+=` in document ${c}`),V+=")"),new Ot(wt.INVALID_ARGUMENT,A+i+V)}function Ef(i,e){return i.some(t=>t.isEqual(e))}class Bc{constructor(e,t,o,c,g){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=c,this._converter=g}get id(){return this._key.path.lastSegment()}get ref(){return new Hi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ry(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field($c("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ry extends Bc{data(){return super.data()}}function $c(i,e){return"string"==typeof e?Vc(i,e):e instanceof Lo?e._internalPath:e._delegate._internalPath}class il{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Tu extends Bc{constructor(e,t,o,c,g,v){super(e,t,o,c,v),this._firestore=e,this._firestoreImpl=e,this.metadata=g}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field($c("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class Uc extends Tu{data(e={}){return super.data(e)}}class Su{constructor(e,t,o,c){this._firestore=e,this._userDataWriter=t,this._snapshot=c,this.metadata=new il(c.hasPendingWrites,c.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new Uc(this._firestore,this._userDataWriter,o.key,o,new il(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ot(wt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let g=0;return o._snapshot.docChanges.map(v=>({type:"added",doc:new Uc(o._firestore,o._userDataWriter,v.doc.key,v.doc,new il(o._snapshot.mutatedKeys.has(v.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:g++}))}{let g=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(v=>c||3!==v.type).map(v=>{const A=new Uc(o._firestore,o._userDataWriter,v.doc.key,v.doc,new il(o._snapshot.mutatedKeys.has(v.doc.key),o._snapshot.fromCache),o.query.converter);let V=-1,H=-1;return 0!==v.type&&(V=g.indexOf(v.doc.key),g=g.delete(v.doc.key)),1!==v.type&&(g=g.add(v.doc),H=g.indexOf(v.doc.key)),{type:cg(v.type),doc:A,oldIndex:V,newIndex:H}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function cg(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wn()}}function dg(i,e){return i instanceof Tu&&e instanceof Tu?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Su&&e instanceof Su&&i._firestore===e._firestore&&Zm(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function iy(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Ot(wt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jc{}function Au(i,...e){for(const t of e)i=t._apply(i);return i}class sy extends jc{constructor(e,t,o){super(),this.fa=e,this.da=t,this._a=o,this.type="where"}_apply(e){const t=rl(e.firestore),o=function(c,g,v,A,V,H,oe){let He;if(V.isKeyField()){if("array-contains"===H||"array-contains-any"===H)throw new Ot(wt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${H}' queries on documentId().`);if("in"===H||"not-in"===H){ks(oe,H);const Pt=[];for(const jt of oe)Pt.push(hy(A,c,jt));He={arrayValue:{values:Pt}}}else He=hy(A,c,oe)}else"in"!==H&&"not-in"!==H&&"array-contains-any"!==H||ks(oe,H),He=ny(v,"where",oe,"in"===H||"not-in"===H);const vt=Ss.create(V,H,He);return function(Pt,jt){if(jt.ht()){const Bn=yl(Pt);if(null!==Bn&&!Bn.isEqual(jt.field))throw new Ot(wt.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Bn.toString()}' and '${jt.field.toString()}'`);const ei=Zl(Pt);null!==ei&&mg(0,jt.field,ei)}const In=function(Bn,ei){for(const Gi of Bn.filters)if(ei.indexOf(Gi.op)>=0)return Gi.op;return null}(Pt,function(Bn){switch(Bn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(jt.op));if(null!==In)throw new Ot(wt.INVALID_ARGUMENT,In===jt.op?`Invalid query. You cannot use more than one '${jt.op.toString()}' filter.`:`Invalid query. You cannot use '${jt.op.toString()}' filters with '${In.toString()}' filters.`)}(c,vt),vt}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new Xs(e.firestore,e.converter,function(c,g){const v=c.filters.concat([g]);return new xa(c.path,c.collectionGroup,c.explicitOrderBy.slice(),v,c.limit,c.limitType,c.startAt,c.endAt)}(e._query,o))}}class oy extends jc{constructor(e,t){super(),this.fa=e,this.wa=t,this.type="orderBy"}_apply(e){const t=function(o,c,g){if(null!==o.startAt)throw new Ot(wt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Ot(wt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const v=new Aa(c,g);return function(A,V){if(null===Zl(A)){const H=yl(A);null!==H&&mg(0,H,V.field)}}(o,v),v}(e._query,this.fa,this.wa);return new Xs(e.firestore,e.converter,function(o,c){const g=o.explicitOrderBy.concat([c]);return new xa(o.path,o.collectionGroup,g,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class fg extends jc{constructor(e,t,o){super(),this.type=e,this.ma=t,this.ga=o}_apply(e){return new Xs(e.firestore,e.converter,ph(e._query,this.ma,this.ga))}}class pg extends jc{constructor(e,t,o){super(),this.type=e,this.ya=t,this.pa=o}_apply(e){const t=gg(e,this.type,this.ya,this.pa);return new Xs(e.firestore,e.converter,(c=t,new xa((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,c,o.endAt)));var o,c}}class jv extends jc{constructor(e,t,o){super(),this.type=e,this.ya=t,this.pa=o}_apply(e){const t=gg(e,this.type,this.ya,this.pa);return new Xs(e.firestore,e.converter,(c=t,new xa((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,c)));var o,c}}function gg(i,e,t,o){if(t[0]=(0,ke.m9)(t[0]),t[0]instanceof Bc)return function(c,g,v,A,V){if(!A)throw new Ot(wt.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${v}().`);const H=[];for(const oe of gu(c))if(oe.field.isKeyField())H.push(Xa(g,A.key));else{const He=A.data.field(oe.field);if(on(He))throw new Ot(wt.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+oe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===He){const vt=oe.field.canonicalString();throw new Ot(wt.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${vt}' (used as the orderBy) does not exist.`)}H.push(He)}return new fu(H,V)}(i._query,i.firestore._databaseId,e,t[0]._document,o);{const c=rl(i.firestore);return function(g,v,A,V,H,oe){const He=g.explicitOrderBy;if(H.length>He.length)throw new Ot(wt.INVALID_ARGUMENT,`Too many arguments provided to ${V}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const vt=[];for(let Pt=0;Pt<H.length;Pt++){const jt=H[Pt];if(He[Pt].field.isKeyField()){if("string"!=typeof jt)throw new Ot(wt.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${V}(), but got a ${typeof jt}`);if(!vl(g)&&-1!==jt.indexOf("/"))throw new Ot(wt.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${V}() must be a plain document ID, but '${jt}' contains a slash.`);const In=g.path.child(Sr.fromString(jt));if(!Xt.isDocumentKey(In))throw new Ot(wt.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${V}() must result in a valid document path, but '${In}' is not because it contains an odd number of segments.`);const Bn=new Xt(In);vt.push(Xa(v,Bn))}else{const In=ny(A,V,jt);vt.push(In)}}return new fu(vt,oe)}(i._query,i.firestore._databaseId,c,e,t,o)}}function hy(i,e,t){if("string"==typeof(t=(0,ke.m9)(t))){if(""===t)throw new Ot(wt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vl(e)&&-1!==t.indexOf("/"))throw new Ot(wt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(Sr.fromString(t));if(!Xt.isDocumentKey(o))throw new Ot(wt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Xa(i,new Xt(o))}if(t instanceof Hi)return Xa(i,t._key);throw new Ot(wt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${eg(t)}.`)}function ks(i,e){if(!Array.isArray(i)||0===i.length)throw new Ot(wt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new Ot(wt.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function mg(i,e,t){if(!t.isEqual(e))throw new Ot(wt.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const zv={maxAttempts:5};class yg{convertValue(e,t="none"){switch(qo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ft(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw wn()}}convertObject(e,t){const o={};return Mo(e.fields,(c,g)=>{o[c]=this.convertValue(g,t)}),o}convertGeoPoint(e){return new Cu(dt(e.latitude),dt(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=Zn(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(cr(e));default:return null}}convertTimestamp(e){const t=rt(e);return new ii(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=Sr.fromString(e);Rn(Qo(o));const c=new Pn(o.get(1),o.get(3)),g=new Xt(o.popFirst(5));return c.isEqual(t)||Ei(`Document ${g} contains a document reference within a different database (${c.projectId}/${c.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),g}}function Qd(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}class Wv extends yg{constructor(e){super(),this.firestore=e}convertBytes(e){return new bo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Hi(this.firestore,null,t)}}class vg{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=rl(e)}set(e,t,o){this._verifyNotCommitted();const c=xu(e,this._firestore),g=Qd(c.converter,t,o),v=Wd(this._dataReader,"WriteBatch.set",c._key,g,null!==c.converter,o);return this._mutations.push(v.toMutation(c._key,os.none())),this}update(e,t,o,...c){this._verifyNotCommitted();const g=xu(e,this._firestore);let v;return v="string"==typeof(t=(0,ke.m9)(t))||t instanceof Lo?Yd(this._dataReader,"WriteBatch.update",g._key,t,o,c):qd(this._dataReader,"WriteBatch.update",g._key,t),this._mutations.push(v.toMutation(g._key,os.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=xu(e,this._firestore);return this._mutations=this._mutations.concat(new _u(t._key,os.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ot(wt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function xu(i,e){if((i=(0,ke.m9)(i)).firestore!==e)throw new Ot(wt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class Bl extends yg{constructor(e){super(),this.firestore=e}convertBytes(e){return new bo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Hi(this.firestore,null,t)}}function _g(i,e,t){i=Ur(i,Hi);const o=Ur(i.firestore,ys),c=Qd(i.converter,e,t);return ho(o,[Wd(rl(o),"setDoc",i._key,c,null!==i.converter,t).toMutation(i._key,os.none())])}function bf(i,e,t,...o){i=Ur(i,Hi);const c=Ur(i.firestore,ys),g=rl(c);let v;return v="string"==typeof(e=(0,ke.m9)(e))||e instanceof Lo?Yd(g,"updateDoc",i._key,e,t,o):qd(g,"updateDoc",i._key,e),ho(c,[v.toMutation(i._key,os.exists(!0))])}function gy(i,...e){var t,o,c;i=(0,ke.m9)(i);let g={includeMetadataChanges:!1},v=0;"object"!=typeof e[v]||rg(e[v])||(g=e[v],v++);const A={includeMetadataChanges:g.includeMetadataChanges};if(rg(e[v])){const He=e[v];e[v]=null===(t=He.next)||void 0===t?void 0:t.bind(He),e[v+1]=null===(o=He.error)||void 0===o?void 0:o.bind(He),e[v+2]=null===(c=He.complete)||void 0===c?void 0:c.bind(He)}let V,H,oe;if(i instanceof Hi)H=Ur(i.firestore,ys),oe=Ma(i._key.path),V={next:He=>{e[v]&&e[v](na(H,i,He))},error:e[v+1],complete:e[v+2]};else{const He=Ur(i,Xs);H=Ur(He.firestore,ys),oe=He._query;const vt=new Bl(H);V={next:Pt=>{e[v]&&e[v](new Su(H,vt,He,Pt))},error:e[v+1],complete:e[v+2]},iy(i._query)}return function(He,vt,Pt,jt){const In=new lf(jt),Bn=new Mp(vt,In,Pt);return He.asyncQueue.enqueueAndForget((0,z.Z)(function*(){return Xh(yield Oc(He),Bn)})),()=>{In.Tc(),He.asyncQueue.enqueueAndForget((0,z.Z)(function*(){return xp(yield Oc(He),Bn)}))}}(Ps(H),oe,A,V)}function ho(i,e){return function(t,o){const c=new bi;return t.asyncQueue.enqueueAndForget((0,z.Z)(function*(){return function bv(i,e,t){return ef.apply(this,arguments)}(yield Zp(t),o,c)})),c.promise}(Ps(i),e)}function na(i,e,t){const o=t.docs.get(e._key),c=new Bl(i);return new Tu(i,c,e._key,o,new il(t.hasPendingWrites,t.fromCache),e.converter)}class my extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=rl(e)}get(e){const t=xu(e,this._firestore),o=new Wv(this._firestore);return this._transaction.lookup([t._key]).then(c=>{if(!c||1!==c.length)return wn();const g=c[0];if(g.isFoundDocument())return new Bc(this._firestore,o,g.key,g,t.converter);if(g.isNoDocument())return new Bc(this._firestore,o,t._key,null,t.converter);throw wn()})}set(e,t,o){const c=xu(e,this._firestore),g=Qd(c.converter,t,o),v=Wd(this._dataReader,"Transaction.set",c._key,g,null!==c.converter,o);return this._transaction.set(c._key,v),this}update(e,t,o,...c){const g=xu(e,this._firestore);let v;return v="string"==typeof(t=(0,ke.m9)(t))||t instanceof Lo?Yd(this._dataReader,"Transaction.update",g._key,t,o,c):qd(this._dataReader,"Transaction.update",g._key,t),this._transaction.update(g._key,v),this}delete(e){const t=xu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=xu(e,this._firestore),o=new Bl(this._firestore);return super.get(e).then(c=>new Tu(this._firestore,o,t._key,c._document,new il(!1,!1),t.converter))}}function If(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ot("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function Jd(){if(typeof Uint8Array>"u")throw new Ot("unimplemented","Uint8Arrays are not available in this environment.")}function _y(){if(!function F(){return typeof atob<"u"}())throw new Ot("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){Ys=et.SDK_VERSION,(0,et._registerComponent)(new Ge.wA("firestore",(t,{options:o})=>{const c=t.getProvider("app").getImmediate(),g=new ys(c,new Ho(t.getProvider("auth-internal")),new ua(t.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:e},o),g._setSettings(o),g},"PUBLIC")),(0,et.registerVersion)(ji,"3.4.11",i),(0,et.registerVersion)(ji,"3.4.11","esm2017")}();class Gc{constructor(e){this._delegate=e}static fromBase64String(e){return _y(),new Gc(bo.fromBase64String(e))}static fromUint8Array(e){return Jd(),new Gc(bo.fromUint8Array(e))}toBase64(){return _y(),this._delegate.toBase64()}toUint8Array(){return Jd(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Df(i){return function wg(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const o of e)if(o in t&&"function"==typeof t[o])return!0;return!1}(i,["next","error","complete"])}class Cf{enableIndexedDbPersistence(e,t){return function $v(i,e){Vl(i=Ur(i,ys));const t=Ps(i),o=i._freezeSettings(),c=new Ud;return Pc(t,c,new Mv(c,o.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function ou(i){Vl(i=Ur(i,ys));const e=Ps(i),t=i._freezeSettings(),o=new Ud;return Pc(e,o,new h0(o,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function co(i){if(i._initialized&&!i._terminated)throw new Ot(wt.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new bi;return i._queue.enqueueAndForgetEvenWhileRestricted((0,z.Z)(function*(){try{yield(t=(0,z.Z)(function*(o){if(!dn.V())return Promise.resolve();const c=o+"main";yield dn.delete(c)}),function(o){return t.apply(this,arguments)})(ga(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Ig{constructor(e,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof Pn||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&oo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,o={}){!function m0(i,e,t,o={}){var c;const g=(i=Ur(i,Hd))._getSettings();if("firestore.googleapis.com"!==g.host&&g.host!==e&&oo("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},g),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let v,A;if("string"==typeof o.mockUserToken)v=o.mockUserToken,A=Vi.MOCK_USER;else{v=(0,ke.Sg)(o.mockUserToken,null===(c=i._app)||void 0===c?void 0:c.options.projectId);const V=o.mockUserToken.sub||o.mockUserToken.user_id;if(!V)throw new Ot(wt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Vi(V)}i._authCredentials=new ku(new aa(v,A))}}(this._delegate,e,t,o)}enableNetwork(){return function vf(i){return function Ov(i){return i.asyncQueue.enqueue((0,z.Z)(function*(){const e=yield Yp(i),t=yield Kp(i);return e.setNetworkEnabled(!0),function(o){const c=en(o);return c.lu.delete(0),Cd(c)}(t)}))}(Ps(i=Ur(i,ys)))}(this._delegate)}disableNetwork(){return function ya(i){return function qm(i){return i.asyncQueue.enqueue((0,z.Z)(function*(){const e=yield Yp(i),t=yield Kp(i);return e.setNetworkEnabled(!1),(o=(0,z.Z)(function*(c){const g=en(c);g.lu.add(0),yield Rl(g),g._u.set("Offline")}),function(c){return o.apply(this,arguments)})(t);var o}))}(Ps(i=Ur(i,ys)))}(this._delegate)}enablePersistence(e){let t=!1,o=!1;return e&&(t=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,Fv("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Ll(i){return function(e){const t=new bi;return e.asyncQueue.enqueueAndForget((0,z.Z)(function*(){return function Cv(i,e){return Fm.apply(this,arguments)}(yield Zp(e),t)})),t.promise}(Ps(i=Ur(i,ys)))}(this._delegate)}onSnapshotsInSync(e){return function lu(i,e){return function p0(i,e){const t=new lf(e);return i.asyncQueue.enqueueAndForget((0,z.Z)(function*(){return o=yield Oc(i),c=t,en(o).Tu.add(c),void c.next();var o,c})),()=>{t.Tc(),i.asyncQueue.enqueueAndForget((0,z.Z)(function*(){return o=yield Oc(i),c=t,void en(o).Tu.delete(c);var o,c}))}}(Ps(i=Ur(i,ys)),rg(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Ot("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new zc(this,ff(this._delegate,e))}catch(t){throw fo(t,"collection()","Firestore.collection()")}}doc(e){try{return new ra(this,pf(this._delegate,e))}catch(t){throw fo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new wo(this,function Vv(i,e){if(i=Ur(i,Hd),hf("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ot(wt.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Xs(i,null,(t=e,new xa(Sr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw fo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function yy(i,e,t){i=Ur(i,ys);const o=Object.assign(Object.assign({},zv),t);return function(c){if(c.maxAttempts<1)throw new Ot(wt.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function g0(i,e,t){const o=new bi;return i.asyncQueue.enqueueAndForget((0,z.Z)(function*(){const c=yield(g=i,Rc(g).then(v=>v.datastore));var g;new Gm(i.asyncQueue,c,t,e,o).run()})),o.promise}(Ps(i),c=>e(new my(i,c)),o)}(this._delegate,t=>e(new Dg(this,t)))}batch(){return Ps(this._delegate),new Cg(new vg(this._delegate,e=>ho(this._delegate,e)))}loadBundle(e){return function kc(i,e){const t=Ps(i=Ur(i,ys)),o=new gf;return function kv(i,e,t,o){const c=function(g,v){let A;return A="string"==typeof g?(new TextEncoder).encode(g):g,V=function(V,H){if(V instanceof Uint8Array)return Rv(V,H);if(V instanceof ArrayBuffer)return Rv(new Uint8Array(V),H);if(V instanceof ReadableStream)return V.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(A),new jm(V,v);var V}(t,Hh(e));i.asyncQueue.enqueueAndForget((0,z.Z)(function*(){!function Hp(i,e,t){const o=en(i);var c;(c=(0,z.Z)(function*(g,v,A){try{const V=yield v.getMetadata();if(yield function(vt,Pt){const jt=en(vt),In=Os(Pt.createTime);return jt.persistence.runTransaction("hasNewerBundle","readonly",Bn=>jt.Ds.getBundleMetadata(Bn,Pt.id)).then(Bn=>!!Bn&&Bn.createTime.compareTo(In)>=0)}(g.localStore,V))return yield v.close(),A._completeWith({taskState:"Success",documentsLoaded:(vt=V).totalDocuments,bytesLoaded:vt.totalBytes,totalDocuments:vt.totalDocuments,totalBytes:vt.totalBytes}),Promise.resolve(new Set);A._updateProgress(Ac(V));const H=new _v(V,g.localStore,v.wt);let oe=yield v.fc();for(;oe;){const vt=yield H.Nu(oe);vt&&A._updateProgress(vt),oe=yield v.fc()}const He=yield H.complete();return yield Du(g,He.Mu,void 0),yield function(vt,Pt){const jt=en(vt);return jt.persistence.runTransaction("Save bundle","readwrite",In=>jt.Ds.saveBundleMetadata(In,Pt))}(g.localStore,V),A._completeWith(He.progress),Promise.resolve(He.Ou)}catch(V){return oo("SyncEngine",`Loading bundle failed with ${V}`),A._failWith(V),Promise.resolve(new Set)}var vt}),function(g,v,A){return c.apply(this,arguments)})(o,e,t).then(c=>{o.sharedClientState.notifyBundleLoaded(c)})}(yield Zp(i),c,o)}))}(t,i._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function Nc(i,e){return function Nv(i,e){return i.asyncQueue.enqueue((0,z.Z)(function*(){return function(t,o){const c=en(t);return c.persistence.runTransaction("Get named query","readonly",g=>c.Ds.getNamedQuery(g,o))}(yield df(i),e)}))}(Ps(i=Ur(i,ys)),e).then(t=>t?new Xs(i,null,t.query):null)}(this._delegate,e).then(t=>t?new wo(this,t):null)}}class eh extends yg{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gc(new bo(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ra.forKey(t,this.firestore,null)}}class Dg{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new eh(e)}get(e){const t=$l(e);return this._delegate.get(t).then(o=>new th(this._firestore,new Tu(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(e,t,o){const c=$l(e);return o?(If("Transaction.set",o),this._delegate.set(c,t,o)):this._delegate.set(c,t),this}update(e,t,o,...c){const g=$l(e);return 2===arguments.length?this._delegate.update(g,t):this._delegate.update(g,t,o,...c),this}delete(e){const t=$l(e);return this._delegate.delete(t),this}}class Cg{constructor(e){this._delegate=e}set(e,t,o){const c=$l(e);return o?(If("WriteBatch.set",o),this._delegate.set(c,t,o)):this._delegate.set(c,t),this}update(e,t,o,...c){const g=$l(e);return 2===arguments.length?this._delegate.update(g,t):this._delegate.update(g,t,o,...c),this}delete(e){const t=$l(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class sl{constructor(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}fromFirestore(e,t){const o=new Uc(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new nh(this._firestore,o),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const o=sl.INSTANCES;let c=o.get(e);c||(c=new WeakMap,o.set(e,c));let g=c.get(t);return g||(g=new sl(e,new eh(e),t),c.set(t,g)),g}}sl.INSTANCES=new WeakMap;class ra{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new eh(e)}static forPath(e,t,o){if(e.length%2!=0)throw new Ot("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ra(t,new Hi(t._delegate,o,new Xt(e)))}static forKey(e,t,o){return new ra(t,new Hi(t._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new zc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new zc(this.firestore,ff(this._delegate,e))}catch(t){throw fo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,ke.m9)(e))instanceof Hi&&Km(this._delegate,e)}set(e,t){t=If("DocumentReference.set",t);try{return t?_g(this._delegate,e,t):_g(this._delegate,e)}catch(o){throw fo(o,"setDoc()","DocumentReference.set()")}}update(e,t,...o){try{return 1===arguments.length?bf(this._delegate,e):bf(this._delegate,e,t,...o)}catch(c){throw fo(c,"updateDoc()","DocumentReference.update()")}}delete(){return function uu(i){return ho(Ur(i.firestore,ys),[new _u(i._key,os.none())])}(this._delegate)}onSnapshot(...e){const t=by(e),o=wy(e,c=>new th(this.firestore,new Tu(this.firestore._delegate,this._userDataWriter,c._key,c._document,c.metadata,this._delegate.converter)));return gy(this._delegate,t,o)}get(e){let t;return t="cache"===e?.source?function qv(i){i=Ur(i,Hi);const e=Ur(i.firestore,ys),t=Ps(e),o=new Bl(e);return function f0(i,e){const t=new bi;return i.asyncQueue.enqueueAndForget((0,z.Z)(function*(){return(o=(0,z.Z)(function*(c,g,v){try{const A=yield function(V,H){const oe=en(V);return oe.persistence.runTransaction("read document","readonly",He=>oe.localDocuments.getDocument(He,H))}(c,g);A.isFoundDocument()?v.resolve(A):A.isNoDocument()?v.resolve(null):v.reject(new Ot(wt.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(A){const V=Rd(A,`Failed to get document '${g} from cache`);v.reject(V)}}),function(c,g,v){return o.apply(this,arguments)})(yield df(i),e,t);var o})),t.promise}(t,i._key).then(c=>new Tu(e,o,i._key,c,new il(null!==c&&c.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===e?.source?function fy(i){i=Ur(i,Hi);const e=Ur(i.firestore,ys);return Qp(Ps(e),i._key,{source:"server"}).then(t=>na(e,i,t))}(this._delegate):function Hc(i){i=Ur(i,Hi);const e=Ur(i.firestore,ys);return Qp(Ps(e),i._key).then(t=>na(e,i,t))}(this._delegate),t.then(o=>new th(this.firestore,new Tu(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new ra(this.firestore,this._delegate.withConverter(e?sl.getInstance(this.firestore,e):null))}}function fo(i,e,t){return i.message=i.message.replace(e,t),i}function by(i){for(const e of i)if("object"==typeof e&&!Df(e))return e;return{}}function wy(i,e){var t,o;let c;return c=Df(i[0])?i[0]:Df(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:g=>{c.next&&c.next(e(g))},error:null===(t=c.error)||void 0===t?void 0:t.bind(c),complete:null===(o=c.complete)||void 0===o?void 0:o.bind(c)}}class th{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ra(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return dg(this._delegate,e._delegate)}}class nh extends th{data(e){const t=this._delegate.data(e);return function oa(i,e){i||wn()}(void 0!==t),t}}class wo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new eh(e)}where(e,t,o){try{return new wo(this.firestore,Au(this._delegate,function hg(i,e,t){const o=e,c=$c("where",i);return new sy(c,o,t)}(e,t,o)))}catch(c){throw fo(c,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new wo(this.firestore,Au(this._delegate,function ay(i,e="asc"){const t=e,o=$c("orderBy",i);return new oy(o,t)}(e,t)))}catch(o){throw fo(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new wo(this.firestore,Au(this._delegate,function uy(i){return tg("limit",i),new fg("limit",i,"F")}(e)))}catch(t){throw fo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new wo(this.firestore,Au(this._delegate,function ly(i){return tg("limitToLast",i),new fg("limitToLast",i,"L")}(e)))}catch(t){throw fo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new wo(this.firestore,Au(this._delegate,function cy(...i){return new pg("startAt",i,!0)}(...e)))}catch(t){throw fo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new wo(this.firestore,Au(this._delegate,function dy(...i){return new pg("startAfter",i,!1)}(...e)))}catch(t){throw fo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new wo(this.firestore,Au(this._delegate,function Hv(...i){return new jv("endBefore",i,!1)}(...e)))}catch(t){throw fo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new wo(this.firestore,Au(this._delegate,function Gv(...i){return new jv("endAt",i,!0)}(...e)))}catch(t){throw fo(t,"endAt()","Query.endAt()")}}isEqual(e){return Zm(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function py(i){i=Ur(i,Xs);const e=Ur(i.firestore,ys),t=Ps(e),o=new Bl(e);return function Pv(i,e){const t=new bi;return i.asyncQueue.enqueueAndForget((0,z.Z)(function*(){return(o=(0,z.Z)(function*(c,g,v){try{const A=yield Al(c,g,!0),V=new kl(g,A.ji),H=V.Ku(A.documents),oe=V.applyChanges(H,!1);v.resolve(oe.snapshot)}catch(A){const V=Rd(A,`Failed to execute query '${g} against cache`);v.reject(V)}}),function(c,g,v){return o.apply(this,arguments)})(yield df(i),e,t);var o})),t.promise}(t,i._query).then(c=>new Su(e,o,i,c))}(this._delegate):"server"===e?.source?function v0(i){i=Ur(i,Xs);const e=Ur(i.firestore,ys),t=Ps(e),o=new Bl(e);return Ym(t,i._query,{source:"server"}).then(c=>new Su(e,o,i,c))}(this._delegate):function Yv(i){i=Ur(i,Xs);const e=Ur(i.firestore,ys),t=Ps(e),o=new Bl(e);return iy(i._query),Ym(t,i._query).then(c=>new Su(e,o,i,c))}(this._delegate),t.then(o=>new Tg(this.firestore,new Su(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const t=by(e),o=wy(e,c=>new Tg(this.firestore,new Su(this.firestore._delegate,this._userDataWriter,this._delegate,c._snapshot)));return gy(this._delegate,t,o)}withConverter(e){return new wo(this.firestore,this._delegate.withConverter(e?sl.getInstance(this.firestore,e):null))}}class t_{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new nh(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Tg{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new wo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new nh(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new t_(this._firestore,t))}forEach(e,t){this._delegate.forEach(o=>{e.call(t,new nh(this._firestore,o))})}isEqual(e){return dg(this._delegate,e._delegate)}}class zc extends wo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ra(this.firestore,e):null}doc(e){try{return new ra(this.firestore,void 0===e?pf(this._delegate):pf(this._delegate,e))}catch(t){throw fo(t,"doc()","CollectionReference.doc()")}}add(e){return function Kv(i,e){const t=Ur(i.firestore,ys),o=pf(i),c=Qd(i.converter,e);return ho(t,[Wd(rl(i.firestore),"addDoc",o._key,c,null!==i.converter,{}).toMutation(o._key,os.exists(!1))]).then(()=>o)}(this._delegate,e).then(t=>new ra(this.firestore,t))}isEqual(e){return Km(this._delegate,e._delegate)}withConverter(e){return new zc(this.firestore,this._delegate.withConverter(e?sl.getInstance(this.firestore,e):null))}}function $l(i){return Ur(i,Hi)}class Sg{constructor(...e){this._delegate=new Lo(...e)}static documentId(){return new Sg(si.keyField().canonicalString())}isEqual(e){return(e=(0,ke.m9)(e))instanceof Lo&&this._delegate._internalPath.isEqual(e._internalPath)}}class Ul{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Xv(){return new ag("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Ul(e)}static delete(){const e=function Zv(){return new Lc("deleteField")}();return e._methodName="FieldValue.delete",new Ul(e)}static arrayUnion(...e){const t=function Qv(...i){return new ey("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new Ul(t)}static arrayRemove(...e){const t=function Jv(...i){return new Uv("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new Ul(t)}static increment(e){const t=function Eg(i){return new ty("increment",i)}(e);return t._methodName="FieldValue.increment",new Ul(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const n_={Firestore:Ig,GeoPoint:Cu,Timestamp:ii,Blob:Gc,Transaction:Dg,WriteBatch:Cg,DocumentReference:ra,DocumentSnapshot:th,Query:wo,QueryDocumentSnapshot:nh,QuerySnapshot:Tg,CollectionReference:zc,FieldPath:Sg,FieldValue:Ul,setLogLevel:function Ey(i){!function Ca(i){Qs.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function i_(i){(function r_(i,e){i.INTERNAL.registerComponent(new Ge.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),c=t.getProvider("firestore").getImmediate();return e(o,c)},"PUBLIC").setServiceProps(Object.assign({},n_)))})(i,(e,t)=>new Ig(e,t,new Cf)),i.registerVersion("@firebase/firestore-compat","0.1.20")}(Ae.Z);var ol=k(4941),s_=k(440);function Ag(i,e){return function o_(i,e=L.z){return new U.y(t=>{let o;return null!=e?e.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},t)}):o=i.onSnapshot({includeMetadataChanges:!0},t),()=>{o?.()}})}(i,e)}function Tf(i,e){return Ag(i,e).pipe((0,te.U)(t=>({payload:t,type:"query"})))}function rh(i,e){return Tf(i,e).pipe((0,X.O)(void 0),we(),(0,te.U)(([t,o])=>{const c=o.payload.docChanges(),g=c.map(v=>({type:v.type,payload:v}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((v,A)=>{const V=c.find(oe=>oe.doc.ref.isEqual(v.ref)),H=t?.payload.docs.find(oe=>oe.ref.isEqual(v.ref));V&&JSON.stringify(V.doc.metadata)===JSON.stringify(v.metadata)||!V&&H&&JSON.stringify(H.metadata)===JSON.stringify(v.metadata)||g.push({type:"modified",payload:{oldIndex:A,newIndex:A,type:"modified",doc:v}})}),g}))}function xg(i,e,t){return rh(i,t).pipe((0,G.R)((o,c)=>function Dy(i,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(i=function Cy(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return Sf(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Sf(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Sf(i,e.oldIndex,1)}return i}(i,o))}),i}(o,c.map(g=>g.payload),e),[]),(0,Re.x)(),(0,te.U)(o=>o.map(c=>({type:c.type,payload:c}))))}function Sf(i,e,t,...o){const c=i.slice();return c.splice(e,t,...o),c}function Mg(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}k(127);class Rg{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=rh(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,te.U)(o=>o.filter(c=>e.indexOf(c.type)>-1)))),t.pipe((0,X.O)(void 0),we(),(0,Ke.h)(([o,c])=>c.length>0||!o),(0,te.U)(([o,c])=>c),re.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,G.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Mg(e);return xg(this.query,t,this.afs.schedulers.outsideAngular).pipe(re.iC)}valueChanges(e={}){return Tf(this.query,this.afs.schedulers.outsideAngular).pipe((0,te.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),re.iC)}get(e){return(0,Ie.D)(this.query.get(e)).pipe(re.iC)}add(e){return this.ref.add(e)}doc(e){return new Og(this.ref.doc(e),this.afs)}}class Og{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:c,query:g}=Af(o,t);return new Rg(c,g,this.afs)}snapshotChanges(){return function Iy(i,e){return Ag(i,e).pipe((0,X.O)(void 0),we(),(0,te.U)(([t,o])=>o.exists?t?.exists?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(re.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,te.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Ie.D)(this.ref.get(e)).pipe(re.iC)}}class jl{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?rh(this.query,this.afs.schedulers.outsideAngular).pipe((0,te.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),(0,Ke.h)(t=>t.length>0),re.iC):rh(this.query,this.afs.schedulers.outsideAngular).pipe(re.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,G.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Mg(e);return xg(this.query,t,this.afs.schedulers.outsideAngular).pipe(re.iC)}valueChanges(e={}){return Tf(this.query,this.afs.schedulers.outsideAngular).pipe((0,te.U)(o=>o.payload.docs.map(c=>e.idField?Object.assign({[e.idField]:c.id},c.data()):c.data())),re.iC)}get(e){return(0,Ie.D)(this.query.get(e)).pipe(re.iC)}}const a_=new l.OlP("angularfire2.enableFirestorePersistence"),u_=new l.OlP("angularfire2.firestore.persistenceSettings"),Wc=new l.OlP("angularfire2.firestore.settings"),b0=new l.OlP("angularfire2.firestore.use-emulator");function Af(i,e=(t=>t)){return{query:e(i),ref:i}}let w0=(()=>{class i{constructor(t,o,c,g,v,A,V,H,oe,He,vt,Pt,jt,In,Bn,ei,Gi){this.schedulers=V;const Ri=(0,ue.on)(t,A,o),Ns=oe;He&&(0,ol.nw)(Ri,A,vt,jt,In,Bn,Pt,ei),[this.firestore,this.persistenceEnabled$]=(0,ue.cc)(`${Ri.name}.firestore`,"AngularFirestore",Ri.name,()=>{const Ji=A.runOutsideAngular(()=>Ri.firestore());if(g&&Ji.settings(g),Ns&&Ji.useEmulator(...Ns),c&&!(0,le.PM)(v)){const Bi=()=>{try{return(0,Ie.D)(Ji.enablePersistence(H||void 0).then(()=>!0,()=>!1))}catch(po){return typeof console<"u"&&console.warn(po),(0,be.of)(!1)}};return[Ji,A.runOutsideAngular(Bi)]}return[Ji,(0,be.of)(!1)]},[g,Ns,c])}collection(t,o){let c;c="string"==typeof t?this.firestore.collection(t):t;const{ref:g,query:v}=Af(c,o),A=this.schedulers.ngZone.run(()=>g);return new Rg(A,v,this)}collectionGroup(t,o){const c=o||(v=>v),g=this.firestore.collectionGroup(t);return new jl(c(g),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const c=this.schedulers.ngZone.run(()=>o);return new Og(c,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(l.LFG(ue.Dh),l.LFG(ue.xv,8),l.LFG(a_,8),l.LFG(Wc,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(re.HU),l.LFG(u_,8),l.LFG(b0,8),l.LFG(ol.zQ,8),l.LFG(ol.Qv,8),l.LFG(ol.L6,8),l.LFG(ol._Q,8),l.LFG(ol.rT,8),l.LFG(ol.lh,8),l.LFG(ol.f7,8),l.LFG(s_.nm,8))},i.\u0275prov=l.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})()},4586:(zt,st,k)=>{"use strict";k.d(st,{Q1:()=>bs});var l=k(2916),L=k(1086),U=k(5254),Ie=k(3489),be=k(353);class ge{constructor(a,f){this.dueTime=a,this.scheduler=f}call(a,f){return f.subscribe(new we(a,this.dueTime,this.scheduler))}}class we extends Ie.L{constructor(a,f,_){super(a),this.dueTime=f,this.scheduler=_,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(a){this.clearDebounce(),this.lastValue=a,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(ae,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:a}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(a)}}clearDebounce(){const a=this.debouncedSubscription;null!==a&&(this.remove(a),a.unsubscribe(),this.debouncedSubscription=null)}}function ae(h){h.debouncedNext()}var Q=k(4850),X=k(7545),te=k(6351),G=k(5062),Re=k(2011),Ke=k(3942),ue=k(5861),le=k(9681),Se=k(2090),Ae=k(4859);const z="firebasestorage.googleapis.com",et="storageBucket";class ke extends Se.ZR{constructor(a,f){super(ot(a),`Firebase Storage: ${f} (${ot(a)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ke.prototype)}_codeEquals(a){return ot(a)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(a){this.customData.serverResponse=a,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function ot(h){return"storage/"+h}function fe(){return new ke("unknown","An unknown error occurred, please check the error payload for server response.")}function mt(){return new ke("canceled","User canceled the upload/download.")}function We(){return new ke("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function me(h){return new ke("invalid-argument",h)}function at(){return new ke("app-deleted","The Firebase app was deleted.")}function Ct(h){return new ke("invalid-root-operation","The operation '"+h+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function gt(h,a){return new ke("invalid-format","String does not match format '"+h+"': "+a)}function kt(h){throw new ke("internal-error","Internal error: "+h)}class tn{constructor(a,f){this.bucket=a,this.path_=f}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const a=encodeURIComponent;return"/b/"+a(this.bucket)+"/o/"+a(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(a,f){let _;try{_=tn.makeFromUrl(a,f)}catch{return new tn(a,"")}if(""===_.path)return _;throw function tt(h){return new ke("invalid-default-bucket","Invalid default bucket '"+h+"'.")}(a)}static makeFromUrl(a,f){let _=null;const O="([A-Za-z0-9.\\-_]+)",Rt=new RegExp("^gs://"+O+"(/(.*))?$","i");function mn(ri){ri.path_=decodeURIComponent(ri.path)}const On=f.replace(/[.]/g,"\\."),$r=[{regex:Rt,indices:{bucket:1,path:3},postModify:function ie(ri){"/"===ri.path.charAt(ri.path.length-1)&&(ri.path_=ri.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${On}/v[A-Za-z0-9_]+/b/${O}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:mn},{regex:new RegExp(`^https?://${f===z?"(?:storage.googleapis.com|storage.cloud.google.com)":f}/${O}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:mn}];for(let ri=0;ri<$r.length;ri++){const Ki=$r[ri],rs=Ki.regex.exec(a);if(rs){let Vs=rs[Ki.indices.path];Vs||(Vs=""),_=new tn(rs[Ki.indices.bucket],Vs),Ki.postModify(_);break}}if(null==_)throw function At(h){return new ke("invalid-url","Invalid URL '"+h+"'.")}(a);return _}}class Jt{constructor(a){this.promise_=Promise.reject(a)}getPromise(){return this.promise_}cancel(a=!1){}}function Qn(h){return"string"==typeof h||h instanceof String}function gn(h){return Dn()&&h instanceof Blob}function Dn(){return typeof Blob<"u"}function An(h,a,f,_){if(_<a)throw me(`Invalid value for '${h}'. Expected ${a} or greater.`);if(_>f)throw me(`Invalid value for '${h}'. Expected ${f} or less.`)}function zn(h,a,f){let _=a;return null==f&&(_=`https://${a}`),`${f}://${_}/v0${h}`}function Vn(h){const a=encodeURIComponent;let f="?";for(const _ in h)h.hasOwnProperty(_)&&(f=f+(a(_)+"=")+a(h[_])+"&");return f=f.slice(0,-1),f}var Vt=(()=>{return(h=Vt||(Vt={}))[h.NO_ERROR=0]="NO_ERROR",h[h.NETWORK_ERROR=1]="NETWORK_ERROR",h[h.ABORT=2]="ABORT",Vt;var h})();class or{constructor(a,f,_,O,ie,nt,Rt,St,mn,pn,On){this.url_=a,this.method_=f,this.headers_=_,this.body_=O,this.successCodes_=ie,this.additionalRetryCodes_=nt,this.callback_=Rt,this.errorCallback_=St,this.timeout_=mn,this.progressCallback_=pn,this.connectionFactory_=On,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((br,wr)=>{this.resolve_=br,this.reject_=wr,this.start_()})}start_(){const f=(_,O)=>{const ie=this.resolve_,nt=this.reject_,Rt=O.connection;if(O.wasSuccessCode)try{const St=this.callback_(Rt,Rt.getResponse());!function _n(h){return void 0!==h}(St)?ie():ie(St)}catch(St){nt(St)}else if(null!==Rt){const St=fe();St.serverResponse=Rt.getErrorText(),nt(this.errorCallback_?this.errorCallback_(Rt,St):St)}else nt(O.canceled?this.appDelete_?at():mt():function Ne(){return new ke("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?f(0,new bn(!1,null,!0)):this.backoffId_=function xn(h,a,f){let _=1,O=null,ie=null,nt=!1,Rt=0;function St(){return 2===Rt}let mn=!1;function pn(...Kr){mn||(mn=!0,a.apply(null,Kr))}function On(Kr){O=setTimeout(()=>{O=null,h(wr,St())},Kr)}function br(){ie&&clearTimeout(ie)}function wr(Kr,...Yi){if(mn)return void br();if(Kr)return br(),void pn.call(null,Kr,...Yi);if(St()||nt)return br(),void pn.call(null,Kr,...Yi);let $r;_<64&&(_*=2),1===Rt?(Rt=2,$r=0):$r=1e3*(_+Math.random()),On($r)}let Fr=!1;function Qr(Kr){Fr||(Fr=!0,br(),!mn&&(null!==O?(Kr||(Rt=2),clearTimeout(O),On(0)):Kr||(Rt=1)))}return On(0),ie=setTimeout(()=>{nt=!0,Qr(!0)},f),Qr}((_,O)=>{if(O)return void _(!1,new bn(!1,null,!0));const ie=this.connectionFactory_();this.pendingConnection_=ie;const nt=Rt=>{null!==this.progressCallback_&&this.progressCallback_(Rt.loaded,Rt.lengthComputable?Rt.total:-1)};null!==this.progressCallback_&&ie.addUploadProgressListener(nt),ie.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&ie.removeUploadProgressListener(nt),this.pendingConnection_=null;const Rt=ie.getErrorCode()===Vt.NO_ERROR,St=ie.getStatus();if(!Rt||this.isRetryStatusCode_(St)){const pn=ie.getErrorCode()===Vt.ABORT;return void _(!1,new bn(!1,null,pn))}const mn=-1!==this.successCodes_.indexOf(St);_(!0,new bn(mn,ie))})},f,this.timeout_)}getPromise(){return this.promise_}cancel(a){this.canceled_=!0,this.appDelete_=a||!1,null!==this.backoffId_&&function Ht(h){h(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(a){const f=a>=500&&a<600,O=-1!==[408,429].indexOf(a),ie=-1!==this.additionalRetryCodes_.indexOf(a);return f||O||ie}}class bn{constructor(a,f,_){this.wasSuccessCode=a,this.connection=f,this.canceled=!!_}}function Lr(...h){const a=function Er(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==a){const f=new a;for(let _=0;_<h.length;_++)f.append(h[_]);return f.getBlob()}if(Dn())return new Blob(h);throw new ke("unsupported-environment","This browser doesn't seem to support creating Blobs")}const hr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Pr{constructor(a,f){this.data=a,this.contentType=f||null}}function Nn(h,a){switch(h){case hr.RAW:return new Pr(Fe(a));case hr.BASE64:case hr.BASE64URL:return new Pr(Je(h,a));case hr.DATA_URL:return new Pr(function Ee(h){const a=new Le(h);return a.base64?Je(hr.BASE64,a.rest):function Ce(h){let a;try{a=decodeURIComponent(h)}catch{throw gt(hr.DATA_URL,"Malformed data URL.")}return Fe(a)}(a.rest)}(a),function yt(h){return new Le(h).contentType}(a))}throw fe()}function Fe(h){const a=[];for(let f=0;f<h.length;f++){let _=h.charCodeAt(f);_<=127?a.push(_):_<=2047?a.push(192|_>>6,128|63&_):55296==(64512&_)?f<h.length-1&&56320==(64512&h.charCodeAt(f+1))?(_=65536|(1023&_)<<10|1023&h.charCodeAt(++f),a.push(240|_>>18,128|_>>12&63,128|_>>6&63,128|63&_)):a.push(239,191,189):56320==(64512&_)?a.push(239,191,189):a.push(224|_>>12,128|_>>6&63,128|63&_)}return new Uint8Array(a)}function Je(h,a){switch(h){case hr.BASE64:{const O=-1!==a.indexOf("-"),ie=-1!==a.indexOf("_");if(O||ie)throw gt(h,"Invalid character '"+(O?"-":"_")+"' found: is it base64url encoded?");break}case hr.BASE64URL:{const O=-1!==a.indexOf("+"),ie=-1!==a.indexOf("/");if(O||ie)throw gt(h,"Invalid character '"+(O?"+":"/")+"' found: is it base64 encoded?");a=a.replace(/-/g,"+").replace(/_/g,"/");break}}let f;try{f=function qn(h){return atob(h)}(a)}catch{throw gt(h,"Invalid character found")}const _=new Uint8Array(f.length);for(let O=0;O<f.length;O++)_[O]=f.charCodeAt(O);return _}class Le{constructor(a){this.base64=!1,this.contentType=null;const f=a.match(/^data:([^,]+)?,/);if(null===f)throw gt(hr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const _=f[1]||null;null!=_&&(this.base64=function Mt(h,a){return h.length>=a.length&&h.substring(h.length-a.length)===a}(_,";base64"),this.contentType=this.base64?_.substring(0,_.length-7):_),this.rest=a.substring(a.indexOf(",")+1)}}class $t{constructor(a,f){let _=0,O="";gn(a)?(this.data_=a,_=a.size,O=a.type):a instanceof ArrayBuffer?(f?this.data_=new Uint8Array(a):(this.data_=new Uint8Array(a.byteLength),this.data_.set(new Uint8Array(a))),_=this.data_.length):a instanceof Uint8Array&&(f?this.data_=a:(this.data_=new Uint8Array(a.length),this.data_.set(a)),_=a.length),this.size_=_,this.type_=O}size(){return this.size_}type(){return this.type_}slice(a,f){if(gn(this.data_)){const O=function kn(h,a,f){return h.webkitSlice?h.webkitSlice(a,f):h.mozSlice?h.mozSlice(a,f):h.slice?h.slice(a,f):null}(this.data_,a,f);return null===O?null:new $t(O)}{const _=new Uint8Array(this.data_.buffer,a,f-a);return new $t(_,!0)}}static getBlob(...a){if(Dn()){const f=a.map(_=>_ instanceof $t?_.data_:_);return new $t(Lr.apply(null,f))}{const f=a.map(nt=>Qn(nt)?Nn(hr.RAW,nt).data:nt.data_);let _=0;f.forEach(nt=>{_+=nt.byteLength});const O=new Uint8Array(_);let ie=0;return f.forEach(nt=>{for(let Rt=0;Rt<nt.length;Rt++)O[ie++]=nt[Rt]}),new $t(O,!0)}}uploadData(){return this.data_}}function un(h){let a;try{a=JSON.parse(h)}catch{return null}return function jn(h){return"object"==typeof h&&!Array.isArray(h)}(a)?a:null}function rn(h){const a=h.lastIndexOf("/",h.length-2);return-1===a?h:h.slice(a+1)}function rr(h,a){return a}class ar{constructor(a,f,_,O){this.server=a,this.local=f||a,this.writable=!!_,this.xform=O||rr}}let jr=null;function er(){if(jr)return jr;const h=[];h.push(new ar("bucket")),h.push(new ar("generation")),h.push(new ar("metageneration")),h.push(new ar("name","fullPath",!0));const f=new ar("name");f.xform=function a(ie,nt){return function gi(h){return!Qn(h)||h.length<2?h:rn(h)}(nt)},h.push(f);const O=new ar("size");return O.xform=function _(ie,nt){return void 0!==nt?Number(nt):nt},h.push(O),h.push(new ar("timeCreated")),h.push(new ar("updated")),h.push(new ar("md5Hash",null,!0)),h.push(new ar("cacheControl",null,!0)),h.push(new ar("contentDisposition",null,!0)),h.push(new ar("contentEncoding",null,!0)),h.push(new ar("contentLanguage",null,!0)),h.push(new ar("contentType",null,!0)),h.push(new ar("metadata","customMetadata",!0)),jr=h,jr}function kr(h,a,f){const _=un(a);return null===_?null:function Yn(h,a,f){const _={type:"file"},O=f.length;for(let ie=0;ie<O;ie++){const nt=f[ie];_[nt.local]=nt.xform(_,a[nt.server])}return function xr(h,a){Object.defineProperty(h,"ref",{get:function f(){const ie=new tn(h.bucket,h.fullPath);return a._makeStorageReference(ie)}})}(_,h),_}(h,_,f)}function Oe(h,a){const f={},_=a.length;for(let O=0;O<_;O++){const ie=a[O];ie.writable&&(f[ie.server]=h[ie.local])}return JSON.stringify(f)}const ve="prefixes";class hn{constructor(a,f,_,O){this.url=a,this.method=f,this.handler=_,this.timeout=O,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Sn(h){if(!h)throw fe()}function Tn(h,a){return function f(_,O){const ie=kr(h,O,a);return Sn(null!==ie),ie}}function Dr(h){return function a(f,_){let O;return O=401===f.getStatus()?f.getErrorText().includes("Firebase App Check token is invalid")?function se(){return new ke("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function ee(){return new ke("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===f.getStatus()?function ce(h){return new ke("quota-exceeded","Quota for bucket '"+h+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(h.bucket):403===f.getStatus()?function Me(h){return new ke("unauthorized","User does not have permission to access '"+h+"'.")}(h.path):_,O.serverResponse=_.serverResponse,O}}function Tr(h){const a=Dr(h);return function f(_,O){let ie=a(_,O);return 404===_.getStatus()&&(ie=function _e(h){return new ke("object-not-found","Object '"+h+"' does not exist.")}(h.path)),ie.serverResponse=O.serverResponse,ie}}function vn(h,a,f){const O=zn(a.fullServerUrl(),h.host,h._protocol),nt=h.maxOperationRetryTime,Rt=new hn(O,"GET",Tn(h,f),nt);return Rt.errorHandler=Tr(a),Rt}function Rr(h,a,f,_,O){const ie={};ie.prefix=a.isRoot?"":a.path+"/",f&&f.length>0&&(ie.delimiter=f),_&&(ie.pageToken=_),O&&(ie.maxResults=O);const Rt=zn(a.bucketOnlyServerUrl(),h.host,h._protocol),mn=h.maxOperationRetryTime,pn=new hn(Rt,"GET",function Zt(h,a){return function f(_,O){const ie=function Wt(h,a,f){const _=un(f);return null===_?null:function ft(h,a,f){const _={prefixes:[],items:[],nextPageToken:f.nextPageToken};if(f[ve])for(const O of f[ve]){const ie=O.replace(/\/$/,""),nt=h._makeStorageReference(new tn(a,ie));_.prefixes.push(nt)}if(f.items)for(const O of f.items){const ie=h._makeStorageReference(new tn(a,O.name));_.items.push(ie)}return _}(h,a,_)}(h,a,O);return Sn(null!==ie),ie}}(h,a.bucket),mn);return pn.urlParams=ie,pn.errorHandler=Dr(a),pn}function ni(h,a,f){const _=Object.assign({},f);return _.fullPath=h.path,_.size=a.size(),_.contentType||(_.contentType=function qr(h,a){return h&&h.contentType||a&&a.type()||"application/octet-stream"}(null,a)),_}class Nr{constructor(a,f,_,O){this.current=a,this.total=f,this.finalized=!!_,this.metadata=O||null}}function Zr(h,a){let f=null;try{f=h.getResponseHeader("X-Goog-Upload-Status")}catch{Sn(!1)}return Sn(!!f&&-1!==(a||["active"]).indexOf(f)),f}const de={STATE_CHANGED:"state_changed"},Ve={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Xe(h){switch(h){case"running":case"pausing":case"canceling":return Ve.RUNNING;case"paused":return Ve.PAUSED;case"success":return Ve.SUCCESS;case"canceled":return Ve.CANCELED;default:return Ve.ERROR}}class he{constructor(a,f,_){if(function Ar(h){return"function"==typeof h}(a)||null!=f||null!=_)this.next=a,this.error=f??void 0,this.complete=_??void 0;else{const ie=a;this.next=ie.next,this.error=ie.error,this.complete=ie.complete}}}function ye(h){return(...a)=>{Promise.resolve().then(()=>h(...a))}}class _t extends class Et{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Vt.NO_ERROR,this.sendPromise_=new Promise(a=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Vt.ABORT,a()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Vt.NETWORK_ERROR,a()}),this.xhr_.addEventListener("load",()=>{a()})})}send(a,f,_,O){if(this.sent_)throw kt("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(f,a,!0),void 0!==O)for(const ie in O)O.hasOwnProperty(ie)&&this.xhr_.setRequestHeader(ie,O[ie].toString());return void 0!==_?this.xhr_.send(_):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw kt("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw kt("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw kt("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw kt("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(a){return this.xhr_.getResponseHeader(a)}addUploadProgressListener(a){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",a)}removeUploadProgressListener(a){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",a)}}{initXhr(){this.xhr_.responseType="text"}}function It(){return new _t}class Or{constructor(a,f,_=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=a,this._blob=f,this._metadata=_,this._mappings=er(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=O=>{this._request=void 0,this._chunkMultiplier=1,O._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=O,this._transition("error"))},this._metadataErrorHandler=O=>{this._request=void 0,O._codeEquals("canceled")?this.completeTransitions_():(this._error=O,this._transition("error"))},this._promise=new Promise((O,ie)=>{this._resolve=O,this._reject=ie,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const a=this._transferred;return f=>this._updateProgress(a+f)}_shouldDoResumable(a){return a.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(a){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([f,_])=>{switch(this._state){case"running":a(f,_);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((a,f)=>{const _=function ir(h,a,f,_,O){const ie=a.bucketOnlyServerUrl(),nt=ni(a,_,O),Rt={name:nt.fullPath},St=zn(ie,h.host,h._protocol),pn={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${_.size()}`,"X-Goog-Upload-Header-Content-Type":nt.contentType,"Content-Type":"application/json; charset=utf-8"},On=Oe(nt,f),Fr=new hn(St,"POST",function wr(Qr){let Kr;Zr(Qr);try{Kr=Qr.getResponseHeader("X-Goog-Upload-URL")}catch{Sn(!1)}return Sn(Qn(Kr)),Kr},h.maxUploadRetryTime);return Fr.urlParams=Rt,Fr.headers=pn,Fr.body=On,Fr.errorHandler=Dr(a),Fr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),O=this._ref.storage._makeRequest(_,It,a,f);this._request=O,O.getPromise().then(ie=>{this._request=void 0,this._uploadUrl=ie,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const a=this._uploadUrl;this._resolveToken((f,_)=>{const O=function Ii(h,a,f,_){const St=new hn(f,"POST",function ie(mn){const pn=Zr(mn,["active","final"]);let On=null;try{On=mn.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Sn(!1)}On||Sn(!1);const br=Number(On);return Sn(!isNaN(br)),new Nr(br,_.size(),"final"===pn)},h.maxUploadRetryTime);return St.headers={"X-Goog-Upload-Command":"query"},St.errorHandler=Dr(a),St}(this._ref.storage,this._ref._location,a,this._blob),ie=this._ref.storage._makeRequest(O,It,f,_);this._request=ie,ie.getPromise().then(nt=>{this._request=void 0,this._updateProgress(nt.current),this._needToFetchStatus=!1,nt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const a=262144*this._chunkMultiplier,f=new Nr(this._transferred,this._blob.size()),_=this._uploadUrl;this._resolveToken((O,ie)=>{let nt;try{nt=function q(h,a,f,_,O,ie,nt,Rt){const St=new Nr(0,0);if(nt?(St.current=nt.current,St.total=nt.total):(St.current=0,St.total=_.size()),_.size()!==St.total)throw function De(){return new ke("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const mn=St.total-St.current;let pn=mn;O>0&&(pn=Math.min(pn,O));const On=St.current,Fr={"X-Goog-Upload-Command":pn===mn?"upload, finalize":"upload","X-Goog-Upload-Offset":`${St.current}`},Qr=_.slice(On,On+pn);if(null===Qr)throw We();const $r=new hn(f,"POST",function Kr(ri,Ki){const rs=Zr(ri,["active","final"]),Vo=St.current+pn,Vs=_.size();let Co;return Co="final"===rs?Tn(a,ie)(ri,Ki):null,new Nr(Vo,Vs,"final"===rs,Co)},a.maxUploadRetryTime);return $r.headers=Fr,$r.body=Qr.uploadData(),$r.progressCallback=Rt||null,$r.errorHandler=Dr(h),$r}(this._ref._location,this._ref.storage,_,this._blob,a,this._mappings,f,this._makeProgressCallback())}catch(St){return this._error=St,void this._transition("error")}const Rt=this._ref.storage._makeRequest(nt,It,O,ie);this._request=Rt,Rt.getPromise().then(St=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(St.current),St.finalized?(this._metadata=St.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((a,f)=>{const _=vn(this._ref.storage,this._ref._location,this._mappings),O=this._ref.storage._makeRequest(_,It,a,f);this._request=O,O.getPromise().then(ie=>{this._request=void 0,this._metadata=ie,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((a,f)=>{const _=function Mr(h,a,f,_,O){const ie=a.bucketOnlyServerUrl(),nt={"X-Goog-Upload-Protocol":"multipart"},St=function Rt(){let $r="";for(let ri=0;ri<2;ri++)$r+=Math.random().toString().slice(2);return $r}();nt["Content-Type"]="multipart/related; boundary="+St;const mn=ni(a,_,O),pn=Oe(mn,f),wr=$t.getBlob("--"+St+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+pn+"\r\n--"+St+"\r\nContent-Type: "+mn.contentType+"\r\n\r\n",_,"\r\n--"+St+"--");if(null===wr)throw We();const Fr={name:mn.fullPath},Qr=zn(ie,h.host,h._protocol),Yi=h.maxUploadRetryTime,lr=new hn(Qr,"POST",Tn(h,f),Yi);return lr.urlParams=Fr,lr.headers=nt,lr.body=wr.uploadData(),lr.errorHandler=Dr(a),lr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),O=this._ref.storage._makeRequest(_,It,a,f);this._request=O,O.getPromise().then(ie=>{this._request=void 0,this._metadata=ie,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(a){const f=this._transferred;this._transferred=a,this._transferred!==f&&this._notifyObservers()}_transition(a){if(this._state!==a)switch(a){case"canceling":case"pausing":this._state=a,void 0!==this._request&&this._request.cancel();break;case"running":const f="paused"===this._state;this._state=a,f&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=a,this._notifyObservers();break;case"canceled":this._error=mt(),this._state=a,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const a=Xe(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:a,metadata:this._metadata,task:this,ref:this._ref}}on(a,f,_,O){const ie=new he(f||void 0,_||void 0,O||void 0);return this._addObserver(ie),()=>{this._removeObserver(ie)}}then(a,f){return this._promise.then(a,f)}catch(a){return this.then(null,a)}_addObserver(a){this._observers.push(a),this._notifyObserver(a)}_removeObserver(a){const f=this._observers.indexOf(a);-1!==f&&this._observers.splice(f,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(f=>{this._notifyObserver(f)})}_finishPromise(){if(void 0!==this._resolve){let a=!0;switch(Xe(this._state)){case Ve.SUCCESS:ye(this._resolve.bind(null,this.snapshot))();break;case Ve.CANCELED:case Ve.ERROR:ye(this._reject.bind(null,this._error))();break;default:a=!1}a&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(a){switch(Xe(this._state)){case Ve.RUNNING:case Ve.PAUSED:a.next&&ye(a.next.bind(a,this.snapshot))();break;case Ve.SUCCESS:a.complete&&ye(a.complete.bind(a))();break;default:a.error&&ye(a.error.bind(a,this._error))()}}resume(){const a="paused"===this._state||"pausing"===this._state;return a&&this._transition("running"),a}pause(){const a="running"===this._state;return a&&this._transition("pausing"),a}cancel(){const a="running"===this._state||"pausing"===this._state;return a&&this._transition("canceling"),a}}class $e{constructor(a,f){this._service=a,this._location=f instanceof tn?f:tn.makeFromUrl(f,a.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(a,f){return new $e(a,f)}get root(){const a=new tn(this._location.bucket,"");return this._newRef(this._service,a)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rn(this._location.path)}get storage(){return this._service}get parent(){const a=function Fn(h){if(0===h.length)return null;const a=h.lastIndexOf("/");return-1===a?"":h.slice(0,a)}(this._location.path);if(null===a)return null;const f=new tn(this._location.bucket,a);return new $e(this._service,f)}_throwIfRoot(a){if(""===this._location.path)throw Ct(a)}}function Jr(h,a,f){return tr.apply(this,arguments)}function tr(){return(tr=(0,ue.Z)(function*(h,a,f){const O=yield li(h,{pageToken:f});a.prefixes.push(...O.prefixes),a.items.push(...O.items),null!=O.nextPageToken&&(yield Jr(h,a,O.nextPageToken))})).apply(this,arguments)}function li(h,a){null!=a&&"number"==typeof a.maxResults&&An("options.maxResults",1,1e3,a.maxResults);const f=a||{},_=Rr(h.storage,h._location,"/",f.pageToken,f.maxResults);return h.storage.makeRequestWithTokens(_,It)}function zi(h){h._throwIfRoot("getDownloadURL");const a=function mi(h,a,f){const O=zn(a.fullServerUrl(),h.host,h._protocol),nt=h.maxOperationRetryTime,Rt=new hn(O,"GET",function an(h,a){return function f(_,O){const ie=kr(h,O,a);return Sn(null!==ie),function it(h,a,f,_){const O=un(a);if(null===O||!Qn(O.downloadTokens))return null;const ie=O.downloadTokens;if(0===ie.length)return null;const nt=encodeURIComponent;return ie.split(",").map(mn=>{const On=h.fullPath;return zn("/b/"+nt(h.bucket)+"/o/"+nt(On),f,_)+Vn({alt:"media",token:mn})})[0]}(ie,O,h.host,h._protocol)}}(h,f),nt);return Rt.errorHandler=Tr(a),Rt}(h.storage,h._location,er());return h.storage.makeRequestWithTokens(a,It).then(f=>{if(null===f)throw function qe(){return new ke("no-download-url","The given file does not have any download URLs.")}();return f})}function Fs(h,a){const f=function Ln(h,a){const f=a.split("/").filter(_=>_.length>0).join("/");return 0===h.length?f:h+"/"+f}(h._location.path,a),_=new tn(h._location.bucket,f);return new $e(h.storage,_)}function Wi(h,a){if(h instanceof vi){const f=h;if(null==f._bucket)throw function ct(){return new ke("no-default-bucket","No default bucket found. Did you set the '"+et+"' property when initializing the app?")}();const _=new $e(f,f._bucket);return null!=a?Wi(_,a):_}return void 0!==a?Fs(h,a):h}function ts(h,a){if(a&&function Oi(h){return/^[A-Za-z]+:\/\//.test(h)}(a)){if(h instanceof vi)return function Pi(h,a){return new $e(h,a)}(h,a);throw me("To use ref(service, url), the first argument must be a Storage instance.")}return Wi(h,a)}function ki(h,a){const f=a?.[et];return null==f?null:tn.makeFromBucketSpec(f,h)}class vi{constructor(a,f,_,O,ie){this.app=a,this._authProvider=f,this._appCheckProvider=_,this._url=O,this._firebaseVersion=ie,this._bucket=null,this._host=z,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=O?tn.makeFromBucketSpec(O,this._host):ki(this._host,this.app.options)}get host(){return this._host}set host(a){this._host=a,this._bucket=null!=this._url?tn.makeFromBucketSpec(this._url,a):ki(a,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(a){An("time",0,Number.POSITIVE_INFINITY,a),this._maxUploadRetryTime=a}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(a){An("time",0,Number.POSITIVE_INFINITY,a),this._maxOperationRetryTime=a}_getAuthToken(){var a=this;return(0,ue.Z)(function*(){if(a._overrideAuthToken)return a._overrideAuthToken;const f=a._authProvider.getImmediate({optional:!0});if(f){const _=yield f.getToken();if(null!==_)return _.accessToken}return null})()}_getAppCheckToken(){var a=this;return(0,ue.Z)(function*(){const f=a._appCheckProvider.getImmediate({optional:!0});return f?(yield f.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(a=>a.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(a){return new $e(this,a)}_makeRequest(a,f,_,O){if(this._deleted)return new Jt(at());{const ie=function sn(h,a,f,_,O,ie){const nt=Vn(h.urlParams),Rt=h.url+nt,St=Object.assign({},h.headers);return function Wn(h,a){a&&(h["X-Firebase-GMPID"]=a)}(St,a),function mr(h,a){null!==a&&a.length>0&&(h.Authorization="Firebase "+a)}(St,f),function Bt(h,a){h["X-Firebase-Storage-Version"]="webjs/"+(a??"AppManager")}(St,ie),function Kt(h,a){null!==a&&(h["X-Firebase-AppCheck"]=a)}(St,_),new or(Rt,h.method,St,h.body,h.successCodes,h.additionalRetryCodes,h.handler,h.errorHandler,h.timeout,h.progressCallback,O)}(a,this._appId,_,O,f,this._firebaseVersion);return this._requests.add(ie),ie.getPromise().then(()=>this._requests.delete(ie),()=>this._requests.delete(ie)),ie}}makeRequestWithTokens(a,f){var _=this;return(0,ue.Z)(function*(){const[O,ie]=yield Promise.all([_._getAuthToken(),_._getAppCheckToken()]);return _._makeRequest(a,f,O,ie).getPromise()})()}}const _s="@firebase/storage";function Ni(h,a){return ts(h=(0,Se.m9)(h),a)}function Ms(h,{instanceIdentifier:a}){const f=h.getProvider("app").getImmediate(),_=h.getProvider("auth-internal"),O=h.getProvider("app-check-internal");return new vi(f,_,O,a,le.SDK_VERSION)}!function P(){(0,le._registerComponent)(new Ae.wA("storage",Ms,"PUBLIC").setMultipleInstances(!0)),(0,le.registerVersion)(_s,"0.9.8",""),(0,le.registerVersion)(_s,"0.9.8","esm2017")}();class Y{constructor(a,f,_){this._delegate=a,this.task=f,this.ref=_}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class N{constructor(a,f){this._delegate=a,this._ref=f,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Y(this._delegate.snapshot,this,this._ref)}then(a,f){return this._delegate.then(_=>{if(a)return a(new Y(_,this,this._ref))},f)}on(a,f,_,O){let ie;return f&&(ie="function"==typeof f?nt=>f(new Y(nt,this,this._ref)):{next:f.next?nt=>f.next(new Y(nt,this,this._ref)):void 0,complete:f.complete||void 0,error:f.error||void 0}),this._delegate.on(a,ie,_||void 0,O||void 0)}}class Z{constructor(a,f){this._delegate=a,this._service=f}get prefixes(){return this._delegate.prefixes.map(a=>new je(a,this._service))}get items(){return this._delegate.items.map(a=>new je(a,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class je{constructor(a,f){this._delegate=a,this.storage=f}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(a){const f=function Si(h,a){return Fs(h,a)}(this._delegate,a);return new je(f,this.storage)}get root(){return new je(this._delegate.root,this.storage)}get parent(){const a=this._delegate.parent;return null==a?null:new je(a,this.storage)}put(a,f){return this._throwIfRoot("put"),new N(function Es(h,a,f){return function Lt(h,a,f){return h._throwIfRoot("uploadBytesResumable"),new Or(h,new $t(a),f)}(h=(0,Se.m9)(h),a,f)}(this._delegate,a,f),this)}putString(a,f=hr.RAW,_){this._throwIfRoot("putString");const O=Nn(f,a),ie=Object.assign({},_);return null==ie.contentType&&null!=O.contentType&&(ie.contentType=O.contentType),new N(new Or(this._delegate,new $t(O.data,!0),ie),this)}listAll(){return function hi(h){return function ur(h){const a={prefixes:[],items:[]};return Jr(h,a).then(()=>a)}(h=(0,Se.m9)(h))}(this._delegate).then(a=>new Z(a,this.storage))}list(a){return function Ti(h,a){return li(h=(0,Se.m9)(h),a)}(this._delegate,a||void 0).then(f=>new Z(f,this.storage))}getMetadata(){return function Ci(h){return function Ds(h){h._throwIfRoot("getMetadata");const a=vn(h.storage,h._location,er());return h.storage.makeRequestWithTokens(a,It)}(h=(0,Se.m9)(h))}(this._delegate)}updateMetadata(a){return function di(h,a){return function yi(h,a){h._throwIfRoot("updateMetadata");const f=function Vr(h,a,f,_){const ie=zn(a.fullServerUrl(),h.host,h._protocol),Rt=Oe(f,_),mn=h.maxOperationRetryTime,pn=new hn(ie,"PATCH",Tn(h,_),mn);return pn.headers={"Content-Type":"application/json; charset=utf-8"},pn.body=Rt,pn.errorHandler=Tr(a),pn}(h.storage,h._location,a,er());return h.storage.makeRequestWithTokens(f,It)}(h=(0,Se.m9)(h),a)}(this._delegate,a)}getDownloadURL(){return function $i(h){return zi(h=(0,Se.m9)(h))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function qi(h){return function es(h){h._throwIfRoot("deleteObject");const a=function Hn(h,a){const _=zn(a.fullServerUrl(),h.host,h._protocol),Rt=new hn(_,"DELETE",function nt(St,mn){},h.maxOperationRetryTime);return Rt.successCodes=[200,204],Rt.errorHandler=Tr(a),Rt}(h.storage,h._location);return h.storage.makeRequestWithTokens(a,It)}(h=(0,Se.m9)(h))}(this._delegate)}_throwIfRoot(a){if(""===this._delegate._location.path)throw Ct(a)}}class pt{constructor(a,f){this.app=a,this._delegate=f}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(a){if(bt(a))throw me("ref() expected a child path but got a URL, use refFromURL instead.");return new je(Ni(this._delegate,a),this)}refFromURL(a){if(!bt(a))throw me("refFromURL() expected a full URL but got a child path, use ref() instead.");try{tn.makeFromUrl(a,this._delegate.host)}catch{throw me("refFromUrl() expected a valid full URL but got an invalid one.")}return new je(Ni(this._delegate,a),this)}setMaxUploadRetryTime(a){this._delegate.maxUploadRetryTime=a}setMaxOperationRetryTime(a){this._delegate.maxOperationRetryTime=a}useEmulator(a,f,_={}){!function cs(h,a,f,_={}){!function ns(h,a,f,_={}){h.host=`${a}:${f}`,h._protocol="http";const{mockUserToken:O}=_;O&&(h._overrideAuthToken="string"==typeof O?O:(0,Se.Sg)(O,h.app.options.projectId))}(h,a,f,_)}(this._delegate,a,f,_)}}function bt(h){return/^[A-Za-z]+:\/\//.test(h)}function Cr(h,{instanceIdentifier:a}){const f=h.getProvider("app-compat").getImmediate(),_=h.getProvider("storage").getImmediate({identifier:a});return new pt(f,_)}!function Kn(h){const a={TaskState:Ve,TaskEvent:de,StringFormat:hr,Storage:pt,Reference:je};h.INTERNAL.registerComponent(new Ae.wA("storage-compat",Cr,"PUBLIC").setServiceProps(a).setMultipleInstances(!0)),h.registerVersion("@firebase/storage-compat","0.1.16")}(Ke.Z);var Hr=k(440);function fi(h){const a=function Xr(h){return new l.y(a=>{const f=nt=>a.next(nt);f(h.snapshot);const ie=h.on("state_changed",f);return h.then(nt=>{f(nt),a.complete()},nt=>{f(h.snapshot),(nt=>{a.error(nt)})(nt)}),function(){ie()}}).pipe(function re(h,a=be.P){return f=>f.lift(new ge(h,a))}(0))}(h);return{task:h,then:h.then.bind(h),catch:h.catch.bind(h),pause:h.pause.bind(h),cancel:h.cancel.bind(h),resume:h.resume.bind(h),snapshotChanges:()=>a,percentageChanges:()=>a.pipe((0,Q.U)(f=>f.bytesTransferred/f.totalBytes*100))}}function Gr(h){return{getDownloadURL:()=>(0,L.of)(void 0).pipe(te.fc,(0,X.w)(()=>h.getDownloadURL()),te.iC),getMetadata:()=>(0,L.of)(void 0).pipe(te.fc,(0,X.w)(()=>h.getMetadata()),te.iC),delete:()=>(0,U.D)(h.delete()),child:a=>Gr(h.child(a)),updateMetadata:a=>(0,U.D)(h.updateMetadata(a)),put:(a,f)=>fi(h.put(a,f)),putString:(a,f,_)=>fi(h.putString(a,f,_)),list:a=>(0,U.D)(h.list(a)),listAll:()=>(0,U.D)(h.listAll())}}k(127);const Ai=new G.OlP("angularfire2.storageBucket"),Li=new G.OlP("angularfire2.storage.maxUploadRetryTime"),hs=new G.OlP("angularfire2.storage.maxOperationRetryTime"),Cn=new G.OlP("angularfire2.storage.use-emulator");let bs=(()=>{class h{constructor(f,_,O,ie,nt,Rt,St,mn,pn,On){const br=(0,Re.on)(f,nt,_);this.storage=(0,Re.cc)(`${br.name}.storage.${O}`,"AngularFireStorage",br.name,()=>{const wr=nt.runOutsideAngular(()=>br.storage(O||void 0)),Fr=pn;return Fr&&wr.useEmulator(...Fr),St&&wr.setMaxUploadRetryTime(St),mn&&wr.setMaxOperationRetryTime(mn),wr},[St,mn])}ref(f){return Gr(this.storage.ref(f))}refFromURL(f){return Gr(this.storage.refFromURL(f))}upload(f,_,O){return Gr(this.storage.ref(f)).put(_,O)}}return h.\u0275fac=function(f){return new(f||h)(G.LFG(Re.Dh),G.LFG(Re.xv,8),G.LFG(Ai,8),G.LFG(G.Lbi),G.LFG(G.R0b),G.LFG(te.HU),G.LFG(Li,8),G.LFG(hs,8),G.LFG(Cn,8),G.LFG(Hr.nm,8))},h.\u0275prov=G.Yz7({token:h,factory:h.\u0275fac,providedIn:"any"}),h})()},2011:(zt,st,k)=>{"use strict";k.d(st,{Dh:()=>we,GT:()=>re,cc:()=>Re,hO:()=>G,on:()=>Q,pX:()=>be,xv:()=>ae});var l=k(5062),L=k(127),U=k(6351);zt=k.hmd(zt);const Ie=["ngOnDestroy"],be=(Se,Ae,z,et={})=>new Proxy(Se,{get:(Ge,lt)=>z.runOutsideAngular(()=>{var ke;if(Se[lt])return!(null===(ke=et?.spy)||void 0===ke)&&ke.get&&et.spy.get(lt,Se[lt]),Se[lt];if(Ie.indexOf(lt)>-1)return()=>{};const ot=Ae.toPromise().then(fe=>{const _e=fe&&fe[lt];return"function"==typeof _e?_e.bind(fe):_e&&_e.then?_e.then(ce=>z.run(()=>ce)):z.run(()=>_e)});return new Proxy(()=>{},{get:(fe,_e)=>ot[_e],apply:(fe,_e,ce)=>ot.then(ee=>{var se;const Me=ee&&ee(...ce);return!(null===(se=et?.spy)||void 0===se)&&se.apply&&et.spy.apply(lt,ce,Me),Me})})})}),re=(Se,Ae)=>{Ae.forEach(z=>{Object.getOwnPropertyNames(z.prototype||z).forEach(et=>{Object.defineProperty(Se.prototype,et,Object.getOwnPropertyDescriptor(z.prototype||z,et))})})};class ge{constructor(Ae){return Ae}}const we=new l.OlP("angularfire2.app.options"),ae=new l.OlP("angularfire2.app.name");function Q(Se,Ae,z){const Ge="object"==typeof z&&z||{};Ge.name=Ge.name||"string"==typeof z&&z||"[DEFAULT]";const ke=L.Z.apps.filter(ot=>ot&&ot.name===Ge.name)[0]||Ae.runOutsideAngular(()=>L.Z.initializeApp(Se,Ge));try{JSON.stringify(Se)!==JSON.stringify(ke.options)&&X("error",`${ke.name} Firebase App already initialized with different options${zt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ge(ke)}const X=(Se,...Ae)=>{(0,l.X6Q)()&&typeof console<"u"&&console[Se](...Ae)},te={provide:ge,useFactory:Q,deps:[we,l.R0b,[new l.FiY,ae]]};let G=(()=>{class Se{constructor(z){L.Z.registerVersion("angularfire",U.q4.full,"core"),L.Z.registerVersion("angularfire",U.q4.full,"app-compat"),L.Z.registerVersion("angular",l.q4F.full,z.toString())}static initializeApp(z,et){return{ngModule:Se,providers:[{provide:we,useValue:z},{provide:ae,useValue:et}]}}}return Se.\u0275fac=function(z){return new(z||Se)(l.LFG(l.Lbi))},Se.\u0275mod=l.oAB({type:Se}),Se.\u0275inj=l.cJS({providers:[te]}),Se})();function Re(Se,Ae,z,et,Ge){const[,lt,ke]=globalThis.\u0275AngularfireInstanceCache.find(ot=>ot[0]===Se)||[];if(lt)return function Ke(Se,Ae){try{return Se.toString()===Ae.toString()}catch{return Se===Ae}}(Ge,ke)||(le("error",`${Ae} was already initialized on the ${z} Firebase App with different settings.${ue?" You may need to reload as Firebase is not HMR aware.":""}`),le("warn",{is:Ge,was:ke})),lt;{const ot=et();return globalThis.\u0275AngularfireInstanceCache.push([Se,ot,Ge]),ot}}const ue=!!zt.hot,le=(Se,...Ae)=>{(0,l.X6Q)()&&typeof console<"u"&&console[Se](...Ae)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6351:(zt,st,k)=>{"use strict";k.d(st,{q4:()=>J,iC:()=>fs,fc:()=>xi,HU:()=>Ts,vb:()=>hu,JM:()=>xo});var l=k(5062),L=k(5867),U=k(5861),Ie=k(9681),be=k(2090),re=k(4859),ge=k(1877),we=k(8766);const ae="@firebase/installations",Q="0.5.11",te=`w:${Q}`,G="FIS_v2",Ae=new be.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function z(R){return R instanceof be.ZR&&R.code.includes("request-failed")}function et({projectId:R}){return`https://firebaseinstallations.googleapis.com/v1/projects/${R}/installations`}function Ge(R){return{token:R.token,requestStatus:2,expiresIn:ee(R.expiresIn),creationTime:Date.now()}}function lt(R,F){return ke.apply(this,arguments)}function ke(){return(ke=(0,U.Z)(function*(R,F){const xe=(yield F.json()).error;return Ae.create("request-failed",{requestName:R,serverCode:xe.code,serverMessage:xe.message,serverStatus:xe.status})})).apply(this,arguments)}function ot({apiKey:R}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R})}function fe(R,{refreshToken:F}){const W=ot(R);return W.append("Authorization",function se(R){return`${G} ${R}`}(F)),W}function _e(R){return ce.apply(this,arguments)}function ce(){return(ce=(0,U.Z)(function*(R){const F=yield R();return F.status>=500&&F.status<600?R():F})).apply(this,arguments)}function ee(R){return Number(R.replace("s","000"))}function Me(R,F){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,U.Z)(function*({appConfig:R,heartbeatServiceProvider:F},{fid:W}){const xe=et(R),rt=ot(R),dt=F.getImmediate({optional:!0});if(dt){const cr=yield dt.getHeartbeatsHeader();cr&&rt.append("x-firebase-client",cr)}const on={method:"POST",headers:rt,body:JSON.stringify({fid:W,authVersion:G,appId:R.appId,sdkVersion:te})},Zn=yield _e(()=>fetch(xe,on));if(Zn.ok){const cr=yield Zn.json();return{fid:cr.fid||W,registrationStatus:2,refreshToken:cr.refreshToken,authToken:Ge(cr.authToken)}}throw yield lt("Create Installation",Zn)})).apply(this,arguments)}function mt(R){return new Promise(F=>{setTimeout(F,R)})}const tt=/^[cdef][\w-]{21}$/;function We(){try{const R=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(R),R[0]=112+R[0]%16;const W=function De(R){return function At(R){return btoa(String.fromCharCode(...R)).replace(/\+/g,"-").replace(/\//g,"_")}(R).substr(0,22)}(R);return tt.test(W)?W:""}catch{return""}}function qe(R){return`${R.appName}!${R.appId}`}const me=new Map;function at(R,F){const W=qe(R);kt(W,F),function tn(R,F){const W=function xn(){return!Jt&&"BroadcastChannel"in self&&(Jt=new BroadcastChannel("[Firebase] FID Change"),Jt.onmessage=R=>{kt(R.data.key,R.data.fid)}),Jt}();W&&W.postMessage({key:R,fid:F}),function Ht(){0===me.size&&Jt&&(Jt.close(),Jt=null)}()}(W,F)}function kt(R,F){const W=me.get(R);if(W)for(const xe of W)xe(F)}let Jt=null;const jn="firebase-installations-store";let Qn=null;function gn(){return Qn||(Qn=(0,we.X3)("firebase-installations-database",1,{upgrade:(R,F)=>{0===F&&R.createObjectStore(jn)}})),Qn}function Dn(R,F){return An.apply(this,arguments)}function An(){return(An=(0,U.Z)(function*(R,F){const W=qe(R),rt=(yield gn()).transaction(jn,"readwrite"),dt=rt.objectStore(jn),Ft=yield dt.get(W);return yield dt.put(F,W),yield rt.done,(!Ft||Ft.fid!==F.fid)&&at(R,F.fid),F})).apply(this,arguments)}function zn(R){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,U.Z)(function*(R){const F=qe(R),xe=(yield gn()).transaction(jn,"readwrite");yield xe.objectStore(jn).delete(F),yield xe.done})).apply(this,arguments)}function Vt(R,F){return or.apply(this,arguments)}function or(){return(or=(0,U.Z)(function*(R,F){const W=qe(R),rt=(yield gn()).transaction(jn,"readwrite"),dt=rt.objectStore(jn),Ft=yield dt.get(W),on=F(Ft);return void 0===on?yield dt.delete(W):yield dt.put(on,W),yield rt.done,on&&(!Ft||Ft.fid!==on.fid)&&at(R,on.fid),on})).apply(this,arguments)}function bn(R){return mr.apply(this,arguments)}function mr(){return(mr=(0,U.Z)(function*(R){let F;const W=yield Vt(R.appConfig,xe=>{const rt=Bt(xe),dt=Wn(R,rt);return F=dt.registrationPromise,dt.installationEntry});return""===W.fid?{installationEntry:yield F}:{installationEntry:W,registrationPromise:F}})).apply(this,arguments)}function Bt(R){return qn(R||{fid:We(),registrationStatus:0})}function Wn(R,F){if(0===F.registrationStatus){if(!navigator.onLine)return{installationEntry:F,registrationPromise:Promise.reject(Ae.create("app-offline"))};const W={fid:F.fid,registrationStatus:1,registrationTime:Date.now()},xe=function Kt(R,F){return sn.apply(this,arguments)}(R,W);return{installationEntry:W,registrationPromise:xe}}return 1===F.registrationStatus?{installationEntry:F,registrationPromise:Er(R)}:{installationEntry:F}}function sn(){return(sn=(0,U.Z)(function*(R,F){try{const W=yield Me(R,F);return Dn(R.appConfig,W)}catch(W){throw z(W)&&409===W.customData.serverCode?yield zn(R.appConfig):yield Dn(R.appConfig,{fid:F.fid,registrationStatus:0}),W}})).apply(this,arguments)}function Er(R){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,U.Z)(function*(R){let F=yield kn(R.appConfig);for(;1===F.registrationStatus;)yield mt(100),F=yield kn(R.appConfig);if(0===F.registrationStatus){const{installationEntry:W,registrationPromise:xe}=yield bn(R);return xe||W}return F})).apply(this,arguments)}function kn(R){return Vt(R,F=>{if(!F)throw Ae.create("installation-not-found");return qn(F)})}function qn(R){return function hr(R){return 1===R.registrationStatus&&R.registrationTime+1e4<Date.now()}(R)?{fid:R.fid,registrationStatus:0}:R}function Pr(R,F){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,U.Z)(function*({appConfig:R,heartbeatServiceProvider:F},W){const xe=Fe(R,W),rt=fe(R,W),dt=F.getImmediate({optional:!0});if(dt){const cr=yield dt.getHeartbeatsHeader();cr&&rt.append("x-firebase-client",cr)}const on={method:"POST",headers:rt,body:JSON.stringify({installation:{sdkVersion:te,appId:R.appId}})},Zn=yield _e(()=>fetch(xe,on));if(Zn.ok)return Ge(yield Zn.json());throw yield lt("Generate Auth Token",Zn)})).apply(this,arguments)}function Fe(R,{fid:F}){return`${et(R)}/${F}/authTokens:generate`}function Ce(R){return Je.apply(this,arguments)}function Je(){return(Je=(0,U.Z)(function*(R,F=!1){let W;const xe=yield Vt(R.appConfig,dt=>{if(!un(dt))throw Ae.create("not-registered");const Ft=dt.authToken;if(!F&&Fn(Ft))return dt;if(1===Ft.requestStatus)return W=Le(R,F),dt;{if(!navigator.onLine)throw Ae.create("app-offline");const on=rn(dt);return W=Mt(R,on),on}});return W?yield W:xe.authToken})).apply(this,arguments)}function Le(R,F){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,U.Z)(function*(R,F){let W=yield yt(R.appConfig);for(;1===W.authToken.requestStatus;)yield mt(100),W=yield yt(R.appConfig);const xe=W.authToken;return 0===xe.requestStatus?Ce(R,F):xe})).apply(this,arguments)}function yt(R){return Vt(R,F=>{if(!un(F))throw Ae.create("not-registered");return function rr(R){return 1===R.requestStatus&&R.requestTime+1e4<Date.now()}(F.authToken)?Object.assign(Object.assign({},F),{authToken:{requestStatus:0}}):F})}function Mt(R,F){return $t.apply(this,arguments)}function $t(){return($t=(0,U.Z)(function*(R,F){try{const W=yield Pr(R,F),xe=Object.assign(Object.assign({},F),{authToken:W});return yield Dn(R.appConfig,xe),W}catch(W){if(!z(W)||401!==W.customData.serverCode&&404!==W.customData.serverCode){const xe=Object.assign(Object.assign({},F),{authToken:{requestStatus:0}});yield Dn(R.appConfig,xe)}else yield zn(R.appConfig);throw W}})).apply(this,arguments)}function un(R){return void 0!==R&&2===R.registrationStatus}function Fn(R){return 2===R.requestStatus&&!function Ln(R){const F=Date.now();return F<R.creationTime||R.creationTime+R.expiresIn<F+36e5}(R)}function rn(R){const F={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},R),{authToken:F})}function jr(){return(jr=(0,U.Z)(function*(R){const F=R,{installationEntry:W,registrationPromise:xe}=yield bn(F);return xe?xe.catch(console.error):Ce(F).catch(console.error),W.fid})).apply(this,arguments)}function er(){return(er=(0,U.Z)(function*(R,F=!1){const W=R;return yield xr(W),(yield Ce(W,F)).token})).apply(this,arguments)}function xr(R){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,U.Z)(function*(R){const{registrationPromise:F}=yield bn(R);F&&(yield F)})).apply(this,arguments)}function Sn(R){return Ae.create("missing-app-config-values",{valueName:R})}const Tn="installations",an=R=>{const F=R.getProvider("app").getImmediate(),W=function hn(R){if(!R||!R.options)throw Sn("App Configuration");if(!R.name)throw Sn("App Name");const F=["projectId","apiKey","appId"];for(const W of F)if(!R.options[W])throw Sn(W);return{appName:R.name,projectId:R.options.projectId,apiKey:R.options.apiKey,appId:R.options.appId}}(F);return{app:F,appConfig:W,heartbeatServiceProvider:(0,Ie._getProvider)(F,"heartbeat"),_delete:()=>Promise.resolve()}},Dr=R=>{const F=R.getProvider("app").getImmediate(),W=(0,Ie._getProvider)(F,Tn).getImmediate();return{getId:()=>function ar(R){return jr.apply(this,arguments)}(W),getToken:rt=>function gi(R){return er.apply(this,arguments)}(W,rt)}};(function Tr(){(0,Ie._registerComponent)(new re.wA(Tn,an,"PUBLIC")),(0,Ie._registerComponent)(new re.wA("installations-internal",Dr,"PRIVATE"))})(),(0,Ie.registerVersion)(ae,Q),(0,Ie.registerVersion)(ae,Q,"esm2017");const vn="@firebase/remote-config",Hn=new be.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class fn{constructor(F,W,xe,rt){this.client=F,this.storage=W,this.storageCache=xe,this.logger=rt}isCachedDataFresh(F,W){if(!W)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const xe=Date.now()-W,rt=xe<=F;return this.logger.debug(`Config fetch cache check. Cache age millis: ${xe}. Cache max age millis (minimumFetchIntervalMillis setting): ${F}. Is cache hit: ${rt}.`),rt}fetch(F){var W=this;return(0,U.Z)(function*(){const[xe,rt]=yield Promise.all([W.storage.getLastSuccessfulFetchTimestampMillis(),W.storage.getLastSuccessfulFetchResponse()]);if(rt&&W.isCachedDataFresh(F.cacheMaxAgeMillis,xe))return rt;F.eTag=rt&&rt.eTag;const dt=yield W.client.fetch(F),Ft=[W.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===dt.status&&Ft.push(W.storage.setLastSuccessfulFetchResponse(dt)),yield Promise.all(Ft),dt})()}}function ln(R=navigator){return R.languages&&R.languages[0]||R.language}class yr{constructor(F,W,xe,rt,dt,Ft){this.firebaseInstallations=F,this.sdkVersion=W,this.namespace=xe,this.projectId=rt,this.apiKey=dt,this.appId=Ft}fetch(F){var W=this;return(0,U.Z)(function*(){var xe,rt,dt;const[Ft,on]=yield Promise.all([W.firebaseInstallations.getId(),W.firebaseInstallations.getToken()]),cr=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${W.projectId}/namespaces/${W.namespace}:fetch?key=${W.apiKey}`,vr={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":F.eTag||"*"},Pn={sdk_version:W.sdkVersion,app_instance_id:Ft,app_instance_id_token:on,app_id:W.appId,language_code:ln()},Mi={method:"POST",headers:vr,body:JSON.stringify(Pn)},ps=fetch(cr,Mi),Ro=new Promise((ss,Yo)=>{F.signal.addEventListener(()=>{const ai=new Error("The operation was aborted.");ai.name="AbortError",Yo(ai)})});let lo;try{yield Promise.race([ps,Ro]),lo=yield ps}catch(ss){let Yo="fetch-client-network";throw"AbortError"===(null===(xe=ss)||void 0===xe?void 0:xe.name)&&(Yo="fetch-timeout"),Hn.create(Yo,{originalErrorMessage:null===(rt=ss)||void 0===rt?void 0:rt.message})}let Wo=lo.status;const qo=lo.headers.get("ETag")||void 0;let to,js;if(200===lo.status){let ss;try{ss=yield lo.json()}catch(Yo){throw Hn.create("fetch-client-parse",{originalErrorMessage:null===(dt=Yo)||void 0===dt?void 0:dt.message})}to=ss.entries,js=ss.state}if("INSTANCE_STATE_UNSPECIFIED"===js?Wo=500:"NO_CHANGE"===js?Wo=304:("NO_TEMPLATE"===js||"EMPTY_CONFIG"===js)&&(to={}),304!==Wo&&200!==Wo)throw Hn.create("fetch-status",{httpStatus:Wo});return{status:Wo,eTag:qo,config:to}})()}}class Ue{constructor(F,W){this.client=F,this.storage=W}fetch(F){var W=this;return(0,U.Z)(function*(){const xe=(yield W.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return W.attemptFetch(F,xe)})()}attemptFetch(F,{throttleEndTimeMillis:W,backoffCount:xe}){var rt=this;return(0,U.Z)(function*(){yield function Or(R,F){return new Promise((W,xe)=>{const rt=Math.max(F-Date.now(),0),dt=setTimeout(W,rt);R.addEventListener(()=>{clearTimeout(dt),xe(Hn.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}(F.signal,W);try{const dt=yield rt.client.fetch(F);return yield rt.storage.deleteThrottleMetadata(),dt}catch(dt){if(!function $e(R){if(!(R instanceof be.ZR&&R.customData))return!1;const F=Number(R.customData.httpStatus);return 429===F||500===F||503===F||504===F}(dt))throw dt;const Ft={throttleEndTimeMillis:Date.now()+(0,be.$s)(xe),backoffCount:xe+1};return yield rt.storage.setThrottleMetadata(Ft),rt.attemptFetch(F,Ft)}})()}}class Lt{constructor(F,W,xe,rt,dt){this.app=F,this._client=W,this._storageCache=xe,this._storage=rt,this._logger=dt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function nn(R,F){var W;const xe=R.target.error||void 0;return Hn.create(F,{originalErrorMessage:xe&&(null===(W=xe)||void 0===W?void 0:W.message)})}const ur="app_namespace_store";class Ds{constructor(F,W,xe,rt=function li(){return new Promise((R,F)=>{var W;try{const xe=indexedDB.open("firebase_remote_config",1);xe.onerror=rt=>{F(nn(rt,"storage-open"))},xe.onsuccess=rt=>{R(rt.target.result)},xe.onupgradeneeded=rt=>{0===rt.oldVersion&&rt.target.result.createObjectStore(ur,{keyPath:"compositeKey"})}}catch(xe){F(Hn.create("storage-open",{originalErrorMessage:null===(W=xe)||void 0===W?void 0:W.message}))}})}()){this.appId=F,this.appName=W,this.namespace=xe,this.openDbPromise=rt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(F){return this.set("last_fetch_status",F)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(F){return this.set("last_successful_fetch_timestamp_millis",F)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(F){return this.set("last_successful_fetch_response",F)}getActiveConfig(){return this.get("active_config")}setActiveConfig(F){return this.set("active_config",F)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(F){return this.set("active_config_etag",F)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(F){return this.set("throttle_metadata",F)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(F){var W=this;return(0,U.Z)(function*(){const xe=yield W.openDbPromise;return new Promise((rt,dt)=>{var Ft;const Zn=xe.transaction([ur],"readonly").objectStore(ur),cr=W.createCompositeKey(F);try{const vr=Zn.get(cr);vr.onerror=Pn=>{dt(nn(Pn,"storage-get"))},vr.onsuccess=Pn=>{const Mi=Pn.target.result;rt(Mi?Mi.value:void 0)}}catch(vr){dt(Hn.create("storage-get",{originalErrorMessage:null===(Ft=vr)||void 0===Ft?void 0:Ft.message}))}})})()}set(F,W){var xe=this;return(0,U.Z)(function*(){const rt=yield xe.openDbPromise;return new Promise((dt,Ft)=>{var on;const cr=rt.transaction([ur],"readwrite").objectStore(ur),vr=xe.createCompositeKey(F);try{const Pn=cr.put({compositeKey:vr,value:W});Pn.onerror=Mi=>{Ft(nn(Mi,"storage-set"))},Pn.onsuccess=()=>{dt()}}catch(Pn){Ft(Hn.create("storage-set",{originalErrorMessage:null===(on=Pn)||void 0===on?void 0:on.message}))}})})()}delete(F){var W=this;return(0,U.Z)(function*(){const xe=yield W.openDbPromise;return new Promise((rt,dt)=>{var Ft;const Zn=xe.transaction([ur],"readwrite").objectStore(ur),cr=W.createCompositeKey(F);try{const vr=Zn.delete(cr);vr.onerror=Pn=>{dt(nn(Pn,"storage-delete"))},vr.onsuccess=()=>{rt()}}catch(vr){dt(Hn.create("storage-delete",{originalErrorMessage:null===(Ft=vr)||void 0===Ft?void 0:Ft.message}))}})})()}createCompositeKey(F){return[this.appId,this.appName,this.namespace,F].join()}}class yi{constructor(F){this.storage=F}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var F=this;return(0,U.Z)(function*(){const W=F.storage.getLastFetchStatus(),xe=F.storage.getLastSuccessfulFetchTimestampMillis(),rt=F.storage.getActiveConfig(),dt=yield W;dt&&(F.lastFetchStatus=dt);const Ft=yield xe;Ft&&(F.lastSuccessfulFetchTimestampMillis=Ft);const on=yield rt;on&&(F.activeConfig=on)})()}setLastFetchStatus(F){return this.lastFetchStatus=F,this.storage.setLastFetchStatus(F)}setLastSuccessfulFetchTimestampMillis(F){return this.lastSuccessfulFetchTimestampMillis=F,this.storage.setLastSuccessfulFetchTimestampMillis(F)}setActiveConfig(F){return this.activeConfig=F,this.storage.setActiveConfig(F)}}function Oi(){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,U.Z)(function*(){if(!(0,be.hl)())return!1;try{return yield(0,be.eu)()}catch{return!1}})).apply(this,arguments)}!function zi(){(0,Ie._registerComponent)(new re.wA("remote-config",function R(F,{instanceIdentifier:W}){const xe=F.getProvider("app").getImmediate(),rt=F.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Hn.create("registration-window");if(!(0,be.hl)())throw Hn.create("indexed-db-unavailable");const{projectId:dt,apiKey:Ft,appId:on}=xe.options;if(!dt)throw Hn.create("registration-project-id");if(!Ft)throw Hn.create("registration-api-key");if(!on)throw Hn.create("registration-app-id");const Zn=new Ds(on,xe.name,W=W||"firebase"),cr=new yi(Zn),vr=new ge.Yd(vn);vr.logLevel=ge.in.ERROR;const Pn=new yr(rt,Ie.SDK_VERSION,W,dt,Ft,on),Mi=new Ue(Pn,Zn),ps=new fn(Mi,Zn,cr,vr),Ro=new Lt(xe,ps,cr,Zn,vr);return function de(R){const F=(0,be.m9)(R);F._initializePromise||(F._initializePromise=F._storageCache.loadFromStorage().then(()=>{F._isInitializationComplete=!0}))}(Ro),Ro},"PUBLIC").setMultipleInstances(!0)),(0,Ie.registerVersion)(vn,"0.3.10"),(0,Ie.registerVersion)(vn,"0.3.10","esm2017")}();const Wi="/firebase-messaging-sw.js",ts="/firebase-cloud-messaging-push-scope",ki="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",vi="google.c.a.c_id",_s="google.c.a.c_l",us="google.c.a.ts",xs="google.c.a.e";var ci=(()=>{return(R=ci||(ci={})).PUSH_RECEIVED="push-received",R.NOTIFICATION_CLICKED="notification-clicked",ci;var R})();function Di(R){const F=new Uint8Array(R);return btoa(String.fromCharCode(...F)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Es(R){const W=(R+"=".repeat((4-R.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),xe=atob(W),rt=new Uint8Array(xe.length);for(let dt=0;dt<xe.length;++dt)rt[dt]=xe.charCodeAt(dt);return rt}const Ci="fcm_token_details_db",Ti="fcm_token_object_Store";function hi(R){return $i.apply(this,arguments)}function $i(){return $i=(0,U.Z)(function*(R){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(dt=>dt.name).includes(Ci))return null;let F=null;return(yield(0,we.X3)(Ci,5,{upgrade:(xe=(0,U.Z)(function*(rt,dt,Ft,on){var Zn;if(dt<2||!rt.objectStoreNames.contains(Ti))return;const cr=on.objectStore(Ti),vr=yield cr.index("fcmSenderId").get(R);if(yield cr.clear(),vr)if(2===dt){const Pn=vr;if(!Pn.auth||!Pn.p256dh||!Pn.endpoint)return;F={token:Pn.fcmToken,createTime:null!==(Zn=Pn.createTime)&&void 0!==Zn?Zn:Date.now(),subscriptionOptions:{auth:Pn.auth,p256dh:Pn.p256dh,endpoint:Pn.endpoint,swScope:Pn.swScope,vapidKey:"string"==typeof Pn.vapidKey?Pn.vapidKey:Di(Pn.vapidKey)}}}else if(3===dt){const Pn=vr;F={token:Pn.fcmToken,createTime:Pn.createTime,subscriptionOptions:{auth:Di(Pn.auth),p256dh:Di(Pn.p256dh),endpoint:Pn.endpoint,swScope:Pn.swScope,vapidKey:Di(Pn.vapidKey)}}}else if(4===dt){const Pn=vr;F={token:Pn.fcmToken,createTime:Pn.createTime,subscriptionOptions:{auth:Di(Pn.auth),p256dh:Di(Pn.p256dh),endpoint:Pn.endpoint,swScope:Pn.swScope,vapidKey:Di(Pn.vapidKey)}}}}),function(dt,Ft,on,Zn){return xe.apply(this,arguments)})})).close(),yield(0,we.Lj)(Ci),yield(0,we.Lj)("fcm_vapid_details_db"),yield(0,we.Lj)("undefined"),qi(F)?F:null;var xe}),$i.apply(this,arguments)}function qi(R){if(!R||!R.subscriptionOptions)return!1;const{subscriptionOptions:F}=R;return"number"==typeof R.createTime&&R.createTime>0&&"string"==typeof R.token&&R.token.length>0&&"string"==typeof F.auth&&F.auth.length>0&&"string"==typeof F.p256dh&&F.p256dh.length>0&&"string"==typeof F.endpoint&&F.endpoint.length>0&&"string"==typeof F.swScope&&F.swScope.length>0&&"string"==typeof F.vapidKey&&F.vapidKey.length>0}const ls="firebase-messaging-store";let cs=null;function ds(){return cs||(cs=(0,we.X3)("firebase-messaging-database",1,{upgrade:(R,F)=>{0===F&&R.createObjectStore(ls)}})),cs}function Fi(R){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,U.Z)(function*(R){const F=je(R),xe=yield(yield ds()).transaction(ls).objectStore(ls).get(F);if(xe)return xe;{const rt=yield hi(R.appConfig.senderId);if(rt)return yield P(R,rt),rt}})).apply(this,arguments)}function P(R,F){return Y.apply(this,arguments)}function Y(){return(Y=(0,U.Z)(function*(R,F){const W=je(R),rt=(yield ds()).transaction(ls,"readwrite");return yield rt.objectStore(ls).put(F,W),yield rt.done,F})).apply(this,arguments)}function N(R){return Z.apply(this,arguments)}function Z(){return(Z=(0,U.Z)(function*(R){const F=je(R),xe=(yield ds()).transaction(ls,"readwrite");yield xe.objectStore(ls).delete(F),yield xe.done})).apply(this,arguments)}function je({appConfig:R}){return R.appId}const bt=new be.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function cn(R,F){return pr.apply(this,arguments)}function pr(){return(pr=(0,U.Z)(function*(R,F){var W;const xe=yield Xr(R),rt=Gr(F),dt={method:"POST",headers:xe,body:JSON.stringify(rt)};let Ft;try{Ft=yield(yield fetch($n(R.appConfig),dt)).json()}catch(on){throw bt.create("token-subscribe-failed",{errorInfo:null===(W=on)||void 0===W?void 0:W.toString()})}if(Ft.error)throw bt.create("token-subscribe-failed",{errorInfo:Ft.error.message});if(!Ft.token)throw bt.create("token-subscribe-no-token");return Ft.token})).apply(this,arguments)}function dr(R,F){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,U.Z)(function*(R,F){var W;const xe=yield Xr(R),rt=Gr(F.subscriptionOptions),dt={method:"PATCH",headers:xe,body:JSON.stringify(rt)};let Ft;try{Ft=yield(yield fetch(`${$n(R.appConfig)}/${F.token}`,dt)).json()}catch(on){throw bt.create("token-update-failed",{errorInfo:null===(W=on)||void 0===W?void 0:W.toString()})}if(Ft.error)throw bt.create("token-update-failed",{errorInfo:Ft.error.message});if(!Ft.token)throw bt.create("token-update-no-token");return Ft.token})).apply(this,arguments)}function Kn(R,F){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,U.Z)(function*(R,F){var W;const rt={method:"DELETE",headers:yield Xr(R)};try{const Ft=yield(yield fetch(`${$n(R.appConfig)}/${F}`,rt)).json();if(Ft.error)throw bt.create("token-unsubscribe-failed",{errorInfo:Ft.error.message})}catch(dt){throw bt.create("token-unsubscribe-failed",{errorInfo:null===(W=dt)||void 0===W?void 0:W.toString()})}})).apply(this,arguments)}function $n({projectId:R}){return`https://fcmregistrations.googleapis.com/v1/projects/${R}/registrations`}function Xr(R){return fi.apply(this,arguments)}function fi(){return(fi=(0,U.Z)(function*({appConfig:R,installations:F}){const W=yield F.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":R.apiKey,"x-goog-firebase-installations-auth":`FIS ${W}`})})).apply(this,arguments)}function Gr({p256dh:R,auth:F,endpoint:W,vapidKey:xe}){const rt={web:{endpoint:W,auth:F,p256dh:R}};return xe!==ki&&(rt.web.applicationPubKey=xe),rt}const Ai=6048e5;function Li(R){return hs.apply(this,arguments)}function hs(){return(hs=(0,U.Z)(function*(R){const F=yield a(R.swRegistration,R.vapidKey),W={vapidKey:R.vapidKey,swScope:R.swRegistration.scope,endpoint:F.endpoint,auth:Di(F.getKey("auth")),p256dh:Di(F.getKey("p256dh"))},xe=yield Fi(R.firebaseDependencies);if(xe){if(_(xe.subscriptionOptions,W))return Date.now()>=xe.createTime+Ai?Io(R,{token:xe.token,createTime:Date.now(),subscriptionOptions:W}):xe.token;try{yield Kn(R.firebaseDependencies,xe.token)}catch(rt){console.warn(rt)}return E(R.firebaseDependencies,W)}return E(R.firebaseDependencies,W)})).apply(this,arguments)}function Cn(R){return bs.apply(this,arguments)}function bs(){return(bs=(0,U.Z)(function*(R){const F=yield Fi(R.firebaseDependencies);F&&(yield Kn(R.firebaseDependencies,F.token),yield N(R.firebaseDependencies));const W=yield R.swRegistration.pushManager.getSubscription();return!W||W.unsubscribe()})).apply(this,arguments)}function Io(R,F){return Do.apply(this,arguments)}function Do(){return(Do=(0,U.Z)(function*(R,F){try{const W=yield dr(R.firebaseDependencies,F),xe=Object.assign(Object.assign({},F),{token:W,createTime:Date.now()});return yield P(R.firebaseDependencies,xe),W}catch(W){throw yield Cn(R),W}})).apply(this,arguments)}function E(R,F){return h.apply(this,arguments)}function h(){return(h=(0,U.Z)(function*(R,F){const xe={token:yield cn(R,F),createTime:Date.now(),subscriptionOptions:F};return yield P(R,xe),xe.token})).apply(this,arguments)}function a(R,F){return f.apply(this,arguments)}function f(){return(f=(0,U.Z)(function*(R,F){return(yield R.pushManager.getSubscription())||R.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Es(F)})})).apply(this,arguments)}function _(R,F){return F.vapidKey===R.vapidKey&&F.endpoint===R.endpoint&&F.auth===R.auth&&F.p256dh===R.p256dh}function O(R){const F={from:R.from,collapseKey:R.collapse_key,messageId:R.fcmMessageId};return function ie(R,F){if(!F.notification)return;R.notification={};const W=F.notification.title;W&&(R.notification.title=W);const xe=F.notification.body;xe&&(R.notification.body=xe);const rt=F.notification.image;rt&&(R.notification.image=rt)}(F,R),function nt(R,F){!F.data||(R.data=F.data)}(F,R),function Rt(R,F){var W,xe,rt,dt,Ft;if(!(F.fcmOptions||null!==(W=F.notification)&&void 0!==W&&W.click_action))return;R.fcmOptions={};const on=null!==(rt=null===(xe=F.fcmOptions)||void 0===xe?void 0:xe.link)&&void 0!==rt?rt:null===(dt=F.notification)||void 0===dt?void 0:dt.click_action;on&&(R.fcmOptions.link=on);const Zn=null===(Ft=F.fcmOptions)||void 0===Ft?void 0:Ft.analytics_label;Zn&&(R.fcmOptions.analyticsLabel=Zn)}(F,R),F}function St(R){return"object"==typeof R&&!!R&&vi in R}function mn(R,F){const W=[];for(let xe=0;xe<R.length;xe++)W.push(R.charAt(xe)),xe<F.length&&W.push(F.charAt(xe));return W.join("")}function On(R){return bt.create("missing-app-config-values",{valueName:R})}mn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),mn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class br{constructor(F,W,xe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const rt=function pn(R){if(!R||!R.options)throw On("App Configuration Object");if(!R.name)throw On("App Name");const F=["projectId","apiKey","appId","messagingSenderId"],{options:W}=R;for(const xe of F)if(!W[xe])throw On(xe);return{appName:R.name,projectId:W.projectId,apiKey:W.apiKey,appId:W.appId,senderId:W.messagingSenderId}}(F);this.firebaseDependencies={app:F,appConfig:rt,installations:W,analyticsProvider:xe}}_delete(){return Promise.resolve()}}function wr(R){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,U.Z)(function*(R){var F;try{R.swRegistration=yield navigator.serviceWorker.register(Wi,{scope:ts}),R.swRegistration.update().catch(()=>{})}catch(W){throw bt.create("failed-service-worker-registration",{browserErrorMessage:null===(F=W)||void 0===F?void 0:F.message})}})).apply(this,arguments)}function Qr(R,F){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,U.Z)(function*(R,F){if(!F&&!R.swRegistration&&(yield wr(R)),F||!R.swRegistration){if(!(F instanceof ServiceWorkerRegistration))throw bt.create("invalid-sw-registration");R.swRegistration=F}})).apply(this,arguments)}function Yi(R,F){return lr.apply(this,arguments)}function lr(){return(lr=(0,U.Z)(function*(R,F){F?R.vapidKey=F:R.vapidKey||(R.vapidKey=ki)})).apply(this,arguments)}function ri(){return(ri=(0,U.Z)(function*(R,F){if(!navigator)throw bt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw bt.create("permission-blocked");return yield Yi(R,F?.vapidKey),yield Qr(R,F?.serviceWorkerRegistration),Li(R)})).apply(this,arguments)}function Ki(R,F,W){return rs.apply(this,arguments)}function rs(){return(rs=(0,U.Z)(function*(R,F,W){const xe=Vo(F);(yield R.firebaseDependencies.analyticsProvider.get()).logEvent(xe,{message_id:W[vi],message_name:W[_s],message_time:W[us],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Vo(R){switch(R){case ci.NOTIFICATION_CLICKED:return"notification_open";case ci.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Co(){return(Co=(0,U.Z)(function*(R,F){const W=F.data;if(!W.isFirebaseMessaging)return;R.onMessageHandler&&W.messageType===ci.PUSH_RECEIVED&&("function"==typeof R.onMessageHandler?R.onMessageHandler(O(W)):R.onMessageHandler.next(O(W)));const xe=W.data;St(xe)&&"1"===xe[xs]&&(yield Ki(R,W.messageType,xe))})).apply(this,arguments)}const $a="@firebase/messaging",Ua=R=>{const F=new br(R.getProvider("app").getImmediate(),R.getProvider("installations-internal").getImmediate(),R.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",W=>function Vs(R,F){return Co.apply(this,arguments)}(F,W)),F},Cs=R=>{const F=R.getProvider("messaging").getImmediate();return{getToken:xe=>function $r(R,F){return ri.apply(this,arguments)}(F,xe)}};function Mu(){return sa.apply(this,arguments)}function sa(){return(sa=(0,U.Z)(function*(){try{yield(0,be.eu)()}catch{return!1}return typeof window<"u"&&(0,be.hl)()&&(0,be.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function _a(){(0,Ie._registerComponent)(new re.wA("messaging",Ua,"PUBLIC")),(0,Ie._registerComponent)(new re.wA("messaging-internal",Cs,"PRIVATE")),(0,Ie.registerVersion)($a,"0.9.15"),(0,Ie.registerVersion)($a,"0.9.15","esm2017")}();const Zi="analytics",ro="firebase_id",io="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",$o="https://www.googletagmanager.com/gtag/js",Xi=new ge.Yd("@firebase/analytics");function Ia(R){return Promise.all(R.map(F=>F.catch(W=>W)))}function ja(R,F){const W=document.createElement("script");W.src=`${$o}?l=${R}&id=${F}`,W.async=!0,document.head.appendChild(W)}function qs(R,F,W,xe,rt,dt){return yo.apply(this,arguments)}function yo(){return(yo=(0,U.Z)(function*(R,F,W,xe,rt,dt){const Ft=xe[rt];try{if(Ft)yield F[Ft];else{const Zn=(yield Ia(W)).find(cr=>cr.measurementId===rt);Zn&&(yield F[Zn.appId])}}catch(on){Xi.error(on)}R("config",rt,dt)})).apply(this,arguments)}function Ha(R,F,W,xe,rt){return To.apply(this,arguments)}function To(){return(To=(0,U.Z)(function*(R,F,W,xe,rt){try{let dt=[];if(rt&&rt.send_to){let Ft=rt.send_to;Array.isArray(Ft)||(Ft=[Ft]);const on=yield Ia(W);for(const Zn of Ft){const cr=on.find(Pn=>Pn.measurementId===Zn),vr=cr&&F[cr.appId];if(!vr){dt=[];break}dt.push(vr)}}0===dt.length&&(dt=Object.values(F)),yield Promise.all(dt),R("event",xe,rt||{})}catch(dt){Xi.error(dt)}})).apply(this,arguments)}function is(){const R=window.document.getElementsByTagName("script");for(const F of Object.values(R))if(F.src&&F.src.includes($o))return F;return null}const $s=new be.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Wa=new class so{constructor(F={},W=1e3){this.throttleMetadata=F,this.intervalMillis=W}getThrottleMetadata(F){return this.throttleMetadata[F]}setThrottleMetadata(F,W){this.throttleMetadata[F]=W}deleteThrottleMetadata(F){delete this.throttleMetadata[F]}};function Gl(R){return new Headers({Accept:"application/json","x-goog-api-key":R})}function qa(R){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,U.Z)(function*(R){var F;const{appId:W,apiKey:xe}=R,rt={method:"GET",headers:Gl(xe)},dt=io.replace("{app-id}",W),Ft=yield fetch(dt,rt);if(200!==Ft.status&&304!==Ft.status){let on="";try{const Zn=yield Ft.json();null!==(F=Zn.error)&&void 0!==F&&F.message&&(on=Zn.error.message)}catch{}throw $s.create("config-fetch-failed",{httpStatus:Ft.status,responseMessage:on})}return Ft.json()})).apply(this,arguments)}function Ui(R){return So.apply(this,arguments)}function So(){return(So=(0,U.Z)(function*(R,F=Wa,W){const{appId:xe,apiKey:rt,measurementId:dt}=R.options;if(!xe)throw $s.create("no-app-id");if(!rt){if(dt)return{measurementId:dt,appId:xe};throw $s.create("no-api-key")}const Ft=F.getThrottleMetadata(xe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},on=new Qs;return setTimeout((0,U.Z)(function*(){on.abort()}),void 0!==W?W:6e4),jo({appId:xe,apiKey:rt,measurementId:dt},Ft,on,F)})).apply(this,arguments)}function jo(R,F,W){return ji.apply(this,arguments)}function ji(){return(ji=(0,U.Z)(function*(R,{throttleEndTimeMillis:F,backoffCount:W},xe,rt=Wa){var dt,Ft;const{appId:on,measurementId:Zn}=R;try{yield Vi(xe,F)}catch(cr){if(Zn)return Xi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Zn} provided in the "measurementId" field in the local Firebase config. [${null===(dt=cr)||void 0===dt?void 0:dt.message}]`),{appId:on,measurementId:Zn};throw cr}try{const cr=yield qa(R);return rt.deleteThrottleMetadata(on),cr}catch(cr){const vr=cr;if(!Ys(vr)){if(rt.deleteThrottleMetadata(on),Zn)return Xi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Zn} provided in the "measurementId" field in the local Firebase config. [${vr?.message}]`),{appId:on,measurementId:Zn};throw cr}const Pn=503===Number(null===(Ft=vr?.customData)||void 0===Ft?void 0:Ft.httpStatus)?(0,be.$s)(W,rt.intervalMillis,30):(0,be.$s)(W,rt.intervalMillis),Mi={throttleEndTimeMillis:Date.now()+Pn,backoffCount:W+1};return rt.setThrottleMetadata(on,Mi),Xi.debug(`Calling attemptFetch again in ${Pn} millis`),jo(R,Mi,xe,rt)}})).apply(this,arguments)}function Vi(R,F){return new Promise((W,xe)=>{const rt=Math.max(F-Date.now(),0),dt=setTimeout(W,rt);R.addEventListener(()=>{clearTimeout(dt),xe($s.create("fetch-throttle",{throttleEndTimeMillis:F}))})})}function Ys(R){if(!(R instanceof be.ZR&&R.customData))return!1;const F=Number(R.customData.httpStatus);return 429===F||500===F||503===F||504===F}class Qs{constructor(){this.listeners=[]}addEventListener(F){this.listeners.push(F)}abort(){this.listeners.forEach(F=>F())}}function Js(){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,U.Z)(function*(){var R;if(!(0,be.hl)())return Xi.warn($s.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,be.eu)()}catch(F){return Xi.warn($s.create("indexeddb-unavailable",{errorInfo:null===(R=F)||void 0===R?void 0:R.toString()}).message),!1}return!0})).apply(this,arguments)}function Ei(){return(Ei=(0,U.Z)(function*(R,F,W,xe,rt,dt,Ft){var on;const Zn=Ui(R);Zn.then(ps=>{W[ps.measurementId]=ps.appId,R.options.measurementId&&ps.measurementId!==R.options.measurementId&&Xi.warn(`The measurement ID in the local Firebase config (${R.options.measurementId}) does not match the measurement ID fetched from the server (${ps.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ps=>Xi.error(ps)),F.push(Zn);const cr=Js().then(ps=>{if(ps)return xe.getId()}),[vr,Pn]=yield Promise.all([Zn,cr]);is()||ja(dt,vr.measurementId),rt("js",new Date);const Mi=null!==(on=Ft?.config)&&void 0!==on?on:{};return Mi.origin="firebase",Mi.update=!0,null!=Pn&&(Mi[ro]=Pn),rt("config",vr.measurementId,Mi),vr.measurementId})).apply(this,arguments)}class oo{constructor(F){this.app=F}_delete(){return delete ws[this.app.options.appId],Promise.resolve()}}let ws={},wn=[];const Rn={};let wt,Ot,oa="dataLayer",bi=!1;function ku(R,F,W){!function Pu(){const R=[];if((0,be.ru)()&&R.push("This is a browser extension environment."),(0,be.zI)()||R.push("Cookies are not available."),R.length>0){const F=R.map((xe,rt)=>`(${rt+1}) ${xe}`).join(" "),W=$s.create("invalid-analytics-context",{errorInfo:F});Xi.warn(W.message)}}();const xe=R.options.appId;if(!xe)throw $s.create("no-app-id");if(!R.options.apiKey){if(!R.options.measurementId)throw $s.create("no-api-key");Xi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${R.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ws[xe])throw $s.create("already-exists",{id:xe});if(!bi){!function Da(R){let F=[];Array.isArray(window[R])?F=window[R]:window[R]=F}(oa);const{wrappedGtag:dt,gtagCore:Ft}=function Bs(R,F,W,xe,rt){let dt=function(...Ft){window[xe].push(arguments)};return window[rt]&&"function"==typeof window[rt]&&(dt=window[rt]),window[rt]=function Ga(R,F,W,xe){function dt(){return(dt=(0,U.Z)(function*(Ft,on,Zn){try{"event"===Ft?yield Ha(R,F,W,on,Zn):"config"===Ft?yield qs(R,F,W,xe,on,Zn):R("set",on)}catch(cr){Xi.error(cr)}})).apply(this,arguments)}return function rt(Ft,on,Zn){return dt.apply(this,arguments)}}(dt,R,F,W),{gtagCore:dt,wrappedGtag:window[rt]}}(ws,wn,Rn,oa,"gtag");Ot=dt,wt=Ft,bi=!0}return ws[xe]=function Ut(R,F,W,xe,rt,dt,Ft){return Ei.apply(this,arguments)}(R,wn,Rn,F,wt,oa,W),new oo(R)}function Ya(){return(Ya=(0,U.Z)(function*(R,F,W,xe,rt){if(rt&&rt.global)R("event",W,xe);else{const dt=yield F;R("event",W,Object.assign(Object.assign({},xe),{send_to:dt}))}})).apply(this,arguments)}function Un(){return zo.apply(this,arguments)}function zo(){return(zo=(0,U.Z)(function*(){if((0,be.ru)()||!(0,be.zI)()||!(0,be.hl)())return!1;try{return yield(0,be.eu)()}catch{return!1}})).apply(this,arguments)}const Ta="@firebase/analytics";!function Ao(){(0,Ie._registerComponent)(new re.wA(Zi,(F,{options:W})=>ku(F.getProvider("app").getImmediate(),F.getProvider("installations-internal").getImmediate(),W),"PUBLIC")),(0,Ie._registerComponent)(new re.wA("analytics-internal",function R(F){try{const W=F.getProvider(Zi).getImmediate();return{logEvent:(xe,rt,dt)=>function vo(R,F,W,xe){R=(0,be.m9)(R),function Ho(R,F,W,xe,rt){return Ya.apply(this,arguments)}(Ot,ws[R.app.options.appId],F,W,xe).catch(rt=>Xi.error(rt))}(W,xe,rt,dt)}}catch(W){throw $s.create("interop-component-reg-failed",{reason:W})}},"PRIVATE")),(0,Ie.registerVersion)(Ta,"0.7.11"),(0,Ie.registerVersion)(Ta,"0.7.11","esm2017")}();var T=k(341),D=k(353),I=k(2868),M=k(2102),B=k(8915);const J=new l.GfV("7.4.1"),Te="__angularfire_symbol__analyticsIsSupportedValue",ze="__angularfire_symbol__analyticsIsSupported",xt="__angularfire_symbol__remoteConfigIsSupportedValue",Be="__angularfire_symbol__remoteConfigIsSupported",nr="__angularfire_symbol__messagingIsSupportedValue",dn="__angularfire_symbol__messagingIsSupported";function xo(R,F,W){if(F){if(1===F.length)return F[0];const dt=F.filter(Ft=>Ft.app===W);if(1===dt.length)return dt[0]}return W.container.getProvider(R).getImmediate({optional:!0})}globalThis[ze]||(globalThis[ze]=Un().then(R=>globalThis[Te]=R).catch(()=>globalThis[Te]=!1)),globalThis[dn]||(globalThis[dn]=Mu().then(R=>globalThis[nr]=R).catch(()=>globalThis[nr]=!1)),globalThis[Be]||(globalThis[Be]=Oi().then(R=>globalThis[xt]=R).catch(()=>globalThis[xt]=!1));const hu=(R,F)=>{const W=F?[F]:(0,L.C6)(),xe=[];return W.forEach(rt=>{rt.container.getProvider(R).instances.forEach(Ft=>{xe.includes(Ft)||xe.push(Ft)})}),xe};function pi(){}class Ks{constructor(F,W=T.N){this.zone=F,this.delegate=W}now(){return this.delegate.now()}schedule(F,W,xe){const rt=this.zone;return this.delegate.schedule(function(Ft){rt.runGuarded(()=>{F.apply(this,[Ft])})},W,xe)}}class ll{constructor(F){this.zone=F,this.task=null}call(F,W){const xe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",pi,{},pi,pi)),W.pipe((0,I.b)({next:xe,complete:xe,error:xe})).subscribe(F).add(xe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ts=(()=>{class R{constructor(W){this.ngZone=W,this.outsideAngular=W.runOutsideAngular(()=>new Ks(Zone.current)),this.insideAngular=W.run(()=>new Ks(Zone.current,D.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return R.\u0275fac=function(W){return new(W||R)(l.LFG(l.R0b))},R.\u0275prov=l.Yz7({token:R,factory:R.\u0275fac,providedIn:"root"}),R})();function uo(){const R=globalThis.\u0275AngularFireScheduler;if(!R)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return R}function xi(R){return R.pipe((0,M.QV)(uo().outsideAngular))}function fs(R){return uo(),function Wr(R){return function(W){return(W=W.lift(new ll(R.ngZone))).pipe((0,B.R)(R.outsideAngular),(0,M.QV)(R.insideAngular))}}(uo())(R)}},2090:(zt,st,k)=>{"use strict";k.d(st,{$s:()=>qn,BH:()=>G,G6:()=>ot,L:()=>we,LL:()=>Ne,Mn:()=>lt,Sg:()=>Re,UG:()=>le,US:()=>re,ZB:()=>X,ZR:()=>Me,b$:()=>z,d:()=>et,eu:()=>_e,hl:()=>fe,jU:()=>Se,m9:()=>Nn,ne:()=>Qn,pd:()=>Ar,r3:()=>Ct,ru:()=>Ae,tV:()=>ae,uI:()=>ue,vZ:()=>Jt,w1:()=>Ge,xO:()=>Ht,xb:()=>kt,z$:()=>Ke,zI:()=>ce,zd:()=>_n});const Ie=function(Fe){const Ce=[];let Je=0;for(let Le=0;Le<Fe.length;Le++){let Ee=Fe.charCodeAt(Le);Ee<128?Ce[Je++]=Ee:Ee<2048?(Ce[Je++]=Ee>>6|192,Ce[Je++]=63&Ee|128):55296==(64512&Ee)&&Le+1<Fe.length&&56320==(64512&Fe.charCodeAt(Le+1))?(Ee=65536+((1023&Ee)<<10)+(1023&Fe.charCodeAt(++Le)),Ce[Je++]=Ee>>18|240,Ce[Je++]=Ee>>12&63|128,Ce[Je++]=Ee>>6&63|128,Ce[Je++]=63&Ee|128):(Ce[Je++]=Ee>>12|224,Ce[Je++]=Ee>>6&63|128,Ce[Je++]=63&Ee|128)}return Ce},re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Fe,Ce){if(!Array.isArray(Fe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Je=Ce?this.byteToCharMapWebSafe_:this.byteToCharMap_,Le=[];for(let Ee=0;Ee<Fe.length;Ee+=3){const yt=Fe[Ee],Mt=Ee+1<Fe.length,$t=Mt?Fe[Ee+1]:0,un=Ee+2<Fe.length,Fn=un?Fe[Ee+2]:0;let rr=(15&$t)<<2|Fn>>6,ar=63&Fn;un||(ar=64,Mt||(rr=64)),Le.push(Je[yt>>2],Je[(3&yt)<<4|$t>>4],Je[rr],Je[ar])}return Le.join("")},encodeString(Fe,Ce){return this.HAS_NATIVE_SUPPORT&&!Ce?btoa(Fe):this.encodeByteArray(Ie(Fe),Ce)},decodeString(Fe,Ce){return this.HAS_NATIVE_SUPPORT&&!Ce?atob(Fe):function(Fe){const Ce=[];let Je=0,Le=0;for(;Je<Fe.length;){const Ee=Fe[Je++];if(Ee<128)Ce[Le++]=String.fromCharCode(Ee);else if(Ee>191&&Ee<224){const yt=Fe[Je++];Ce[Le++]=String.fromCharCode((31&Ee)<<6|63&yt)}else if(Ee>239&&Ee<365){const un=((7&Ee)<<18|(63&Fe[Je++])<<12|(63&Fe[Je++])<<6|63&Fe[Je++])-65536;Ce[Le++]=String.fromCharCode(55296+(un>>10)),Ce[Le++]=String.fromCharCode(56320+(1023&un))}else{const yt=Fe[Je++],Mt=Fe[Je++];Ce[Le++]=String.fromCharCode((15&Ee)<<12|(63&yt)<<6|63&Mt)}}return Ce.join("")}(this.decodeStringToByteArray(Fe,Ce))},decodeStringToByteArray(Fe,Ce){this.init_();const Je=Ce?this.charToByteMapWebSafe_:this.charToByteMap_,Le=[];for(let Ee=0;Ee<Fe.length;){const yt=Je[Fe.charAt(Ee++)],$t=Ee<Fe.length?Je[Fe.charAt(Ee)]:0;++Ee;const Fn=Ee<Fe.length?Je[Fe.charAt(Ee)]:64;++Ee;const rn=Ee<Fe.length?Je[Fe.charAt(Ee)]:64;if(++Ee,null==yt||null==$t||null==Fn||null==rn)throw Error();Le.push(yt<<2|$t>>4),64!==Fn&&(Le.push($t<<4&240|Fn>>2),64!==rn&&Le.push(Fn<<6&192|rn))}return Le},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Fe=0;Fe<this.ENCODED_VALS.length;Fe++)this.byteToCharMap_[Fe]=this.ENCODED_VALS.charAt(Fe),this.charToByteMap_[this.byteToCharMap_[Fe]]=Fe,this.byteToCharMapWebSafe_[Fe]=this.ENCODED_VALS_WEBSAFE.charAt(Fe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Fe]]=Fe,Fe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Fe)]=Fe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Fe)]=Fe)}}},we=function(Fe){return function(Fe){const Ce=Ie(Fe);return re.encodeByteArray(Ce,!0)}(Fe).replace(/\./g,"")},ae=function(Fe){try{return re.decodeString(Fe,!0)}catch(Ce){console.error("base64Decode failed: ",Ce)}return null};function X(Fe,Ce){if(!(Ce instanceof Object))return Ce;switch(Ce.constructor){case Date:return new Date(Ce.getTime());case Object:void 0===Fe&&(Fe={});break;case Array:Fe=[];break;default:return Ce}for(const Je in Ce)!Ce.hasOwnProperty(Je)||!te(Je)||(Fe[Je]=X(Fe[Je],Ce[Je]));return Fe}function te(Fe){return"__proto__"!==Fe}class G{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ce,Je)=>{this.resolve=Ce,this.reject=Je})}wrapCallback(Ce){return(Je,Le)=>{Je?this.reject(Je):this.resolve(Le),"function"==typeof Ce&&(this.promise.catch(()=>{}),1===Ce.length?Ce(Je):Ce(Je,Le))}}}function Re(Fe,Ce){if(Fe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Le=Ce||"demo-project",Ee=Fe.iat||0,yt=Fe.sub||Fe.user_id;if(!yt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Mt=Object.assign({iss:`https://securetoken.google.com/${Le}`,aud:Le,iat:Ee,exp:Ee+3600,auth_time:Ee,sub:yt,user_id:yt,firebase:{sign_in_provider:"custom",identities:{}}},Fe);return[we(JSON.stringify({alg:"none",type:"JWT"})),we(JSON.stringify(Mt)),""].join(".")}function Ke(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ue(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function le(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Se(){return"object"==typeof self&&self.self===self}function Ae(){const Fe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Fe&&void 0!==Fe.id}function z(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function et(){return Ke().indexOf("Electron/")>=0}function Ge(){const Fe=Ke();return Fe.indexOf("MSIE ")>=0||Fe.indexOf("Trident/")>=0}function lt(){return Ke().indexOf("MSAppHost/")>=0}function ot(){return!le()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fe(){return"object"==typeof indexedDB}function _e(){return new Promise((Fe,Ce)=>{try{let Je=!0;const Le="validate-browser-context-for-indexeddb-analytics-module",Ee=self.indexedDB.open(Le);Ee.onsuccess=()=>{Ee.result.close(),Je||self.indexedDB.deleteDatabase(Le),Fe(!0)},Ee.onupgradeneeded=()=>{Je=!1},Ee.onerror=()=>{var yt;Ce((null===(yt=Ee.error)||void 0===yt?void 0:yt.message)||"")}}catch(Je){Ce(Je)}})}function ce(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Me extends Error{constructor(Ce,Je,Le){super(Je),this.code=Ce,this.customData=Le,this.name="FirebaseError",Object.setPrototypeOf(this,Me.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ne.prototype.create)}}class Ne{constructor(Ce,Je,Le){this.service=Ce,this.serviceName=Je,this.errors=Le}create(Ce,...Je){const Le=Je[0]||{},Ee=`${this.service}/${Ce}`,yt=this.errors[Ce],Mt=yt?function mt(Fe,Ce){return Fe.replace(At,(Je,Le)=>{const Ee=Ce[Le];return null!=Ee?String(Ee):`<${Le}?>`})}(yt,Le):"Error";return new Me(Ee,`${this.serviceName}: ${Mt} (${Ee}).`,Le)}}const At=/\{\$([^}]+)}/g;function Ct(Fe,Ce){return Object.prototype.hasOwnProperty.call(Fe,Ce)}function kt(Fe){for(const Ce in Fe)if(Object.prototype.hasOwnProperty.call(Fe,Ce))return!1;return!0}function Jt(Fe,Ce){if(Fe===Ce)return!0;const Je=Object.keys(Fe),Le=Object.keys(Ce);for(const Ee of Je){if(!Le.includes(Ee))return!1;const yt=Fe[Ee],Mt=Ce[Ee];if(xn(yt)&&xn(Mt)){if(!Jt(yt,Mt))return!1}else if(yt!==Mt)return!1}for(const Ee of Le)if(!Je.includes(Ee))return!1;return!0}function xn(Fe){return null!==Fe&&"object"==typeof Fe}function Ht(Fe){const Ce=[];for(const[Je,Le]of Object.entries(Fe))Array.isArray(Le)?Le.forEach(Ee=>{Ce.push(encodeURIComponent(Je)+"="+encodeURIComponent(Ee))}):Ce.push(encodeURIComponent(Je)+"="+encodeURIComponent(Le));return Ce.length?"&"+Ce.join("&"):""}function _n(Fe){const Ce={};return Fe.replace(/^\?/,"").split("&").forEach(Le=>{if(Le){const[Ee,yt]=Le.split("=");Ce[decodeURIComponent(Ee)]=decodeURIComponent(yt)}}),Ce}function Ar(Fe){const Ce=Fe.indexOf("?");if(!Ce)return"";const Je=Fe.indexOf("#",Ce);return Fe.substring(Ce,Je>0?Je:void 0)}function Qn(Fe,Ce){const Je=new gn(Fe,Ce);return Je.subscribe.bind(Je)}class gn{constructor(Ce,Je){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Je,this.task.then(()=>{Ce(this)}).catch(Le=>{this.error(Le)})}next(Ce){this.forEachObserver(Je=>{Je.next(Ce)})}error(Ce){this.forEachObserver(Je=>{Je.error(Ce)}),this.close(Ce)}complete(){this.forEachObserver(Ce=>{Ce.complete()}),this.close()}subscribe(Ce,Je,Le){let Ee;if(void 0===Ce&&void 0===Je&&void 0===Le)throw new Error("Missing Observer.");Ee=function An(Fe,Ce){if("object"!=typeof Fe||null===Fe)return!1;for(const Je of Ce)if(Je in Fe&&"function"==typeof Fe[Je])return!0;return!1}(Ce,["next","error","complete"])?Ce:{next:Ce,error:Je,complete:Le},void 0===Ee.next&&(Ee.next=zn),void 0===Ee.error&&(Ee.error=zn),void 0===Ee.complete&&(Ee.complete=zn);const yt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ee.error(this.finalError):Ee.complete()}catch{}}),this.observers.push(Ee),yt}unsubscribeOne(Ce){void 0===this.observers||void 0===this.observers[Ce]||(delete this.observers[Ce],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ce){if(!this.finalized)for(let Je=0;Je<this.observers.length;Je++)this.sendOne(Je,Ce)}sendOne(Ce,Je){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ce])try{Je(this.observers[Ce])}catch(Le){typeof console<"u"&&console.error&&console.error(Le)}})}close(Ce){this.finalized||(this.finalized=!0,void 0!==Ce&&(this.finalError=Ce),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zn(){}function qn(Fe,Ce=1e3,Je=2){const Le=Ce*Math.pow(Je,Fe),Ee=Math.round(.5*Le*(Math.random()-.5)*2);return Math.min(144e5,Le+Ee)}function Nn(Fe){return Fe&&Fe._delegate?Fe._delegate:Fe}},931:(zt,st,k)=>{"use strict";k.d(st,{Br:()=>dr,w:()=>gn,dr:()=>sn,oU:()=>Lr,cs:()=>cs,YG:()=>Nn,Sm:()=>Fe,PM:()=>Ce,FN:()=>Je,Zi:()=>Le,W2:()=>Fn,x4:()=>Ln,W4:()=>rr,fr:()=>jr,Gu:()=>er,gu:()=>xr,Xz:()=>Yn,pK:()=>Oe,Ie:()=>ve,u8:()=>Wt,IK:()=>hn,td:()=>Sn,Q$:()=>Tn,q_:()=>Zt,z0:()=>Dr,fG:()=>Tr,zc:()=>vn,jP:()=>Ni,t9:()=>Xe,n0:()=>he,CK:()=>ye,yW:()=>ln,Bs:()=>Or,wd:()=>$e,ho:()=>Ue,sr:()=>ut,Pc:()=>Do,r4:()=>Cn,HT:()=>Cr,IN:()=>$n,as:()=>Dn,YI:()=>Fi,QI:()=>zn,j9:()=>Vn,yF:()=>fi});var l=k(5062),L=k(4719),U=k(655),Ie=k(2916),be=k(6688),re=k(7043),ge=k(4850);function ae(E,h,a,f){return(0,re.m)(a)&&(f=a,a=void 0),f?ae(E,h,a).pipe((0,ge.U)(_=>(0,be.k)(_)?f(..._):f(_))):new Ie.y(_=>{Q(E,h,function O(ie){_.next(arguments.length>1?Array.prototype.slice.call(arguments):ie)},_,a)})}function Q(E,h,a,f,_){let O;if(function G(E){return E&&"function"==typeof E.addEventListener&&"function"==typeof E.removeEventListener}(E)){const ie=E;E.addEventListener(h,a,_),O=()=>ie.removeEventListener(h,a,_)}else if(function te(E){return E&&"function"==typeof E.on&&"function"==typeof E.off}(E)){const ie=E;E.on(h,a),O=()=>ie.off(h,a)}else if(function X(E){return E&&"function"==typeof E.addListener&&"function"==typeof E.removeListener}(E)){const ie=E;E.addListener(h,a),O=()=>ie.removeListener(h,a)}else{if(!E||!E.length)throw new TypeError("Invalid event target");for(let ie=0,nt=E.length;ie<nt;ie++)Q(E[ie],h,a,f,_)}f.add(O)}var Re=k(8929),Ke=k(591),ue=k(1958),z=(k(4181),k(5980),k(3139),k(5729)),et=k(3756),Ge=k(9753),ke=(k(97),k(3280)),fe=(k(3509),k(7205)),Ne=k(2198),mt=k(7545),At=k(5778),tt=k(6895);const We=z.i,me=["*"],Jt=E=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(E):"function"==typeof requestAnimationFrame?requestAnimationFrame(E):setTimeout(E),xn=E=>!!E.resolveComponentFactory;let Ht=(()=>{class E{constructor(a,f){this.injector=a,this.el=f,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(a){this.el.nativeElement.value=this.lastValue=a??"",_n(this.el)}handleChangeEvent(a,f){a===this.el.nativeElement&&(f!==this.lastValue&&(this.lastValue=f,this.onChange(f)),_n(this.el))}_handleBlurEvent(a){a===this.el.nativeElement&&(this.onTouched(),_n(this.el))}registerOnChange(a){this.onChange=a}registerOnTouched(a){this.onTouched=a}setDisabledState(a){this.el.nativeElement.disabled=a}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let a;try{a=this.injector.get(L.a5)}catch{}if(!a)return;a.statusChanges&&(this.statusChanges=a.statusChanges.subscribe(()=>_n(this.el)));const f=a.control;f&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(O=>{if(typeof f[O]<"u"){const ie=f[O].bind(f);f[O]=(...nt)=>{ie(...nt),_n(this.el)}}})}}return E.\u0275fac=function(a){return new(a||E)(l.Y36(l.zs3),l.Y36(l.SBq))},E.\u0275dir=l.lG2({type:E,hostBindings:function(a,f){1&a&&l.NdJ("ionBlur",function(O){return f._handleBlurEvent(O.target)})}}),E})();const _n=E=>{Jt(()=>{const h=E.nativeElement,a=null!=h.value&&h.value.toString().length>0,f=Ar(h);jn(h,f);const _=h.closest("ion-item");_&&jn(_,a?[...f,"item-has-value"]:f)})},Ar=E=>{const h=E.classList,a=[];for(let f=0;f<h.length;f++){const _=h.item(f);null!==_&&Qn(_,"ng-")&&a.push(`ion-${_.substring(3)}`)}return a},jn=(E,h)=>{const a=E.classList;a.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),a.add(...h)},Qn=(E,h)=>E.substring(0,h.length)===h;let gn=(()=>{class E extends Ht{constructor(a,f){super(a,f)}writeValue(a){this.el.nativeElement.checked=this.lastValue=a??!1,_n(this.el)}_handleIonChange(a){this.handleChangeEvent(a,a.checked)}}return E.\u0275fac=function(a){return new(a||E)(l.Y36(l.zs3),l.Y36(l.SBq))},E.\u0275dir=l.lG2({type:E,selectors:[["ion-checkbox"],["ion-toggle"]],hostBindings:function(a,f){1&a&&l.NdJ("ionChange",function(O){return f._handleIonChange(O.target)})},features:[l._Bn([{provide:L.JU,useExisting:E,multi:!0}]),l.qOj]}),E})(),Dn=(()=>{class E extends Ht{constructor(a,f){super(a,f)}_handleIonChange(a){this.handleChangeEvent(a,a.value)}registerOnChange(a){super.registerOnChange(f=>{a(""===f?null:parseFloat(f))})}}return E.\u0275fac=function(a){return new(a||E)(l.Y36(l.zs3),l.Y36(l.SBq))},E.\u0275dir=l.lG2({type:E,selectors:[["ion-input","type","number"]],hostBindings:function(a,f){1&a&&l.NdJ("ionChange",function(O){return f._handleIonChange(O.target)})},features:[l._Bn([{provide:L.JU,useExisting:E,multi:!0}]),l.qOj]}),E})(),zn=(()=>{class E extends Ht{constructor(a,f){super(a,f)}_handleChangeEvent(a){this.handleChangeEvent(a,a.value)}}return E.\u0275fac=function(a){return new(a||E)(l.Y36(l.zs3),l.Y36(l.SBq))},E.\u0275dir=l.lG2({type:E,selectors:[["ion-range"],["ion-select"],["ion-radio-group"],["ion-segment"],["ion-datetime"]],hostBindings:function(a,f){1&a&&l.NdJ("ionChange",function(O){return f._handleChangeEvent(O.target)})},features:[l._Bn([{provide:L.JU,useExisting:E,multi:!0}]),l.qOj]}),E})(),Vn=(()=>{class E extends Ht{constructor(a,f){super(a,f)}_handleInputEvent(a){this.handleChangeEvent(a,a.value)}}return E.\u0275fac=function(a){return new(a||E)(l.Y36(l.zs3),l.Y36(l.SBq))},E.\u0275dir=l.lG2({type:E,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(a,f){1&a&&l.NdJ("ionChange",function(O){return f._handleInputEvent(O.target)})},features:[l._Bn([{provide:L.JU,useExisting:E,multi:!0}]),l.qOj]}),E})();const Vt=(E,h)=>{const a=E.prototype;h.forEach(f=>{Object.defineProperty(a,f,{get(){return this.el[f]},set(_){this.z.runOutsideAngular(()=>this.el[f]=_)}})})},or=(E,h)=>{const a=E.prototype;h.forEach(f=>{a[f]=function(){const _=arguments;return this.z.runOutsideAngular(()=>this.el[f].apply(this.el,_))}})},bn=(E,h,a)=>{a.forEach(f=>E[f]=ae(h,f))};function Bt(E){return function(a){const{defineCustomElementFn:f,inputs:_,methods:O}=E;return void 0!==f&&f(),_&&Vt(a,_),O&&or(a,O),a}}let sn=(()=>{let E=class{constructor(a,f,_){this.z=_,a.detach(),this.el=f.nativeElement}};return E.\u0275fac=function(a){return new(a||E)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},E.\u0275cmp=l.Xpm({type:E,selectors:[["ion-app"]],ngContentSelectors:me,decls:1,vars:0,template:function(a,f){1&a&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,U.gn)([Bt({defineCustomElementFn:void 0})],E),E})(),Lr=(()=>{let E=class{constructor(a,f,_){this.z=_,a.detach(),this.el=f.nativeElement}};return E.\u0275fac=function(a){return new(a||E)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},E.\u0275cmp=l.Xpm({type:E,selectors:[["ion-back-button"]],inputs:{color:"color",defaultHref:"defaultHref",disabled:"disabled",icon:"icon",mode:"mode",routerAnimation:"routerAnimation",text:"text",type:"type"},ngContentSelectors:me,decls:1,vars:0,template:function(a,f){1&a&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,U.gn)([Bt({defineCustomElementFn:void 0,inputs:["color","defaultHref","disabled","icon","mode","routerAnimation","text","type"]})],E),E})(),Nn=(()=>{let E=class{constructor(a,f,_){this.z=_,a.detach(),this.el=f.nativeElement,bn(this,this.el,["ionFocus","ionBlur"])}};return E.\u0275fac=function(a){return new(a||E)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},E.\u0275cmp=l.Xpm({type:E,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:me,decls:1,vars:0,template:function(a,f){1&a&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,U.gn)([Bt({defineCustomElementFn:void 0,inputs:["buttonType","color","disabled","download","expand","fill","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],E),E})(),Fe=(()=>{let E=class{constructor(a,f,_){this.z=_,a.detach(),this.el=f.nativeElement}};return E.\u0275fac=function(a){return new(a||E)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},E.\u0275cmp=l.Xpm({type:E,selectors:[["ion-buttons"]],inputs:{collapse:"collapse"},ngContentSelectors:me,decls:1,vars:0,template:function(a,f){1&a&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,U.gn)([Bt({defineCustomElementFn:void 0,inputs:["collapse"]})],E),E})(),Ce=(()=>{let E=class{constructor(a,f,_){this.z=_,a.detach(),this.el=f.nativeElement}};return E.\u0275fac=function(a){return new(a||E)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},E.\u0275cmp=l.Xpm({type:E,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:me,decls:1,vars:0,template:function(a,f){1&a&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,U.gn)([Bt({defineCustomElementFn:void 0,inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],E),E})(),Je=(()=>{let E=class{constructor(a,f,_){this.z=_,a.detach(),this.el=f.nativeElement}};return E.\u0275fac=function(a){return new(a||E)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},E.\u0275cmp=l.Xpm({type:E,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:me,decls:1,vars:0,template:function(a,f){1&a&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,U.gn)([Bt({defineCustomElementFn:void 0,inputs:["mode"]})],E),E})(),Le=(()=>{let E=class{constructor(a,f,_){this.z=_,a.detach(),this.el=f.nativeElement}};return E.\u0275fac=function(a){return new(a||E)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},E.\u0275cmp=l.Xpm({type:E,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:me,decls:1,vars:0,template:function(a,f){1&a&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,U.gn)([Bt({defineCustomElementFn:void 0,inputs:["color","mode","translucent"]})],E),E})(),Fn=(()=>{let E=class{constructor(a,f,_){this.z=_,a.detach(),this.el=f.nativeElement,bn(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return E.\u0275fac=function(a){return new(a||E)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},E.\u0275cmp=l.Xpm({type:E,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:me,decls:1,vars:0,template:function(a,f){1&a&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,U.gn)([Bt({defineCustomElementFn:void 0,inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],E),E})(),Ln=(()=>{let E=class{constructor(a,f,_){this.z=_,a.detach(),this.el=f.nativeElement,bn(this,this.el,["ionCancel","ionChange","ionFocus","ionBlur"])}};return E.\u0275fac=function(a){return new(a||E)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},E.\u0275cmp=l.Xpm({type:E,selectors:[["ion-datetime"]],inputs:{cancelText:"cancelText",clearText:"clearText",color:"color",dayValues:"dayValues",disabled:"disabled",doneText:"doneText",firstDayOfWeek:"firstDayOfWeek",hourCycle:"hourCycle",hourValues:"hourValues",isDateEnabled:"isDateEnabled",locale:"locale",max:"max",min:"min",minuteValues:"minuteValues",mode:"mode",monthValues:"monthValues",name:"name",presentation:"presentation",readonly:"readonly",showClearButton:"showClearButton",showDefaultButtons:"showDefaultButtons",showDefaultTimeLabel:"showDefaultTimeLabel",showDefaultTitle:"showDefaultTitle",size:"size",value:"value",yearValues:"yearValues"},ngContentSelectors:me,decls:1,vars:0,template:function(a,f){1&a&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,U.gn)([Bt({defineCustomElementFn:void 0,inputs:["cancelText","clearText","color","dayValues","disabled","doneText","firstDayOfWeek","hourCycle","hourValues","isDateEnabled","locale","max","min","minuteValues","mode","monthValues","name","presentation","readonly","showClearButton","showDefaultButtons","showDefaultTimeLabel","showDefaultTitle","size","value","yearValues"],methods:["confirm","reset","cancel"]})],E),E})(),rr=(()=>{let E=class{constructor(a,f,_){this.z=_,a.detach(),this.el=f.nativeElement,bn(this,this.el,["ionFocus","ionBlur"])}};return E.\u0275fac=function(a){return new(a||E)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},E.\u0275cmp=l.Xpm({type:E,selectors:[["ion-fab-button"]],inputs:{activated:"activated",closeIcon:"closeIcon",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",show:"show",size:"size",target:"target",translucent:"translucent",type:"type"},ngContentSelectors:me,decls:1,vars:0,template:function(a,f){1&a&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,U.gn)([Bt({defineCustomElementFn:void 0,inputs:["activated","closeIcon","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","show","size","target","translucent","type"]})],E),E})(),jr=(()=>{let E=class{constructor(a,f,_){this.z=_,a.detach(),this.el=f.nativeElement}};return E.\u0275fac=function(a){return new(a||E)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},E.\u0275cmp=l.Xpm({type:E,selectors:[["ion-footer"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:me,decls:1,vars:0,template:function(a,f){1&a&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,U.gn)([Bt({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],E),E})(),er=(()=>{let E=class{constructor(a,f,_){this.z=_,a.detach(),this.el=f.nativeElement}};return E.\u0275fac=function(a){return new(a||E)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},E.\u0275cmp=l.Xpm({type:E,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:me,decls:1,vars:0,template:function(a,f){1&a&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,U.gn)([Bt({defineCustomElementFn:void 0,inputs:["collapse","mode","translucent"]})],E),E})(),xr=(()=>{let E=class{constructor(a,f,_){this.z=_,a.detach(),this.el=f.nativeElement}};return E.\u0275fac=function(a){return new(a||E)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},E.\u0275cmp=l.Xpm({type:E,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:me,decls:1,vars:0,template:function(a,f){1&a&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,U.gn)([Bt({defineCustomElementFn:void 0,inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],E),E})(),Yn=(()=>{let E=class{constructor(a,f,_){this.z=_,a.detach(),this.el=f.nativeElement,bn(this,this.el,["ionImgWillLoad","ionImgDidLoad","ionError"])}};return E.\u0275fac=function(a){return new(a||E)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},E.\u0275cmp=l.Xpm({type:E,selectors:[["ion-img"]],inputs:{alt:"alt",src:"src"},ngContentSelectors:me,decls:1,vars:0,template:function(a,f){1&a&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,U.gn)([Bt({defineCustomElementFn:void 0,inputs:["alt","src"]})],E),E})(),Oe=(()=>{let E=class{constructor(a,f,_){this.z=_,a.detach(),this.el=f.nativeElement,bn(this,this.el,["ionInput","ionChange","ionBlur","ionFocus"])}};return E.\u0275fac=function(a){return new(a||E)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},E.\u0275cmp=l.Xpm({type:E,selectors:[["ion-input"]],inputs:{accept:"accept",autocapitalize:"autocapitalize",autocomplete:"autocomplete",autocorrect:"autocorrect",autofocus:"autofocus",clearInput:"clearInput",clearOnEdit:"clearOnEdit",color:"color",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",inputmode:"inputmode",max:"max",maxlength:"maxlength",min:"min",minlength:"minlength",mode:"mode",multiple:"multiple",name:"name",pattern:"pattern",placeholder:"placeholder",readonly:"readonly",required:"required",size:"size",spellcheck:"spellcheck",step:"step",type:"type",value:"value"},ngContentSelectors:me,decls:1,vars:0,template:function(a,f){1&a&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,U.gn)([Bt({defineCustomElementFn:void 0,inputs:["accept","autocapitalize","autocomplete","autocorrect","autofocus","clearInput","clearOnEdit","color","debounce","disabled","enterkeyhint","inputmode","max","maxlength","min","minlength","mode","multiple","name","pattern","placeholder","readonly","required","size","spellcheck","step","type","value"],methods:["setFocus","getInputElement"]})],E),E})(),ve=(()=>{let E=class{constructor(a,f,_){this.z=_,a.detach(),this.el=f.nativeElement}};return E.\u0275fac=function(a){return new(a||E)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},E.\u0275cmp=l.Xpm({type:E,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:me,decls:1,vars:0,template:function(a,f){1&a&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,U.gn)([Bt({defineCustomElementFn:void 0,inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],E),E})(),Wt=(()=>{let E=class{constructor(a,f,_){this.z=_,a.detach(),this.el=f.nativeElement}};return E.\u0275fac=function(a){return new(a||E)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},E.\u0275cmp=l.Xpm({type:E,selectors:[["ion-item-option"]],inputs:{color:"color",disabled:"disabled",download:"download",expandable:"expandable",href:"href",mode:"mode",rel:"rel",target:"target",type:"type"},ngContentSelectors:me,decls:1,vars:0,template:function(a,f){1&a&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,U.gn)([Bt({defineCustomElementFn:void 0,inputs:["color","disabled","download","expandable","href","mode","rel","target","type"]})],E),E})(),hn=(()=>{let E=class{constructor(a,f,_){this.z=_,a.detach(),this.el=f.nativeElement,bn(this,this.el,["ionSwipe"])}};return E.\u0275fac=function(a){return new(a||E)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},E.\u0275cmp=l.Xpm({type:E,selectors:[["ion-item-options"]],inputs:{side:"side"},ngContentSelectors:me,decls:1,vars:0,template:function(a,f){1&a&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,U.gn)([Bt({defineCustomElementFn:void 0,inputs:["side"]})],E),E})(),Sn=(()=>{let E=class{constructor(a,f,_){this.z=_,a.detach(),this.el=f.nativeElement,bn(this,this.el,["ionDrag"])}};return E.\u0275fac=function(a){return new(a||E)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},E.\u0275cmp=l.Xpm({type:E,selectors:[["ion-item-sliding"]],inputs:{disabled:"disabled"},ngContentSelectors:me,decls:1,vars:0,template:function(a,f){1&a&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,U.gn)([Bt({defineCustomElementFn:void 0,inputs:["disabled"],methods:["getOpenAmount","getSlidingRatio","open","close","closeOpened"]})],E),E})(),Tn=(()=>{let E=class{constructor(a,f,_){this.z=_,a.detach(),this.el=f.nativeElement}};return E.\u0275fac=function(a){return new(a||E)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},E.\u0275cmp=l.Xpm({type:E,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:me,decls:1,vars:0,template:function(a,f){1&a&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,U.gn)([Bt({defineCustomElementFn:void 0,inputs:["color","mode","position"]})],E),E})(),Zt=(()=>{let E=class{constructor(a,f,_){this.z=_,a.detach(),this.el=f.nativeElement}};return E.\u0275fac=function(a){return new(a||E)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},E.\u0275cmp=l.Xpm({type:E,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:me,decls:1,vars:0,template:function(a,f){1&a&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,U.gn)([Bt({defineCustomElementFn:void 0,inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],E),E})(),Dr=(()=>{let E=class{constructor(a,f,_){this.z=_,a.detach(),this.el=f.nativeElement,bn(this,this.el,["ionWillOpen","ionWillClose","ionDidOpen","ionDidClose"])}};return E.\u0275fac=function(a){return new(a||E)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},E.\u0275cmp=l.Xpm({type:E,selectors:[["ion-menu"]],inputs:{contentId:"contentId",disabled:"disabled",maxEdgeStart:"maxEdgeStart",menuId:"menuId",side:"side",swipeGesture:"swipeGesture",type:"type"},ngContentSelectors:me,decls:1,vars:0,template:function(a,f){1&a&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,U.gn)([Bt({defineCustomElementFn:void 0,inputs:["contentId","disabled","maxEdgeStart","menuId","side","swipeGesture","type"],methods:["isOpen","isActive","open","close","toggle","setOpen"]})],E),E})(),Tr=(()=>{let E=class{constructor(a,f,_){this.z=_,a.detach(),this.el=f.nativeElement}};return E.\u0275fac=function(a){return new(a||E)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},E.\u0275cmp=l.Xpm({type:E,selectors:[["ion-menu-button"]],inputs:{autoHide:"autoHide",color:"color",disabled:"disabled",menu:"menu",mode:"mode",type:"type"},ngContentSelectors:me,decls:1,vars:0,template:function(a,f){1&a&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,U.gn)([Bt({defineCustomElementFn:void 0,inputs:["autoHide","color","disabled","menu","mode","type"]})],E),E})(),vn=(()=>{let E=class{constructor(a,f,_){this.z=_,a.detach(),this.el=f.nativeElement}};return E.\u0275fac=function(a){return new(a||E)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},E.\u0275cmp=l.Xpm({type:E,selectors:[["ion-menu-toggle"]],inputs:{autoHide:"autoHide",menu:"menu"},ngContentSelectors:me,decls:1,vars:0,template:function(a,f){1&a&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,U.gn)([Bt({defineCustomElementFn:void 0,inputs:["autoHide","menu"]})],E),E})(),Xe=(()=>{let E=class{constructor(a,f,_){this.z=_,a.detach(),this.el=f.nativeElement,bn(this,this.el,["ionChange","ionCancel","ionDismiss","ionFocus","ionBlur"])}};return E.\u0275fac=function(a){return new(a||E)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},E.\u0275cmp=l.Xpm({type:E,selectors:[["ion-select"]],inputs:{cancelText:"cancelText",compareWith:"compareWith",disabled:"disabled",interface:"interface",interfaceOptions:"interfaceOptions",mode:"mode",multiple:"multiple",name:"name",okText:"okText",placeholder:"placeholder",selectedText:"selectedText",value:"value"},ngContentSelectors:me,decls:1,vars:0,template:function(a,f){1&a&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,U.gn)([Bt({defineCustomElementFn:void 0,inputs:["cancelText","compareWith","disabled","interface","interfaceOptions","mode","multiple","name","okText","placeholder","selectedText","value"],methods:["open"]})],E),E})(),he=(()=>{let E=class{constructor(a,f,_){this.z=_,a.detach(),this.el=f.nativeElement}};return E.\u0275fac=function(a){return new(a||E)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},E.\u0275cmp=l.Xpm({type:E,selectors:[["ion-select-option"]],inputs:{disabled:"disabled",value:"value"},ngContentSelectors:me,decls:1,vars:0,template:function(a,f){1&a&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,U.gn)([Bt({defineCustomElementFn:void 0,inputs:["disabled","value"]})],E),E})(),ye=(()=>{let E=class{constructor(a,f,_){this.z=_,a.detach(),this.el=f.nativeElement}};return E.\u0275fac=function(a){return new(a||E)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},E.\u0275cmp=l.Xpm({type:E,selectors:[["ion-skeleton-text"]],inputs:{animated:"animated"},ngContentSelectors:me,decls:1,vars:0,template:function(a,f){1&a&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,U.gn)([Bt({defineCustomElementFn:void 0,inputs:["animated"]})],E),E})(),ln=(()=>{let E=class{constructor(a,f,_){this.z=_,a.detach(),this.el=f.nativeElement}};return E.\u0275fac=function(a){return new(a||E)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},E.\u0275cmp=l.Xpm({type:E,selectors:[["ion-text"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:me,decls:1,vars:0,template:function(a,f){1&a&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,U.gn)([Bt({defineCustomElementFn:void 0,inputs:["color","mode"]})],E),E})(),Or=(()=>{let E=class{constructor(a,f,_){this.z=_,a.detach(),this.el=f.nativeElement}};return E.\u0275fac=function(a){return new(a||E)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},E.\u0275cmp=l.Xpm({type:E,selectors:[["ion-thumbnail"]],ngContentSelectors:me,decls:1,vars:0,template:function(a,f){1&a&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,U.gn)([Bt({defineCustomElementFn:void 0})],E),E})(),$e=(()=>{let E=class{constructor(a,f,_){this.z=_,a.detach(),this.el=f.nativeElement}};return E.\u0275fac=function(a){return new(a||E)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},E.\u0275cmp=l.Xpm({type:E,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:me,decls:1,vars:0,template:function(a,f){1&a&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,U.gn)([Bt({defineCustomElementFn:void 0,inputs:["color","size"]})],E),E})(),Ue=(()=>{let E=class{constructor(a,f,_){this.z=_,a.detach(),this.el=f.nativeElement,bn(this,this.el,["ionChange","ionFocus","ionBlur"])}};return E.\u0275fac=function(a){return new(a||E)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},E.\u0275cmp=l.Xpm({type:E,selectors:[["ion-toggle"]],inputs:{checked:"checked",color:"color",disabled:"disabled",mode:"mode",name:"name",value:"value"},ngContentSelectors:me,decls:1,vars:0,template:function(a,f){1&a&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,U.gn)([Bt({defineCustomElementFn:void 0,inputs:["checked","color","disabled","mode","name","value"]})],E),E})(),ut=(()=>{let E=class{constructor(a,f,_){this.z=_,a.detach(),this.el=f.nativeElement}};return E.\u0275fac=function(a){return new(a||E)(l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(l.R0b))},E.\u0275cmp=l.Xpm({type:E,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:me,decls:1,vars:0,template:function(a,f){1&a&&(l.F$t(),l.Hsn(0))},encapsulation:2,changeDetection:0}),E=(0,U.gn)([Bt({defineCustomElementFn:void 0,inputs:["color","mode"]})],E),E})();class Tt{constructor(h={}){this.data=h}get(h){return this.data[h]}}let Lt=(()=>{class E{constructor(a,f){this.zone=a,this.appRef=f}create(a,f,_){return new nn(a,f,_,this.appRef,this.zone)}}return E.\u0275fac=function(a){return new(a||E)(l.LFG(l.R0b),l.LFG(l.z2F))},E.\u0275prov=l.Yz7({token:E,factory:E.\u0275fac}),E})();class nn{constructor(h,a,f,_,O){this.resolverOrInjector=h,this.injector=a,this.location=f,this.appRef=_,this.zone=O,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(h,a,f,_){return this.zone.run(()=>new Promise(O=>{O(ur(this.zone,this.resolverOrInjector,this.injector,this.location,this.appRef,this.elRefMap,this.elEventsMap,h,a,f,_))}))}removeViewFromDom(h,a){return this.zone.run(()=>new Promise(f=>{const _=this.elRefMap.get(a);if(_){_.destroy(),this.elRefMap.delete(a);const O=this.elEventsMap.get(a);O&&(O(),this.elEventsMap.delete(a))}f()}))}}const ur=(E,h,a,f,_,O,ie,nt,Rt,St,mn)=>{let pn;const On=l.zs3.create({providers:Ds(St),parent:a});if(h&&xn(h)){const Qr=h.resolveComponentFactory(Rt);pn=f?f.createComponent(Qr,f.length,On):Qr.create(On)}else{if(!f)return null;pn=f.createComponent(Rt,{index:f.indexOf,injector:On,environmentInjector:h})}const br=pn.instance,wr=pn.location.nativeElement;if(St&&Object.assign(br,St),mn)for(const Qr of mn)wr.classList.add(Qr);const Fr=tr(E,br,wr);return nt.appendChild(wr),f||_.attachView(pn.hostView),pn.changeDetectorRef.reattach(),O.set(wr,pn),ie.set(wr,Fr),wr},Jr=[Ge.L,Ge.a,Ge.b,Ge.c,Ge.d],tr=(E,h,a)=>E.run(()=>{const f=Jr.filter(_=>"function"==typeof h[_]).map(_=>{const O=ie=>h[_](ie.detail);return a.addEventListener(_,O),()=>a.removeEventListener(_,O)});return()=>f.forEach(_=>_())}),li=new l.OlP("NavParamsToken"),Ds=E=>[{provide:li,useValue:E},{provide:Tt,useFactory:yi,deps:[li]}],yi=E=>new Tt(E),es=(E,h)=>((E=E.filter(a=>a.stackId!==h.stackId)).push(h),E),Pi=(E,h)=>{const a=E.createUrlTree(["."],{relativeTo:h});return E.serializeUrl(a)},ts=(E,h)=>{if(!E)return;const a=ki(h);for(let f=0;f<a.length;f++){if(f>=E.length)return a[f];if(a[f]!==E[f])return}},ki=E=>E.split("/").map(h=>h.trim()).filter(h=>""!==h),ns=E=>{E&&(E.ref.destroy(),E.unlistenEvents())};class vi{constructor(h,a,f,_,O,ie){this.containerEl=a,this.router=f,this.navCtrl=_,this.zone=O,this.location=ie,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==h?ki(h):void 0}createView(h,a){var f;const _=Pi(this.router,a),O=null===(f=h?.location)||void 0===f?void 0:f.nativeElement,ie=tr(this.zone,h.instance,O);return{id:this.nextId++,stackId:ts(this.tabsPrefix,_),unlistenEvents:ie,element:O,ref:h,url:_}}getExistingView(h){const a=Pi(this.router,h),f=this.views.find(_=>_.url===a);return f&&f.ref.changeDetectorRef.reattach(),f}setActive(h){var a,f;const _=this.navCtrl.consumeTransition();let{direction:O,animation:ie,animationBuilder:nt}=_;const Rt=this.activeView,St=((E,h)=>!h||E.stackId!==h.stackId)(h,Rt);St&&(O="back",ie=void 0);const mn=this.views.slice();let pn;const On=this.router;On.getCurrentNavigation?pn=On.getCurrentNavigation():!(null===(a=On.navigations)||void 0===a)&&a.value&&(pn=On.navigations.value),null!==(f=pn?.extras)&&void 0!==f&&f.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const br=this.views.includes(h),wr=this.insertView(h,O);br||h.ref.changeDetectorRef.detectChanges();const Fr=h.animationBuilder;return void 0===nt&&"back"===O&&!St&&void 0!==Fr&&(nt=Fr),Rt&&(Rt.animationBuilder=nt),this.zone.runOutsideAngular(()=>this.wait(()=>(Rt&&Rt.ref.changeDetectorRef.detach(),h.ref.changeDetectorRef.reattach(),this.transition(h,Rt,ie,this.canGoBack(1),!1,nt).then(()=>_s(h,wr,mn,this.location,this.zone)).then(()=>({enteringView:h,direction:O,animation:ie,tabSwitch:St})))))}canGoBack(h,a=this.getActiveStackId()){return this.getStack(a).length>h}pop(h,a=this.getActiveStackId()){return this.zone.run(()=>{var f,_;const O=this.getStack(a);if(O.length<=h)return Promise.resolve(!1);const ie=O[O.length-h-1];let nt=ie.url;const Rt=ie.savedData;if(Rt){const mn=Rt.get("primary");null!==(_=null===(f=mn?.route)||void 0===f?void 0:f._routerState)&&void 0!==_&&_.snapshot.url&&(nt=mn.route._routerState.snapshot.url)}const{animationBuilder:St}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(nt,Object.assign(Object.assign({},ie.savedExtras),{animation:St})).then(()=>!0)})}startBackTransition(){const h=this.activeView;if(h){const a=this.getStack(h.stackId),f=a[a.length-2],_=f.animationBuilder;return this.wait(()=>this.transition(f,h,"back",this.canGoBack(2),!0,_))}return Promise.resolve()}endBackTransition(h){h?(this.skipTransition=!0,this.pop(1)):this.activeView&&us(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(h){const a=this.getStack(h);return a.length>0?a[a.length-1]:void 0}getRootUrl(h){const a=this.getStack(h);return a.length>0?a[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(ns),this.activeView=void 0,this.views=[]}getStack(h){return this.views.filter(a=>a.stackId===h)}insertView(h,a){return this.activeView=h,this.views=((E,h,a)=>"root"===a?es(E,h):"forward"===a?((E,h)=>(E.indexOf(h)>=0?E=E.filter(f=>f.stackId!==h.stackId||f.id<=h.id):E.push(h),E))(E,h):((E,h)=>E.indexOf(h)>=0?E.filter(f=>f.stackId!==h.stackId||f.id<=h.id):es(E,h))(E,h))(this.views,h,a),this.views.slice()}transition(h,a,f,_,O,ie){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(a===h)return Promise.resolve(!1);const nt=h?h.element:void 0,Rt=a?a.element:void 0,St=this.containerEl;return nt&&nt!==Rt&&(nt.classList.add("ion-page"),nt.classList.add("ion-page-invisible"),nt.parentElement!==St&&St.appendChild(nt),St.commit)?St.commit(nt,Rt,{deepWait:!0,duration:void 0===f?0:void 0,direction:f,showGoBack:_,progressAnimation:O,animationBuilder:ie}):Promise.resolve(!1)}wait(h){return(0,U.mG)(this,void 0,void 0,function*(){void 0!==this.runningTask&&(yield this.runningTask,this.runningTask=void 0);const a=this.runningTask=h();return a.finally(()=>this.runningTask=void 0),a})}}const _s=(E,h,a,f,_)=>"function"==typeof requestAnimationFrame?new Promise(O=>{requestAnimationFrame(()=>{us(E,h,a,f,_),O()})}):Promise.resolve(),us=(E,h,a,f,_)=>{_.run(()=>a.filter(O=>!h.includes(O)).forEach(ns)),h.forEach(O=>{const nt=f.path().split("?")[0].split("#")[0];if(O!==E&&O.url!==nt){const Rt=O.element;Rt.setAttribute("aria-hidden","true"),Rt.classList.add("ion-page-hidden"),O.ref.changeDetectorRef.detach()}})};let xs=(()=>{class E{get(a,f){const _=ci();return _?_.get(a,f):null}getBoolean(a,f){const _=ci();return!!_&&_.getBoolean(a,f)}getNumber(a,f){const _=ci();return _?_.getNumber(a,f):0}}return E.\u0275fac=function(a){return new(a||E)},E.\u0275prov=l.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const Ls=new l.OlP("USERCONFIG"),ci=()=>{if(typeof window<"u"){const E=window.Ionic;if(E?.config)return E.config}return null};let Di=(()=>{class E{constructor(a,f){this.doc=a,this.backButton=new Re.xQ,this.keyboardDidShow=new Re.xQ,this.keyboardDidHide=new Re.xQ,this.pause=new Re.xQ,this.resume=new Re.xQ,this.resize=new Re.xQ,f.run(()=>{var _;let O;this.win=a.defaultView,this.backButton.subscribeWithPriority=function(ie,nt){return this.subscribe(Rt=>Rt.register(ie,St=>f.run(()=>nt(St))))},Ci(this.pause,a,"pause"),Ci(this.resume,a,"resume"),Ci(this.backButton,a,"ionBackButton"),Ci(this.resize,this.win,"resize"),Ci(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Ci(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(ie=>{O=ie}),null!==(_=this.win)&&void 0!==_&&_.cordova?a.addEventListener("deviceready",()=>{O("cordova")},{once:!0}):O("dom")})}is(a){return(0,z.a)(this.win,a)}platforms(){return(0,z.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(a){return Es(this.win.location.href,a)}isLandscape(){return!this.isPortrait()}isPortrait(){var a,f;return null===(f=(a=this.win).matchMedia)||void 0===f?void 0:f.call(a,"(orientation: portrait)").matches}testUserAgent(a){const f=this.win.navigator;return!!(f?.userAgent&&f.userAgent.indexOf(a)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return E.\u0275fac=function(a){return new(a||E)(l.LFG(tt.K0),l.LFG(l.R0b))},E.\u0275prov=l.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const Es=(E,h)=>{h=h.replace(/[[\]\\]/g,"\\$&");const f=new RegExp("[\\?&]"+h+"=([^&#]*)").exec(E);return f?decodeURIComponent(f[1].replace(/\+/g," ")):null},Ci=(E,h,a)=>{h&&h.addEventListener(a,f=>{E.next(f?.detail)})};let di=(()=>{class E{constructor(a,f,_,O){this.location=f,this.serializer=_,this.router=O,this.direction=hi,this.animated=$i,this.guessDirection="forward",this.lastNavId=-1,O&&O.events.subscribe(ie=>{if(ie instanceof ue.OD){const nt=ie.restoredState?ie.restoredState.navigationId:ie.id;this.guessDirection=nt<this.lastNavId?"back":"forward",this.guessAnimation=ie.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?ie.id:nt}}),a.backButton.subscribeWithPriority(0,ie=>{this.pop(),ie()})}navigateForward(a,f={}){return this.setDirection("forward",f.animated,f.animationDirection,f.animation),this.navigate(a,f)}navigateBack(a,f={}){return this.setDirection("back",f.animated,f.animationDirection,f.animation),this.navigate(a,f)}navigateRoot(a,f={}){return this.setDirection("root",f.animated,f.animationDirection,f.animation),this.navigate(a,f)}back(a={animated:!0,animationDirection:"back"}){return this.setDirection("back",a.animated,a.animationDirection,a.animation),this.location.back()}pop(){return(0,U.mG)(this,void 0,void 0,function*(){let a=this.topOutlet;for(;a&&!(yield a.pop());)a=a.parentOutlet})}setDirection(a,f,_,O){this.direction=a,this.animated=Ti(a,f,_),this.animationBuilder=O}setTopOutlet(a){this.topOutlet=a}consumeTransition(){let f,a="root";const _=this.animationBuilder;return"auto"===this.direction?(a=this.guessDirection,f=this.guessAnimation):(f=this.animated,a=this.direction),this.direction=hi,this.animated=$i,this.animationBuilder=void 0,{direction:a,animation:f,animationBuilder:_}}navigate(a,f){if(Array.isArray(a))return this.router.navigate(a,f);{const _=this.serializer.parse(a.toString());return void 0!==f.queryParams&&(_.queryParams=Object.assign({},f.queryParams)),void 0!==f.fragment&&(_.fragment=f.fragment),this.router.navigateByUrl(_,f)}}}return E.\u0275fac=function(a){return new(a||E)(l.LFG(Di),l.LFG(tt.Ye),l.LFG(ue.Hx),l.LFG(ue.F0,8))},E.\u0275prov=l.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();const Ti=(E,h,a)=>{if(!1!==h){if(void 0!==a)return a;if("forward"===E||"back"===E)return E;if("root"===E&&!0===h)return"forward"}},hi="auto",$i=void 0;class qi{}let Ni=(()=>{class E{constructor(a,f,_,O,ie,nt,Rt,St,mn,pn,On,br,wr,Fr){this.parentContexts=a,this.location=f,this.config=ie,this.navCtrl=nt,this.environmentInjector=Rt,this.componentFactoryResolver=St,this.parentOutlet=Fr,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new Ke.X(null),this.stackEvents=new l.vpe,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.nativeEl=pn.nativeElement,this.name=_||ue.eC,this.tabsPrefix="true"===O?Pi(On,wr):void 0,this.stackCtrl=new vi(this.tabsPrefix,this.nativeEl,On,nt,br,mn),a.onChildOutletCreated(this.name,this)}set animation(a){this.nativeEl.animation=a}set animated(a){this.nativeEl.animated=a}set swipeGesture(a){this._swipeGesture=a,this.nativeEl.swipeHandler=a?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:f=>this.stackCtrl.endBackTransition(f)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){if(!this.activated){const a=this.getContext();a?.route&&this.activateWith(a.route,a.resolver||null)}new Promise(a=>(0,et.c)(this.nativeEl,a)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(a,f){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const f=this.getContext();this.activatedView.savedData=new Map(f.children.contexts);const _=this.activatedView.savedData.get("primary");if(_&&f.route&&(_.route=Object.assign({},f.route)),this.activatedView.savedExtras={},f.route){const O=f.route.snapshot;this.activatedView.savedExtras.queryParams=O.queryParams,this.activatedView.savedExtras.fragment=O.fragment}}const a=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(a)}}activateWith(a,f){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=a;let _,O=this.stackCtrl.getExistingView(a);if(O){_=this.activated=O.ref;const ie=O.savedData;ie&&(this.getContext().children.contexts=ie),this.updateActivatedRouteProxy(_.instance,a)}else{const ie=a._futureSnapshot,nt=ie.routeConfig.component;if(null==nt&&ie.component)return void console.warn("[Ionic Warning]: Standalone components are not currently supported with ion-router-outlet. You can track this feature request at https://github.com/ionic-team/ionic-framework/issues/25404");const Rt=this.parentContexts.getOrCreateContext(this.name).children,St=new Ke.X(null),mn=this.createActivatedRouteProxy(St,a),pn=new Si(mn,Rt,this.location.injector);if((f=f||this.componentFactoryResolver)&&xn(f)){const On=f.resolveComponentFactory(nt);_=this.activated=this.location.createComponent(On,this.location.length,pn)}else _=this.activated=this.location.createComponent(nt,{index:this.location.length,injector:pn,environmentInjector:f??this.environmentInjector});St.next(_.instance),O=this.stackCtrl.createView(this.activated,a),this.proxyMap.set(_.instance,mn),this.currentActivatedRoute$.next({component:_.instance,activatedRoute:a})}this.activatedView=O,this.stackCtrl.setActive(O).then(ie=>{this.navCtrl.setTopOutlet(this),this.activateEvents.emit(_.instance),this.stackEvents.emit(ie)})}canGoBack(a=1,f){return this.stackCtrl.canGoBack(a,f)}pop(a=1,f){return this.stackCtrl.pop(a,f)}getLastUrl(a){const f=this.stackCtrl.getLastUrl(a);return f?f.url:void 0}getLastRouteView(a){return this.stackCtrl.getLastUrl(a)}getRootView(a){return this.stackCtrl.getRootUrl(a)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(a,f){const _=new ue.gz;return _._futureSnapshot=f._futureSnapshot,_._routerState=f._routerState,_.snapshot=f.snapshot,_.outlet=f.outlet,_.component=f.component,_._paramMap=this.proxyObservable(a,"paramMap"),_._queryParamMap=this.proxyObservable(a,"queryParamMap"),_.url=this.proxyObservable(a,"url"),_.params=this.proxyObservable(a,"params"),_.queryParams=this.proxyObservable(a,"queryParams"),_.fragment=this.proxyObservable(a,"fragment"),_.data=this.proxyObservable(a,"data"),_}proxyObservable(a,f){return a.pipe((0,Ne.h)(_=>!!_),(0,mt.w)(_=>this.currentActivatedRoute$.pipe((0,Ne.h)(O=>null!==O&&O.component===_),(0,mt.w)(O=>O&&O.activatedRoute[f]),(0,At.x)())))}updateActivatedRouteProxy(a,f){const _=this.proxyMap.get(a);if(!_)throw new Error("Could not find activated route proxy for view");_._futureSnapshot=f._futureSnapshot,_._routerState=f._routerState,_.snapshot=f.snapshot,_.outlet=f.outlet,_.component=f.component,this.currentActivatedRoute$.next({component:a,activatedRoute:f})}}return E.\u0275fac=function(a){return new(a||E)(l.Y36(ue.y6),l.Y36(l.s_b),l.$8M("name"),l.$8M("tabs"),l.Y36(xs),l.Y36(di),l.Y36(qi,8),l.Y36(l._Vd,8),l.Y36(tt.Ye),l.Y36(l.SBq),l.Y36(ue.F0),l.Y36(l.R0b),l.Y36(ue.gz),l.Y36(E,12))},E.\u0275dir=l.lG2({type:E,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),E})();class Si{constructor(h,a,f){this.route=h,this.childContexts=a,this.parent=f}get(h,a){return h===ue.gz?this.route:h===ue.y6?this.childContexts:this.parent.get(h,a)}}let cs=(()=>{class E{constructor(a,f,_){this.routerOutlet=a,this.navCtrl=f,this.config=_}onClick(a){var f;const _=this.defaultHref||this.config.get("backButtonDefaultHref");null!==(f=this.routerOutlet)&&void 0!==f&&f.canGoBack()?(this.navCtrl.setDirection("back",void 0,void 0,this.routerAnimation),this.routerOutlet.pop(),a.preventDefault()):null!=_&&(this.navCtrl.navigateBack(_,{animation:this.routerAnimation}),a.preventDefault())}}return E.\u0275fac=function(a){return new(a||E)(l.Y36(Ni,8),l.Y36(di),l.Y36(xs))},E.\u0275dir=l.lG2({type:E,selectors:[["ion-back-button"]],hostBindings:function(a,f){1&a&&l.NdJ("click",function(O){return f.onClick(O)})},inputs:{defaultHref:"defaultHref",routerAnimation:"routerAnimation"}}),E})(),Fi=(()=>{class E{constructor(a,f,_,O,ie){this.locationStrategy=a,this.navCtrl=f,this.elementRef=_,this.router=O,this.routerLink=ie,this.routerDirection="forward"}ngOnInit(){this.updateTargetUrlAndHref()}ngOnChanges(){this.updateTargetUrlAndHref()}updateTargetUrlAndHref(){var a;if(null!==(a=this.routerLink)&&void 0!==a&&a.urlTree){const f=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.routerLink.urlTree));this.elementRef.nativeElement.href=f}}onClick(a){this.navCtrl.setDirection(this.routerDirection,void 0,void 0,this.routerAnimation),a.preventDefault()}}return E.\u0275fac=function(a){return new(a||E)(l.Y36(tt.S$),l.Y36(di),l.Y36(l.SBq),l.Y36(ue.F0),l.Y36(ue.rH,8))},E.\u0275dir=l.lG2({type:E,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(a,f){1&a&&l.NdJ("click",function(O){return f.onClick(O)})},inputs:{routerDirection:"routerDirection",routerAnimation:"routerAnimation"},features:[l.TTD]}),E})();class cn{constructor(h){this.ctrl=h}create(h){return this.ctrl.create(h||{})}dismiss(h,a,f){return this.ctrl.dismiss(h,a,f)}getTop(){return this.ctrl.getTop()}}let dr=(()=>{class E extends cn{constructor(){super(ke.a)}}return E.\u0275fac=function(a){return new(a||E)},E.\u0275prov=l.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),Cr=(()=>{class E extends cn{constructor(){super(ke.l)}}return E.\u0275fac=function(a){return new(a||E)},E.\u0275prov=l.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})(),$n=(()=>{class E extends cn{constructor(a,f,_,O){super(ke.m),this.angularDelegate=a,this.resolver=f,this.injector=_,this.environmentInjector=O}create(a){var f;return super.create(Object.assign(Object.assign({},a),{delegate:this.angularDelegate.create(null!==(f=this.resolver)&&void 0!==f?f:this.environmentInjector,this.injector)}))}}return E.\u0275fac=function(a){return new(a||E)(l.LFG(Lt),l.LFG(l._Vd),l.LFG(l.zs3),l.LFG(qi,8))},E.\u0275prov=l.Yz7({token:E,factory:E.\u0275fac}),E})(),Xr=(()=>{class E extends cn{constructor(a,f,_,O){super(ke.c),this.angularDelegate=a,this.resolver=f,this.injector=_,this.environmentInjector=O}create(a){var f;return super.create(Object.assign(Object.assign({},a),{delegate:this.angularDelegate.create(null!==(f=this.resolver)&&void 0!==f?f:this.environmentInjector,this.injector)}))}}return E.\u0275fac=function(a){return new(a||E)(l.LFG(Lt),l.LFG(l._Vd),l.LFG(l.zs3),l.LFG(qi,8))},E.\u0275prov=l.Yz7({token:E,factory:E.\u0275fac}),E})(),fi=(()=>{class E extends cn{constructor(){super(ke.t)}}return E.\u0275fac=function(a){return new(a||E)},E.\u0275prov=l.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();class Cn{shouldDetach(h){return!1}shouldAttach(h){return!1}store(h,a){}retrieve(h){return null}shouldReuseRoute(h,a){if(h.routeConfig!==a.routeConfig)return!1;const f=h.params,_=a.params,O=Object.keys(f),ie=Object.keys(_);if(O.length!==ie.length)return!1;for(const nt of O)if(_[nt]!==f[nt])return!1;return!0}}const bs=(E,h,a)=>()=>{if(h.defaultView&&typeof window<"u"){(E=>{const h=window,a=h.Ionic;a&&a.config&&"Object"!==a.config.constructor.name||(h.Ionic=h.Ionic||{},h.Ionic.config=Object.assign(Object.assign({},h.Ionic.config),E))})(Object.assign(Object.assign({},E),{_zoneGate:O=>a.run(O)}));const _="__zone_symbol__addEventListener"in h.body?"__zone_symbol__addEventListener":"addEventListener";return function ct(){var E=[];if(typeof window<"u"){var h=window;(!h.customElements||h.Element&&(!h.Element.prototype.closest||!h.Element.prototype.matches||!h.Element.prototype.remove||!h.Element.prototype.getRootNode))&&E.push(k.e(6748).then(k.t.bind(k,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||h.NodeList&&!h.NodeList.prototype.forEach||!h.fetch||!function(){try{var f=new URL("b","http://a");return f.pathname="c%20d","http://a/c%20d"===f.href&&f.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&E.push(k.e(2214).then(k.t.bind(k,4144,23)))}return Promise.all(E)}().then(()=>((E,h)=>typeof window>"u"?Promise.resolve():(0,fe.p)().then(()=>(We(),(0,fe.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[33,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-slide_2",[[0,"ion-slide"],[36,"ion-slides",{"options":[8],"pager":[4],"scrollbar":[4],"update":[64],"updateAutoHeight":[64],"slideTo":[64],"slideNext":[64],"slidePrev":[64],"getActiveIndex":[64],"getPreviousIndex":[64],"length":[64],"isEnd":[64],"isBeginning":[64],"startAutoplay":[64],"stopAutoplay":[64],"lockSwipeToNext":[64],"lockSwipeToPrev":[64],"lockSwipes":[64],"getSwiper":[64]}]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-input",[[34,"ion-input",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"inputmode":[1],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-textarea",[[34,"ion-textarea",{"fireFocusEvents":[4,"fire-focus-events"],"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[1028,"clear-on-edit"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[4,"auto-grow"],"value":[1025],"hasFocus":[32],"setFocus":[64],"setBlur":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"swipeToClose":[4,"swipe-to-close"],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"disabled":[4],"value":[1026],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"activated":[32]}]]],["ion-virtual-scroll",[[0,"ion-virtual-scroll",{"approxItemHeight":[2,"approx-item-height"],"approxHeaderHeight":[2,"approx-header-height"],"approxFooterHeight":[2,"approx-footer-height"],"headerFn":[16],"footerFn":[16],"items":[16],"itemHeight":[16],"headerHeight":[16],"footerHeight":[16],"renderItem":[16],"renderHeader":[16],"renderFooter":[16],"nodeRender":[16],"domRender":[16],"totalHeight":[32],"positionForItem":[64],"checkRange":[64],"checkEnd":[64]},[[9,"resize","onResize"]]]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64]}]]],["ion-picker-internal",[[33,"ion-picker-internal"]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32],"ariaLabel":[32]}]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8]}]]],["ion-select_3",[[33,"ion-select",{"disabled":[4],"cancelText":[1,"cancel-text"],"okText":[1,"ok-text"],"placeholder":[1],"name":[1],"selectedText":[1,"selected-text"],"multiple":[4],"interface":[1],"interfaceOptions":[8,"interface-options"],"compareWith":[1,"compare-with"],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]},[[0,"ionChange","onSelect"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionChange","handleIonChange"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]]]'),h))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:Jt,jmp:O=>a.runOutsideAngular(O),ael(O,ie,nt,Rt){O[_](ie,nt,Rt)},rel(O,ie,nt,Rt){O.removeEventListener(ie,nt,Rt)}}))}};let Do=(()=>{class E{static forRoot(a){return{ngModule:E,providers:[{provide:Ls,useValue:a},{provide:l.ip1,useFactory:bs,multi:!0,deps:[Ls,tt.K0,l.R0b]}]}}}return E.\u0275fac=function(a){return new(a||E)},E.\u0275mod=l.oAB({type:E}),E.\u0275inj=l.cJS({providers:[Lt,$n,Xr],imports:[[tt.ez]]}),E})()},9442:(zt,st,k)=>{"use strict";k.d(st,{c:()=>Ke});var l=k(3756);let L;const Ie=ue=>ue.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),be=ue=>{if(void 0===L){const Se=void 0!==ue.style.webkitAnimationName;L=void 0===ue.style.animationName&&Se?"-webkit-":""}return L},re=(ue,le,Se)=>{const Ae=le.startsWith("animation")?be(ue):"";ue.style.setProperty(Ae+le,Se)},ge=(ue,le)=>{const Se=le.startsWith("animation")?be(ue):"";ue.style.removeProperty(Se+le)},Q=[],Re=(ue=[],le)=>{if(void 0!==le){const Se=Array.isArray(le)?le:[le];return[...ue,...Se]}return ue},Ke=ue=>{let le,Se,Ae,z,et,Ge,_e,tt,ct,We,De,Ct,gt,lt=[],ke=[],ot=[],fe=!1,ce={},ee=[],se=[],Me={},Ne=0,mt=!1,At=!1,qe=!0,me=!1,at=!0,kt=!1;const tn=ue,Jt=[],xn=[],Ht=[],_n=[],Ar=[],jn=[],Qn=[],gn=[],Dn=[],An=[],zn="function"==typeof AnimationEffect||"function"==typeof window.AnimationEffect,Vn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&zn,or=()=>An,Kt=(he,ye)=>((ye?.oneTimeCallback?xn:Jt).push({c:he,o:ye}),gt),Er=()=>{if(Vn)An.forEach(he=>{he.cancel()}),An.length=0;else{const he=Ht.slice();(0,l.r)(()=>{he.forEach(ye=>{ge(ye,"animation-name"),ge(ye,"animation-duration"),ge(ye,"animation-timing-function"),ge(ye,"animation-iteration-count"),ge(ye,"animation-delay"),ge(ye,"animation-play-state"),ge(ye,"animation-fill-mode"),ge(ye,"animation-direction")})})}},Lr=()=>{Ar.forEach(he=>{he?.parentNode&&he.parentNode.removeChild(he)}),Ar.length=0},$t=()=>void 0!==et?et:_e?_e.getFill():"both",un=()=>void 0!==ct?ct:void 0!==Ge?Ge:_e?_e.getDirection():"normal",Fn=()=>mt?"linear":void 0!==Ae?Ae:_e?_e.getEasing():"linear",Ln=()=>At?0:void 0!==We?We:void 0!==Se?Se:_e?_e.getDuration():0,rn=()=>void 0!==z?z:_e?_e.getIterations():1,rr=()=>void 0!==De?De:void 0!==le?le:_e?_e.getDelay():0,Sn=()=>{0!==Ne&&(Ne--,0===Ne&&((()=>{Mr(),gn.forEach(_t=>_t()),Dn.forEach(_t=>_t());const he=qe?1:0,ye=ee,Qe=se,Et=Me;Ht.forEach(_t=>{const It=_t.classList;ye.forEach(qt=>It.add(qt)),Qe.forEach(qt=>It.remove(qt));for(const qt in Et)Et.hasOwnProperty(qt)&&re(_t,qt,Et[qt])}),Jt.forEach(_t=>_t.c(he,gt)),xn.forEach(_t=>_t.c(he,gt)),xn.length=0,at=!0,qe&&(me=!0),qe=!0})(),_e&&_e.animationFinish()))},Tn=(he=!0)=>{Lr();const ye=(ue=>(ue.forEach(le=>{for(const Se in le)if(le.hasOwnProperty(Se)){const Ae=le[Se];if("easing"===Se)le["animation-timing-function"]=Ae,delete le[Se];else{const z=Ie(Se);z!==Se&&(le[z]=Ae,delete le[Se])}}}),ue))(lt);Ht.forEach(Qe=>{if(ye.length>0){const Et=((ue=[])=>ue.map(le=>{const Se=le.offset,Ae=[];for(const z in le)le.hasOwnProperty(z)&&"offset"!==z&&Ae.push(`${z}: ${le[z]};`);return`${100*Se}% { ${Ae.join(" ")} }`}).join(" "))(ye);Ct=void 0!==ue?ue:(ue=>{let le=Q.indexOf(ue);return le<0&&(le=Q.push(ue)-1),`ion-animation-${le}`})(Et);const _t=((ue,le,Se)=>{const Ae=(ue=>{const le=ue.getRootNode();return le.head||le})(Se),z=be(Se),et=Ae.querySelector("#"+ue);if(et)return et;const Ge=(Se.ownerDocument||document).createElement("style");return Ge.id=ue,Ge.textContent=`@${z}keyframes ${ue} { ${le} } @${z}keyframes ${ue}-alt { ${le} }`,Ae.appendChild(Ge),Ge})(Ct,Et,Qe);Ar.push(_t),re(Qe,"animation-duration",`${Ln()}ms`),re(Qe,"animation-timing-function",Fn()),re(Qe,"animation-delay",`${rr()}ms`),re(Qe,"animation-fill-mode",$t()),re(Qe,"animation-direction",un());const It=rn()===1/0?"infinite":rn().toString();re(Qe,"animation-iteration-count",It),re(Qe,"animation-play-state","paused"),he&&re(Qe,"animation-name",`${_t.id}-alt`),(0,l.r)(()=>{re(Qe,"animation-name",_t.id||null)})}})},an=(he=!0)=>{(()=>{jn.forEach(Et=>Et()),Qn.forEach(Et=>Et());const he=ke,ye=ot,Qe=ce;Ht.forEach(Et=>{const _t=Et.classList;he.forEach(It=>_t.add(It)),ye.forEach(It=>_t.remove(It));for(const It in Qe)Qe.hasOwnProperty(It)&&re(Et,It,Qe[It])})})(),lt.length>0&&(Vn?(Ht.forEach(he=>{const ye=he.animate(lt,{id:tn,delay:rr(),duration:Ln(),easing:Fn(),iterations:rn(),fill:$t(),direction:un()});ye.pause(),An.push(ye)}),An.length>0&&(An[0].onfinish=()=>{Sn()})):Tn(he)),fe=!0},Dr=he=>{if(he=Math.min(Math.max(he,0),.9999),Vn)An.forEach(ye=>{ye.currentTime=ye.effect.getComputedTiming().delay+Ln()*he,ye.pause()});else{const ye=`-${Ln()*he}ms`;Ht.forEach(Qe=>{lt.length>0&&(re(Qe,"animation-delay",ye),re(Qe,"animation-play-state","paused"))})}},Tr=he=>{An.forEach(ye=>{ye.effect.updateTiming({delay:rr(),duration:Ln(),easing:Fn(),iterations:rn(),fill:$t(),direction:un()})}),void 0!==he&&Dr(he)},vn=(he=!0,ye)=>{(0,l.r)(()=>{Ht.forEach(Qe=>{re(Qe,"animation-name",Ct||null),re(Qe,"animation-duration",`${Ln()}ms`),re(Qe,"animation-timing-function",Fn()),re(Qe,"animation-delay",void 0!==ye?`-${ye*Ln()}ms`:`${rr()}ms`),re(Qe,"animation-fill-mode",$t()||null),re(Qe,"animation-direction",un()||null);const Et=rn()===1/0?"infinite":rn().toString();re(Qe,"animation-iteration-count",Et),he&&re(Qe,"animation-name",`${Ct}-alt`),(0,l.r)(()=>{re(Qe,"animation-name",Ct||null)})})})},Rr=(he=!1,ye=!0,Qe)=>(he&&_n.forEach(Et=>{Et.update(he,ye,Qe)}),Vn?Tr(Qe):vn(ye,Qe),gt),Hn=()=>{fe&&(Vn?An.forEach(he=>{he.pause()}):Ht.forEach(he=>{re(he,"animation-play-state","paused")}),kt=!0)},ni=()=>{tt=void 0,Sn()},Mr=()=>{tt&&clearTimeout(tt)},Yr=he=>new Promise(ye=>{he?.sync&&(At=!0,Kt(()=>At=!1,{oneTimeCallback:!0})),fe||an(),me&&(Vn?(Dr(0),Tr()):vn(),me=!1),at&&(Ne=_n.length+1,at=!1),Kt(()=>ye(),{oneTimeCallback:!0}),_n.forEach(Qe=>{Qe.play()}),Vn?(An.forEach(he=>{he.play()}),(0===lt.length||0===Ht.length)&&Sn()):(()=>{if(Mr(),(0,l.r)(()=>{Ht.forEach(he=>{lt.length>0&&re(he,"animation-play-state","running")})}),0===lt.length||0===Ht.length)Sn();else{const he=rr()||0,ye=Ln()||0,Qe=rn()||1;isFinite(Qe)&&(tt=setTimeout(ni,he+ye*Qe+100)),((ue,le)=>{let Se;const Ae={passive:!0},et=Ge=>{ue===Ge.target&&(Se&&Se(),Mr(),(0,l.r)(()=>{Ht.forEach(he=>{ge(he,"animation-duration"),ge(he,"animation-delay"),ge(he,"animation-play-state")}),(0,l.r)(Sn)}))};ue&&(ue.addEventListener("webkitAnimationEnd",et,Ae),ue.addEventListener("animationend",et,Ae),Se=()=>{ue.removeEventListener("webkitAnimationEnd",et,Ae),ue.removeEventListener("animationend",et,Ae)})})(Ht[0])}})(),kt=!1}),de=(he,ye)=>{const Qe=lt[0];return void 0===Qe||void 0!==Qe.offset&&0!==Qe.offset?lt=[{offset:0,[he]:ye},...lt]:Qe[he]=ye,gt};return gt={parentAnimation:_e,elements:Ht,childAnimations:_n,id:tn,animationFinish:Sn,from:de,to:(he,ye)=>{const Qe=lt[lt.length-1];return void 0===Qe||void 0!==Qe.offset&&1!==Qe.offset?lt=[...lt,{offset:1,[he]:ye}]:Qe[he]=ye,gt},fromTo:(he,ye,Qe)=>de(he,ye).to(he,Qe),parent:he=>(_e=he,gt),play:Yr,pause:()=>(_n.forEach(he=>{he.pause()}),Hn(),gt),stop:()=>{_n.forEach(he=>{he.stop()}),fe&&(Er(),fe=!1),mt=!1,At=!1,at=!0,ct=void 0,We=void 0,De=void 0,Ne=0,me=!1,qe=!0,kt=!1},destroy:he=>(_n.forEach(ye=>{ye.destroy(he)}),(he=>{Er(),he&&Lr()})(he),Ht.length=0,_n.length=0,lt.length=0,Jt.length=0,xn.length=0,fe=!1,at=!0,gt),keyframes:he=>{const ye=lt!==he;return lt=he,ye&&(he=>{Vn?or().forEach(ye=>{if(ye.effect.setKeyframes)ye.effect.setKeyframes(he);else{const Qe=new KeyframeEffect(ye.effect.target,he,ye.effect.getTiming());ye.effect=Qe}}):Tn()})(lt),gt},addAnimation:he=>{if(null!=he)if(Array.isArray(he))for(const ye of he)ye.parent(gt),_n.push(ye);else he.parent(gt),_n.push(he);return gt},addElement:he=>{if(null!=he)if(1===he.nodeType)Ht.push(he);else if(he.length>=0)for(let ye=0;ye<he.length;ye++)Ht.push(he[ye]);else console.error("Invalid addElement value");return gt},update:Rr,fill:he=>(et=he,Rr(!0),gt),direction:he=>(Ge=he,Rr(!0),gt),iterations:he=>(z=he,Rr(!0),gt),duration:he=>(!Vn&&0===he&&(he=1),Se=he,Rr(!0),gt),easing:he=>(Ae=he,Rr(!0),gt),delay:he=>(le=he,Rr(!0),gt),getWebAnimations:or,getKeyframes:()=>lt,getFill:$t,getDirection:un,getDelay:rr,getIterations:rn,getEasing:Fn,getDuration:Ln,afterAddRead:he=>(gn.push(he),gt),afterAddWrite:he=>(Dn.push(he),gt),afterClearStyles:(he=[])=>{for(const ye of he)Me[ye]="";return gt},afterStyles:(he={})=>(Me=he,gt),afterRemoveClass:he=>(se=Re(se,he),gt),afterAddClass:he=>(ee=Re(ee,he),gt),beforeAddRead:he=>(jn.push(he),gt),beforeAddWrite:he=>(Qn.push(he),gt),beforeClearStyles:(he=[])=>{for(const ye of he)ce[ye]="";return gt},beforeStyles:(he={})=>(ce=he,gt),beforeRemoveClass:he=>(ot=Re(ot,he),gt),beforeAddClass:he=>(ke=Re(ke,he),gt),onFinish:Kt,isRunning:()=>0!==Ne&&!kt,progressStart:(he=!1,ye)=>(_n.forEach(Qe=>{Qe.progressStart(he,ye)}),Hn(),mt=he,fe||an(),Rr(!1,!0,ye),gt),progressStep:he=>(_n.forEach(ye=>{ye.progressStep(he)}),Dr(he),gt),progressEnd:(he,ye,Qe)=>(mt=!1,_n.forEach(Et=>{Et.progressEnd(he,ye,Qe)}),void 0!==Qe&&(We=Qe),me=!1,qe=!0,0===he?(ct="reverse"===un()?"normal":"reverse","reverse"===ct&&(qe=!1),Vn?(Rr(),Dr(1-ye)):(De=(1-ye)*Ln()*-1,Rr(!1,!1))):1===he&&(Vn?(Rr(),Dr(ye)):(De=ye*Ln()*-1,Rr(!1,!1))),void 0!==he&&(Kt(()=>{We=void 0,ct=void 0,De=void 0},{oneTimeCallback:!0}),_e||Yr()),gt)}}},3509:(zt,st,k)=>{"use strict";k.d(st,{G:()=>be});class L{constructor(ge,we,ae,Q,X){this.id=we,this.name=ae,this.disableScroll=X,this.priority=1e6*Q+we,this.ctrl=ge}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const ge=this.ctrl.capture(this.name,this.id,this.priority);return ge&&this.disableScroll&&this.ctrl.disableScroll(this.id),ge}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class U{constructor(ge,we,ae,Q){this.id=we,this.disable=ae,this.disableScroll=Q,this.ctrl=ge}block(){if(this.ctrl){if(this.disable)for(const ge of this.disable)this.ctrl.disableGesture(ge,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const ge of this.disable)this.ctrl.enableGesture(ge,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const Ie="backdrop-no-scroll",be=new class l{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(ge){return new L(this,this.newID(),ge.name,ge.priority||0,!!ge.disableScroll)}createBlocker(ge={}){return new U(this,this.newID(),ge.disable,!!ge.disableScroll)}start(ge,we,ae){return this.canStart(ge)?(this.requestedStart.set(we,ae),!0):(this.requestedStart.delete(we),!1)}capture(ge,we,ae){if(!this.start(ge,we,ae))return!1;const Q=this.requestedStart;let X=-1e4;if(Q.forEach(te=>{X=Math.max(X,te)}),X===ae){this.capturedId=we,Q.clear();const te=new CustomEvent("ionGestureCaptured",{detail:{gestureName:ge}});return document.dispatchEvent(te),!0}return Q.delete(we),!1}release(ge){this.requestedStart.delete(ge),this.capturedId===ge&&(this.capturedId=void 0)}disableGesture(ge,we){let ae=this.disabledGestures.get(ge);void 0===ae&&(ae=new Set,this.disabledGestures.set(ge,ae)),ae.add(we)}enableGesture(ge,we){const ae=this.disabledGestures.get(ge);void 0!==ae&&ae.delete(we)}disableScroll(ge){this.disabledScroll.add(ge),1===this.disabledScroll.size&&document.body.classList.add(Ie)}enableScroll(ge){this.disabledScroll.delete(ge),0===this.disabledScroll.size&&document.body.classList.remove(Ie)}canStart(ge){return!(void 0!==this.capturedId||this.isDisabled(ge))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(ge){const we=this.disabledGestures.get(ge);return!!(we&&we.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(zt,st,k)=>{"use strict";k.r(st),k.d(st,{MENU_BACK_BUTTON_PRIORITY:()=>be,OVERLAY_BACK_BUTTON_PRIORITY:()=>Ie,blockHardwareBackButton:()=>L,startHardwareBackButton:()=>U});var l=k(5861);const L=()=>{document.addEventListener("backbutton",()=>{})},U=()=>{const re=document;let ge=!1;re.addEventListener("backbutton",()=>{if(ge)return;let we=0,ae=[];const Q=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(G,Re){ae.push({priority:G,handler:Re,id:we++})}}});re.dispatchEvent(Q);const X=function(){var G=(0,l.Z)(function*(Re){try{if(Re?.handler){const Ke=Re.handler(te);null!=Ke&&(yield Ke)}}catch(Ke){console.error(Ke)}});return function(Ke){return G.apply(this,arguments)}}(),te=()=>{if(ae.length>0){let G={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};ae.forEach(Re=>{Re.priority>=G.priority&&(G=Re)}),ge=!0,ae=ae.filter(Re=>Re.id!==G.id),X(G).then(()=>ge=!1)}};te()})},Ie=100,be=99},3756:(zt,st,k)=>{"use strict";k.d(st,{a:()=>ge,b:()=>we,c:()=>U,d:()=>Re,e:()=>Ke,f:()=>G,g:()=>ae,h:()=>et,i:()=>re,j:()=>Ie,k:()=>te,l:()=>ue,m:()=>X,n:()=>le,o:()=>z,p:()=>Ae,q:()=>Ge,r:()=>Q,s:()=>lt,t:()=>l,u:()=>Se});const l=(ke,ot=0)=>new Promise(fe=>{L(ke,ot,fe)}),L=(ke,ot=0,fe)=>{let _e,ce;const ee={passive:!0},Me=()=>{_e&&_e()},Ne=mt=>{(void 0===mt||ke===mt.target)&&(Me(),fe(mt))};return ke&&(ke.addEventListener("webkitTransitionEnd",Ne,ee),ke.addEventListener("transitionend",Ne,ee),ce=setTimeout(Ne,ot+500),_e=()=>{ce&&(clearTimeout(ce),ce=void 0),ke.removeEventListener("webkitTransitionEnd",Ne,ee),ke.removeEventListener("transitionend",Ne,ee)}),Me},U=(ke,ot)=>{ke.componentOnReady?ke.componentOnReady().then(fe=>ot(fe)):Q(()=>ot(ke))},Ie=(ke,ot=[])=>{const fe={};return ot.forEach(_e=>{ke.hasAttribute(_e)&&(null!==ke.getAttribute(_e)&&(fe[_e]=ke.getAttribute(_e)),ke.removeAttribute(_e))}),fe},be=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],re=ke=>Ie(ke,be),ge=(ke,ot,fe,_e)=>{var ce;if(typeof window<"u"){const se=null===(ce=window?.Ionic)||void 0===ce?void 0:ce.config;if(se){const Me=se.get("_ael");if(Me)return Me(ke,ot,fe,_e);if(se._ael)return se._ael(ke,ot,fe,_e)}}return ke.addEventListener(ot,fe,_e)},we=(ke,ot,fe,_e)=>{var ce;if(typeof window<"u"){const se=null===(ce=window?.Ionic)||void 0===ce?void 0:ce.config;if(se){const Me=se.get("_rel");if(Me)return Me(ke,ot,fe,_e);if(se._rel)return se._rel(ke,ot,fe,_e)}}return ke.removeEventListener(ot,fe,_e)},ae=(ke,ot=ke)=>ke.shadowRoot||ot,Q=ke=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(ke):"function"==typeof requestAnimationFrame?requestAnimationFrame(ke):setTimeout(ke),X=ke=>!!ke.shadowRoot&&!!ke.attachShadow,te=ke=>{const ot=ke.closest("ion-item");return ot?ot.querySelector("ion-label"):null},G=ke=>{if(ke.focus(),ke.classList.contains("ion-focusable")){const ot=ke.closest("ion-app");ot&&ot.setFocus([ke])}},Re=(ke,ot)=>{let fe;const _e=ke.getAttribute("aria-labelledby"),ce=ke.id;let ee=null!==_e&&""!==_e.trim()?_e:ot+"-lbl",se=null!==_e&&""!==_e.trim()?document.getElementById(_e):te(ke);return se?(null===_e&&(se.id=ee),fe=se.textContent,se.setAttribute("aria-hidden","true")):""!==ce.trim()&&(se=document.querySelector(`label[for="${ce}"]`),se&&(""!==se.id?ee=se.id:se.id=ee=`${ce}-lbl`,fe=se.textContent)),{label:se,labelId:ee,labelText:fe}},Ke=(ke,ot,fe,_e,ce)=>{if(ke||X(ot)){let ee=ot.querySelector("input.aux-input");ee||(ee=ot.ownerDocument.createElement("input"),ee.type="hidden",ee.classList.add("aux-input"),ot.appendChild(ee)),ee.disabled=ce,ee.name=fe,ee.value=_e||""}},ue=(ke,ot,fe)=>Math.max(ke,Math.min(ot,fe)),le=(ke,ot)=>{if(!ke){const fe="ASSERT: "+ot;throw console.error(fe),new Error(fe)}},Se=ke=>ke.timeStamp||Date.now(),Ae=ke=>{if(ke){const ot=ke.changedTouches;if(ot&&ot.length>0){const fe=ot[0];return{x:fe.clientX,y:fe.clientY}}if(void 0!==ke.pageX)return{x:ke.pageX,y:ke.pageY}}return{x:0,y:0}},z=ke=>{const ot="rtl"===document.dir;switch(ke){case"start":return ot;case"end":return!ot;default:throw new Error(`"${ke}" is not a valid value for [side]. Use "start" or "end" instead.`)}},et=(ke,ot)=>{const fe=ke._original||ke;return{_original:ke,emit:Ge(fe.emit.bind(fe),ot)}},Ge=(ke,ot=0)=>{let fe;return(..._e)=>{clearTimeout(fe),fe=setTimeout(ke,ot,..._e)}},lt=(ke,ot)=>{if(ke??(ke={}),ot??(ot={}),ke===ot)return!0;const fe=Object.keys(ke);if(fe.length!==Object.keys(ot).length)return!1;for(const _e of fe)if(!(_e in ot)||ke[_e]!==ot[_e])return!1;return!0}},3139:(zt,st,k)=>{"use strict";k.r(st),k.d(st,{GESTURE_CONTROLLER:()=>l.G,createGesture:()=>ae});var l=k(3509);const L=(G,Re,Ke,ue)=>{const le=U(G)?{capture:!!ue.capture,passive:!!ue.passive}:!!ue.capture;let Se,Ae;return G.__zone_symbol__addEventListener?(Se="__zone_symbol__addEventListener",Ae="__zone_symbol__removeEventListener"):(Se="addEventListener",Ae="removeEventListener"),G[Se](Re,Ke,le),()=>{G[Ae](Re,Ke,le)}},U=G=>{if(void 0===Ie)try{const Re=Object.defineProperty({},"passive",{get:()=>{Ie=!0}});G.addEventListener("optsTest",()=>{},Re)}catch{Ie=!1}return!!Ie};let Ie;const ge=G=>G instanceof Document?G:G.ownerDocument,ae=G=>{let Re=!1,Ke=!1,ue=!0,le=!1;const Se=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},G),Ae=Se.canStart,z=Se.onWillStart,et=Se.onStart,Ge=Se.onEnd,lt=Se.notCaptured,ke=Se.onMove,ot=Se.threshold,fe=Se.passive,_e=Se.blurOnStart,ce={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},ee=((G,Re,Ke)=>{const ue=Ke*(Math.PI/180),le="x"===G,Se=Math.cos(ue),Ae=Re*Re;let z=0,et=0,Ge=!1,lt=0;return{start(ke,ot){z=ke,et=ot,lt=0,Ge=!0},detect(ke,ot){if(!Ge)return!1;const fe=ke-z,_e=ot-et,ce=fe*fe+_e*_e;if(ce<Ae)return!1;const ee=Math.sqrt(ce),se=(le?fe:_e)/ee;return lt=se>Se?1:se<-Se?-1:0,Ge=!1,!0},isGesture:()=>0!==lt,getDirection:()=>lt}})(Se.direction,Se.threshold,Se.maxAngle),se=l.G.createGesture({name:G.gestureName,priority:G.gesturePriority,disableScroll:G.disableScroll}),mt=()=>{!Re||(le=!1,ke&&ke(ce))},At=()=>!(se&&!se.capture()||(Re=!0,ue=!1,ce.startX=ce.currentX,ce.startY=ce.currentY,ce.startTime=ce.currentTime,z?z(ce).then(ct):ct(),0)),ct=()=>{_e&&(()=>{if(typeof document<"u"){const at=document.activeElement;at?.blur&&at.blur()}})(),et&&et(ce),ue=!0},We=()=>{Re=!1,Ke=!1,le=!1,ue=!0,se.release()},De=at=>{const Ct=Re,gt=ue;if(We(),gt){if(Q(ce,at),Ct)return void(Ge&&Ge(ce));lt&&lt(ce)}},qe=((G,Re,Ke,ue,le)=>{let Se,Ae,z,et,Ge,lt,ke,ot=0;const fe=tt=>{ot=Date.now()+2e3,Re(tt)&&(!Ae&&Ke&&(Ae=L(G,"touchmove",Ke,le)),z||(z=L(tt.target,"touchend",ce,le)),et||(et=L(tt.target,"touchcancel",ce,le)))},_e=tt=>{ot>Date.now()||!Re(tt)||(!lt&&Ke&&(lt=L(ge(G),"mousemove",Ke,le)),ke||(ke=L(ge(G),"mouseup",ee,le)))},ce=tt=>{se(),ue&&ue(tt)},ee=tt=>{Me(),ue&&ue(tt)},se=()=>{Ae&&Ae(),z&&z(),et&&et(),Ae=z=et=void 0},Me=()=>{lt&&lt(),ke&&ke(),lt=ke=void 0},Ne=()=>{se(),Me()},mt=(tt=!0)=>{tt?(Se||(Se=L(G,"touchstart",fe,le)),Ge||(Ge=L(G,"mousedown",_e,le))):(Se&&Se(),Ge&&Ge(),Se=Ge=void 0,Ne())};return{enable:mt,stop:Ne,destroy:()=>{mt(!1),ue=Ke=Re=void 0}}})(Se.el,at=>{const Ct=te(at);return!(Ke||!ue||(X(at,ce),ce.startX=ce.currentX,ce.startY=ce.currentY,ce.startTime=ce.currentTime=Ct,ce.velocityX=ce.velocityY=ce.deltaX=ce.deltaY=0,ce.event=at,Ae&&!1===Ae(ce))||(se.release(),!se.start()))&&(Ke=!0,0===ot?At():(ee.start(ce.startX,ce.startY),!0))},at=>{Re?!le&&ue&&(le=!0,Q(ce,at),requestAnimationFrame(mt)):(Q(ce,at),ee.detect(ce.currentX,ce.currentY)&&(!ee.isGesture()||!At())&&me())},De,{capture:!1,passive:fe}),me=()=>{We(),qe.stop(),lt&&lt(ce)};return{enable(at=!0){at||(Re&&De(void 0),We()),qe.enable(at)},destroy(){se.destroy(),qe.destroy()}}},Q=(G,Re)=>{if(!Re)return;const Ke=G.currentX,ue=G.currentY,le=G.currentTime;X(Re,G);const Se=G.currentX,Ae=G.currentY,et=(G.currentTime=te(Re))-le;if(et>0&&et<100){const lt=(Ae-ue)/et;G.velocityX=(Se-Ke)/et*.7+.3*G.velocityX,G.velocityY=.7*lt+.3*G.velocityY}G.deltaX=Se-G.startX,G.deltaY=Ae-G.startY,G.event=Re},X=(G,Re)=>{let Ke=0,ue=0;if(G){const le=G.changedTouches;if(le&&le.length>0){const Se=le[0];Ke=Se.clientX,ue=Se.clientY}else void 0!==G.pageX&&(Ke=G.pageX,ue=G.pageY)}Re.currentX=Ke,Re.currentY=ue},te=G=>G.timeStamp||Date.now()},9753:(zt,st,k)=>{"use strict";k.d(st,{L:()=>Ie,a:()=>be,b:()=>re,c:()=>ge,d:()=>we,e:()=>ot,g:()=>ce,l:()=>lt,s:()=>fe,t:()=>X});var l=k(5861),L=k(7205),U=k(3756);const Ie="ionViewWillEnter",be="ionViewDidEnter",re="ionViewWillLeave",ge="ionViewDidLeave",we="ionViewWillUnload",X=ee=>new Promise((se,Me)=>{(0,L.c)(()=>{te(ee),G(ee).then(Ne=>{Ne.animation&&Ne.animation.destroy(),Re(ee),se(Ne)},Ne=>{Re(ee),Me(Ne)})})}),te=ee=>{const se=ee.enteringEl,Me=ee.leavingEl;_e(se,Me,ee.direction),ee.showGoBack?se.classList.add("can-go-back"):se.classList.remove("can-go-back"),fe(se,!1),se.style.setProperty("pointer-events","none"),Me&&(fe(Me,!1),Me.style.setProperty("pointer-events","none"))},G=function(){var ee=(0,l.Z)(function*(se){const Me=yield Ke(se);return Me&&L.B.isBrowser?ue(Me,se):le(se)});return function(Me){return ee.apply(this,arguments)}}(),Re=ee=>{const se=ee.enteringEl,Me=ee.leavingEl;se.classList.remove("ion-page-invisible"),se.style.removeProperty("pointer-events"),void 0!==Me&&(Me.classList.remove("ion-page-invisible"),Me.style.removeProperty("pointer-events"))},Ke=function(){var ee=(0,l.Z)(function*(se){return se.leavingEl&&se.animated&&0!==se.duration?se.animationBuilder?se.animationBuilder:"ios"===se.mode?(yield Promise.resolve().then(k.bind(k,4181))).iosTransitionAnimation:(yield Promise.resolve().then(k.bind(k,5980))).mdTransitionAnimation:void 0});return function(Me){return ee.apply(this,arguments)}}(),ue=function(){var ee=(0,l.Z)(function*(se,Me){yield Se(Me,!0);const Ne=se(Me.baseEl,Me);et(Me.enteringEl,Me.leavingEl);const mt=yield z(Ne,Me);return Me.progressCallback&&Me.progressCallback(void 0),mt&&Ge(Me.enteringEl,Me.leavingEl),{hasCompleted:mt,animation:Ne}});return function(Me,Ne){return ee.apply(this,arguments)}}(),le=function(){var ee=(0,l.Z)(function*(se){const Me=se.enteringEl,Ne=se.leavingEl;return yield Se(se,!1),et(Me,Ne),Ge(Me,Ne),{hasCompleted:!0}});return function(Me){return ee.apply(this,arguments)}}(),Se=function(){var ee=(0,l.Z)(function*(se,Me){const mt=(void 0!==se.deepWait?se.deepWait:Me)?[ot(se.enteringEl),ot(se.leavingEl)]:[ke(se.enteringEl),ke(se.leavingEl)];yield Promise.all(mt),yield Ae(se.viewIsReady,se.enteringEl)});return function(Me,Ne){return ee.apply(this,arguments)}}(),Ae=function(){var ee=(0,l.Z)(function*(se,Me){se&&(yield se(Me))});return function(Me,Ne){return ee.apply(this,arguments)}}(),z=(ee,se)=>{const Me=se.progressCallback,Ne=new Promise(mt=>{ee.onFinish(At=>mt(1===At))});return Me?(ee.progressStart(!0),Me(ee)):ee.play(),Ne},et=(ee,se)=>{lt(se,re),lt(ee,Ie)},Ge=(ee,se)=>{lt(ee,be),lt(se,ge)},lt=(ee,se)=>{if(ee){const Me=new CustomEvent(se,{bubbles:!1,cancelable:!1});ee.dispatchEvent(Me)}},ke=ee=>ee?new Promise(se=>(0,U.c)(ee,se)):Promise.resolve(),ot=function(){var ee=(0,l.Z)(function*(se){const Me=se;if(Me){if(null!=Me.componentOnReady){if(null!=(yield Me.componentOnReady()))return}else if(null!=Me.__registerHost)return void(yield new Promise(mt=>(0,U.r)(mt)));yield Promise.all(Array.from(Me.children).map(ot))}});return function(Me){return ee.apply(this,arguments)}}(),fe=(ee,se)=>{se?(ee.setAttribute("aria-hidden","true"),ee.classList.add("ion-page-hidden")):(ee.hidden=!1,ee.removeAttribute("aria-hidden"),ee.classList.remove("ion-page-hidden"))},_e=(ee,se,Me)=>{void 0!==ee&&(ee.style.zIndex="back"===Me?"99":"101"),void 0!==se&&(se.style.zIndex="100")},ce=ee=>ee.classList.contains("ion-page")?ee:ee.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||ee},7205:(zt,st,k)=>{"use strict";k.d(st,{B:()=>Yr,H:()=>_n,a:()=>me,b:()=>hn,c:()=>Ii,e:()=>Ce,f:()=>ir,g:()=>at,h:()=>xn,i:()=>Fe,j:()=>Fn,k:()=>Sn,p:()=>ue,r:()=>an,s:()=>Re});var l=k(5861);let U,Ie,be,re=!1,ge=!1,we=!1,ae=!1,Q=!1;const X=typeof window<"u"?window:{},te=X.document||{head:{}},G={$flags$:0,$resourcesUrl$:"",jmp:q=>q(),raf:q=>requestAnimationFrame(q),ael:(q,de,Ve,Xe)=>q.addEventListener(de,Ve,Xe),rel:(q,de,Ve,Xe)=>q.removeEventListener(de,Ve,Xe),ce:(q,de)=>new CustomEvent(q,de)},Re=q=>{Object.assign(G,q)},ue=q=>Promise.resolve(q),le=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch{}return!1})(),Se=(q,de,Ve,Xe)=>{Ve&&Ve.map(([he,ye,Qe])=>{const Et=z(q,he),_t=Ae(de,Qe),It=et(he);G.ael(Et,ye,_t,It),(de.$rmListeners$=de.$rmListeners$||[]).push(()=>G.rel(Et,ye,_t,It))})},Ae=(q,de)=>Ve=>{try{256&q.$flags$?q.$lazyInstance$[de](Ve):(q.$queuedListeners$=q.$queuedListeners$||[]).push([de,Ve])}catch(Xe){vn(Xe)}},z=(q,de)=>4&de?te:8&de?X:16&de?te.body:q,et=q=>0!=(2&q),fe="s-id",_e="sty-id",se="http://www.w3.org/1999/xlink",mt=new WeakMap,At=(q,de,Ve)=>{let Xe=mi.get(q);le&&Ve?(Xe=Xe||new CSSStyleSheet,Xe.replace(de)):Xe=de,mi.set(q,Xe)},tt=(q,de,Ve,Xe)=>{let he=We(de,Ve);const ye=mi.get(he);if(q=11===q.nodeType?q:te,ye)if("string"==typeof ye){let Et,Qe=mt.get(q=q.head||q);Qe||mt.set(q,Qe=new Set),Qe.has(he)||(q.host&&(Et=q.querySelector(`[${_e}="${he}"]`))?Et.innerHTML=ye:(Et=te.createElement("style"),Et.innerHTML=ye,q.insertBefore(Et,q.querySelector("link"))),Qe&&Qe.add(he))}else q.adoptedStyleSheets.includes(ye)||(q.adoptedStyleSheets=[...q.adoptedStyleSheets,ye]);return he},We=(q,de)=>"sc-"+(de&&32&q.$flags$?q.$tagName$+"-"+de:q.$tagName$),De=q=>q.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),me=q=>Vr.push(q),at=q=>Zt(q).$modeName$,Ct={},Jt=q=>"object"==(q=typeof q)||"function"===q,xn=(q,de,...Ve)=>{let Xe=null,he=null,ye=null,Qe=!1,Et=!1;const _t=[],It=fn=>{for(let ln=0;ln<fn.length;ln++)Xe=fn[ln],Array.isArray(Xe)?It(Xe):null!=Xe&&"boolean"!=typeof Xe&&((Qe="function"!=typeof q&&!Jt(Xe))&&(Xe=String(Xe)),Qe&&Et?_t[_t.length-1].$text$+=Xe:_t.push(Qe?Ht(null,Xe):Xe),Et=Qe)};if(It(Ve),de){de.key&&(he=de.key),de.name&&(ye=de.name);{const fn=de.className||de.class;fn&&(de.class="object"!=typeof fn?fn:Object.keys(fn).filter(ln=>fn[ln]).join(" "))}}if("function"==typeof q)return q(null===de?{}:de,_t,jn);const qt=Ht(q,null);return qt.$attrs$=de,_t.length>0&&(qt.$children$=_t),qt.$key$=he,qt.$name$=ye,qt},Ht=(q,de)=>({$flags$:0,$tag$:q,$text$:de,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),_n={},jn={forEach:(q,de)=>q.map(Qn).forEach(de),map:(q,de)=>q.map(Qn).map(de).map(gn)},Qn=q=>({vattrs:q.$attrs$,vchildren:q.$children$,vkey:q.$key$,vname:q.$name$,vtag:q.$tag$,vtext:q.$text$}),gn=q=>{if("function"==typeof q.vtag){const Ve=Object.assign({},q.vattrs);return q.vkey&&(Ve.key=q.vkey),q.vname&&(Ve.name=q.vname),xn(q.vtag,Ve,...q.vchildren||[])}const de=Ht(q.vtag,q.vtext);return de.$attrs$=q.vattrs,de.$children$=q.vchildren,de.$key$=q.vkey,de.$name$=q.vname,de},Dn=(q,de,Ve,Xe,he,ye)=>{if(Ve!==Xe){let Qe=Tr(q,de),Et=de.toLowerCase();if("class"===de){const _t=q.classList,It=zn(Ve),qt=zn(Xe);_t.remove(...It.filter(fn=>fn&&!qt.includes(fn))),_t.add(...qt.filter(fn=>fn&&!It.includes(fn)))}else if("style"===de){for(const _t in Ve)(!Xe||null==Xe[_t])&&(_t.includes("-")?q.style.removeProperty(_t):q.style[_t]="");for(const _t in Xe)(!Ve||Xe[_t]!==Ve[_t])&&(_t.includes("-")?q.style.setProperty(_t,Xe[_t]):q.style[_t]=Xe[_t])}else if("key"!==de)if("ref"===de)Xe&&Xe(q);else if(Qe||"o"!==de[0]||"n"!==de[1]){const _t=Jt(Xe);if((Qe||_t&&null!==Xe)&&!he)try{if(q.tagName.includes("-"))q[de]=Xe;else{const qt=Xe??"";"list"===de?Qe=!1:(null==Ve||q[de]!=qt)&&(q[de]=qt)}}catch{}let It=!1;Et!==(Et=Et.replace(/^xlink\:?/,""))&&(de=Et,It=!0),null==Xe||!1===Xe?(!1!==Xe||""===q.getAttribute(de))&&(It?q.removeAttributeNS(se,de):q.removeAttribute(de)):(!Qe||4&ye||he)&&!_t&&(Xe=!0===Xe?"":Xe,It?q.setAttributeNS(se,de,Xe):q.setAttribute(de,Xe))}else de="-"===de[2]?de.slice(3):Tr(X,Et)?Et.slice(2):Et[2]+de.slice(3),Ve&&G.rel(q,de,Ve,!1),Xe&&G.ael(q,de,Xe,!1)}},An=/\s/,zn=q=>q?q.split(An):[],Vn=(q,de,Ve,Xe)=>{const he=11===de.$elm$.nodeType&&de.$elm$.host?de.$elm$.host:de.$elm$,ye=q&&q.$attrs$||Ct,Qe=de.$attrs$||Ct;for(Xe in ye)Xe in Qe||Dn(he,Xe,ye[Xe],void 0,Ve,de.$flags$);for(Xe in Qe)Dn(he,Xe,ye[Xe],Qe[Xe],Ve,de.$flags$)},Vt=(q,de,Ve,Xe)=>{const he=de.$children$[Ve];let Qe,Et,_t,ye=0;if(re||(we=!0,"slot"===he.$tag$&&(U&&Xe.classList.add(U+"-s"),he.$flags$|=he.$children$?2:1)),null!==he.$text$)Qe=he.$elm$=te.createTextNode(he.$text$);else if(1&he.$flags$)Qe=he.$elm$=te.createTextNode("");else{if(ae||(ae="svg"===he.$tag$),Qe=he.$elm$=te.createElementNS(ae?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&he.$flags$?"slot-fb":he.$tag$),ae&&"foreignObject"===he.$tag$&&(ae=!1),Vn(null,he,ae),(q=>null!=q)(U)&&Qe["s-si"]!==U&&Qe.classList.add(Qe["s-si"]=U),he.$children$)for(ye=0;ye<he.$children$.length;++ye)Et=Vt(q,he,ye,Qe),Et&&Qe.appendChild(Et);"svg"===he.$tag$?ae=!1:"foreignObject"===Qe.tagName&&(ae=!0)}return Qe["s-hn"]=be,3&he.$flags$&&(Qe["s-sr"]=!0,Qe["s-cr"]=Ie,Qe["s-sn"]=he.$name$||"",_t=q&&q.$children$&&q.$children$[Ve],_t&&_t.$tag$===he.$tag$&&q.$elm$&&or(q.$elm$,!1)),Qe},or=(q,de)=>{G.$flags$|=1;const Ve=q.childNodes;for(let Xe=Ve.length-1;Xe>=0;Xe--){const he=Ve[Xe];he["s-hn"]!==be&&he["s-ol"]&&(sn(he).insertBefore(he,Kt(he)),he["s-ol"].remove(),he["s-ol"]=void 0,we=!0),de&&or(he,de)}G.$flags$&=-2},bn=(q,de,Ve,Xe,he,ye)=>{let Et,Qe=q["s-cr"]&&q["s-cr"].parentNode||q;for(Qe.shadowRoot&&Qe.tagName===be&&(Qe=Qe.shadowRoot);he<=ye;++he)Xe[he]&&(Et=Vt(null,Ve,he,q),Et&&(Xe[he].$elm$=Et,Qe.insertBefore(Et,Kt(de))))},mr=(q,de,Ve,Xe,he)=>{for(;de<=Ve;++de)(Xe=q[de])&&(he=Xe.$elm$,Pr(Xe),ge=!0,he["s-ol"]?he["s-ol"].remove():or(he,!0),he.remove())},Wn=(q,de)=>q.$tag$===de.$tag$&&("slot"===q.$tag$?q.$name$===de.$name$:q.$key$===de.$key$),Kt=q=>q&&q["s-ol"]||q,sn=q=>(q["s-ol"]?q["s-ol"]:q).parentNode,Er=(q,de)=>{const Ve=de.$elm$=q.$elm$,Xe=q.$children$,he=de.$children$,ye=de.$tag$,Qe=de.$text$;let Et;null===Qe?(ae="svg"===ye||"foreignObject"!==ye&&ae,"slot"===ye||Vn(q,de,ae),null!==Xe&&null!==he?((q,de,Ve,Xe)=>{let Or,$e,he=0,ye=0,Qe=0,Et=0,_t=de.length-1,It=de[0],qt=de[_t],fn=Xe.length-1,ln=Xe[0],yr=Xe[fn];for(;he<=_t&&ye<=fn;)if(null==It)It=de[++he];else if(null==qt)qt=de[--_t];else if(null==ln)ln=Xe[++ye];else if(null==yr)yr=Xe[--fn];else if(Wn(It,ln))Er(It,ln),It=de[++he],ln=Xe[++ye];else if(Wn(qt,yr))Er(qt,yr),qt=de[--_t],yr=Xe[--fn];else if(Wn(It,yr))("slot"===It.$tag$||"slot"===yr.$tag$)&&or(It.$elm$.parentNode,!1),Er(It,yr),q.insertBefore(It.$elm$,qt.$elm$.nextSibling),It=de[++he],yr=Xe[--fn];else if(Wn(qt,ln))("slot"===It.$tag$||"slot"===yr.$tag$)&&or(qt.$elm$.parentNode,!1),Er(qt,ln),q.insertBefore(qt.$elm$,It.$elm$),qt=de[--_t],ln=Xe[++ye];else{for(Qe=-1,Et=he;Et<=_t;++Et)if(de[Et]&&null!==de[Et].$key$&&de[Et].$key$===ln.$key$){Qe=Et;break}Qe>=0?($e=de[Qe],$e.$tag$!==ln.$tag$?Or=Vt(de&&de[ye],Ve,Qe,q):(Er($e,ln),de[Qe]=void 0,Or=$e.$elm$),ln=Xe[++ye]):(Or=Vt(de&&de[ye],Ve,ye,q),ln=Xe[++ye]),Or&&sn(It.$elm$).insertBefore(Or,Kt(It.$elm$))}he>_t?bn(q,null==Xe[fn+1]?null:Xe[fn+1].$elm$,Ve,Xe,ye,fn):ye>fn&&mr(de,he,_t)})(Ve,Xe,de,he):null!==he?(null!==q.$text$&&(Ve.textContent=""),bn(Ve,null,de,he,0,he.length-1)):null!==Xe&&mr(Xe,0,Xe.length-1),ae&&"svg"===ye&&(ae=!1)):(Et=Ve["s-cr"])?Et.parentNode.textContent=Qe:q.$text$!==Qe&&(Ve.data=Qe)},Lr=q=>{const de=q.childNodes;let Ve,Xe,he,ye,Qe,Et;for(Xe=0,he=de.length;Xe<he;Xe++)if(Ve=de[Xe],1===Ve.nodeType){if(Ve["s-sr"])for(Qe=Ve["s-sn"],Ve.hidden=!1,ye=0;ye<he;ye++)if(Et=de[ye].nodeType,de[ye]["s-hn"]!==Ve["s-hn"]||""!==Qe){if(1===Et&&Qe===de[ye].getAttribute("slot")){Ve.hidden=!0;break}}else if(1===Et||3===Et&&""!==de[ye].textContent.trim()){Ve.hidden=!0;break}Lr(Ve)}},kn=[],qn=q=>{let de,Ve,Xe,he,ye,Qe,Et=0;const _t=q.childNodes,It=_t.length;for(;Et<It;Et++){if(de=_t[Et],de["s-sr"]&&(Ve=de["s-cr"])&&Ve.parentNode)for(Xe=Ve.parentNode.childNodes,he=de["s-sn"],Qe=Xe.length-1;Qe>=0;Qe--)Ve=Xe[Qe],!Ve["s-cn"]&&!Ve["s-nr"]&&Ve["s-hn"]!==de["s-hn"]&&(hr(Ve,he)?(ye=kn.find(qt=>qt.$nodeToRelocate$===Ve),ge=!0,Ve["s-sn"]=Ve["s-sn"]||he,ye?ye.$slotRefNode$=de:kn.push({$slotRefNode$:de,$nodeToRelocate$:Ve}),Ve["s-sr"]&&kn.map(qt=>{hr(qt.$nodeToRelocate$,Ve["s-sn"])&&(ye=kn.find(fn=>fn.$nodeToRelocate$===Ve),ye&&!qt.$slotRefNode$&&(qt.$slotRefNode$=ye.$slotRefNode$))})):kn.some(qt=>qt.$nodeToRelocate$===Ve)||kn.push({$nodeToRelocate$:Ve}));1===de.nodeType&&qn(de)}},hr=(q,de)=>1===q.nodeType?null===q.getAttribute("slot")&&""===de||q.getAttribute("slot")===de:q["s-sn"]===de||""===de,Pr=q=>{q.$attrs$&&q.$attrs$.ref&&q.$attrs$.ref(null),q.$children$&&q.$children$.map(Pr)},Fe=q=>Zt(q).$hostElement$,Ce=(q,de,Ve)=>{const Xe=Fe(q);return{emit:he=>Je(Xe,de,{bubbles:!!(4&Ve),composed:!!(2&Ve),cancelable:!!(1&Ve),detail:he})}},Je=(q,de,Ve)=>{const Xe=G.ce(de,Ve);return q.dispatchEvent(Xe),Xe},Le=(q,de)=>{de&&!q.$onRenderResolve$&&de["s-p"]&&de["s-p"].push(new Promise(Ve=>q.$onRenderResolve$=Ve))},Ee=(q,de)=>{if(q.$flags$|=16,!(4&q.$flags$))return Le(q,q.$ancestorComponent$),Ii(()=>yt(q,de));q.$flags$|=512},yt=(q,de)=>{const Xe=q.$lazyInstance$;let he;return de&&(q.$flags$|=256,q.$queuedListeners$&&(q.$queuedListeners$.map(([ye,Qe])=>rn(Xe,ye,Qe)),q.$queuedListeners$=null),he=rn(Xe,"componentWillLoad")),he=rr(he,()=>rn(Xe,"componentWillRender")),rr(he,()=>Mt(q,Xe,de))},Mt=function(){var q=(0,l.Z)(function*(de,Ve,Xe){const he=de.$hostElement$,Qe=he["s-rc"];Xe&&(q=>{const de=q.$cmpMeta$,Ve=q.$hostElement$,Xe=de.$flags$,ye=tt(Ve.shadowRoot?Ve.shadowRoot:Ve.getRootNode(),de,q.$modeName$);10&Xe&&(Ve["s-sc"]=ye,Ve.classList.add(ye+"-h"),2&Xe&&Ve.classList.add(ye+"-s"))})(de);$t(de,Ve),Qe&&(Qe.map(_t=>_t()),he["s-rc"]=void 0);{const _t=he["s-p"],It=()=>un(de);0===_t.length?It():(Promise.all(_t).then(It),de.$flags$|=4,_t.length=0)}});return function(Ve,Xe,he){return q.apply(this,arguments)}}(),$t=(q,de,Ve)=>{try{de=de.render&&de.render(),q.$flags$&=-17,q.$flags$|=2,((q,de)=>{const Ve=q.$hostElement$,Xe=q.$cmpMeta$,he=q.$vnode$||Ht(null,null),ye=(q=>q&&q.$tag$===_n)(de)?de:xn(null,null,de);if(be=Ve.tagName,Xe.$attrsToReflect$&&(ye.$attrs$=ye.$attrs$||{},Xe.$attrsToReflect$.map(([Qe,Et])=>ye.$attrs$[Et]=Ve[Qe])),ye.$tag$=null,ye.$flags$|=4,q.$vnode$=ye,ye.$elm$=he.$elm$=Ve.shadowRoot||Ve,U=Ve["s-sc"],Ie=Ve["s-cr"],re=0!=(1&Xe.$flags$),ge=!1,Er(he,ye),G.$flags$|=1,we){qn(ye.$elm$);let Qe,Et,_t,It,qt,fn,ln=0;for(;ln<kn.length;ln++)Qe=kn[ln],Et=Qe.$nodeToRelocate$,Et["s-ol"]||(_t=te.createTextNode(""),_t["s-nr"]=Et,Et.parentNode.insertBefore(Et["s-ol"]=_t,Et));for(ln=0;ln<kn.length;ln++)if(Qe=kn[ln],Et=Qe.$nodeToRelocate$,Qe.$slotRefNode$){for(It=Qe.$slotRefNode$.parentNode,qt=Qe.$slotRefNode$.nextSibling,_t=Et["s-ol"];_t=_t.previousSibling;)if(fn=_t["s-nr"],fn&&fn["s-sn"]===Et["s-sn"]&&It===fn.parentNode&&(fn=fn.nextSibling,!fn||!fn["s-nr"])){qt=fn;break}(!qt&&It!==Et.parentNode||Et.nextSibling!==qt)&&Et!==qt&&(!Et["s-hn"]&&Et["s-ol"]&&(Et["s-hn"]=Et["s-ol"].parentNode.nodeName),It.insertBefore(Et,qt))}else 1===Et.nodeType&&(Et.hidden=!0)}ge&&Lr(ye.$elm$),G.$flags$&=-2,kn.length=0})(q,de)}catch(Xe){vn(Xe,q.$hostElement$)}return null},un=q=>{const Ve=q.$hostElement$,he=q.$lazyInstance$,ye=q.$ancestorComponent$;rn(he,"componentDidRender"),64&q.$flags$?rn(he,"componentDidUpdate"):(q.$flags$|=64,ar(Ve),rn(he,"componentDidLoad"),q.$onReadyResolve$(Ve),ye||Ln()),q.$onInstanceResolve$(Ve),q.$onRenderResolve$&&(q.$onRenderResolve$(),q.$onRenderResolve$=void 0),512&q.$flags$&&Zr(()=>Ee(q,!1)),q.$flags$&=-517},Fn=q=>{{const de=Zt(q),Ve=de.$hostElement$.isConnected;return Ve&&2==(18&de.$flags$)&&Ee(de,!1),Ve}},Ln=q=>{ar(te.documentElement),Zr(()=>Je(X,"appload",{detail:{namespace:"ionic"}}))},rn=(q,de,Ve)=>{if(q&&q[de])try{return q[de](Ve)}catch(Xe){vn(Xe)}},rr=(q,de)=>q&&q.then?q.then(de):de(),ar=q=>q.classList.add("hydrated"),gi=(q,de,Ve,Xe,he,ye,Qe)=>{let Et,_t,It,qt;if(1===ye.nodeType){for(Et=ye.getAttribute("c-id"),Et&&(_t=Et.split("."),(_t[0]===Qe||"0"===_t[0])&&(It={$flags$:0,$hostId$:_t[0],$nodeId$:_t[1],$depth$:_t[2],$index$:_t[3],$tag$:ye.tagName.toLowerCase(),$elm$:ye,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},de.push(It),ye.removeAttribute("c-id"),q.$children$||(q.$children$=[]),q.$children$[It.$index$]=It,q=It,Xe&&"0"===It.$depth$&&(Xe[It.$index$]=It.$elm$))),qt=ye.childNodes.length-1;qt>=0;qt--)gi(q,de,Ve,Xe,he,ye.childNodes[qt],Qe);if(ye.shadowRoot)for(qt=ye.shadowRoot.childNodes.length-1;qt>=0;qt--)gi(q,de,Ve,Xe,he,ye.shadowRoot.childNodes[qt],Qe)}else if(8===ye.nodeType)_t=ye.nodeValue.split("."),(_t[1]===Qe||"0"===_t[1])&&(Et=_t[0],It={$flags$:0,$hostId$:_t[1],$nodeId$:_t[2],$depth$:_t[3],$index$:_t[4],$elm$:ye,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===Et?(It.$elm$=ye.nextSibling,It.$elm$&&3===It.$elm$.nodeType&&(It.$text$=It.$elm$.textContent,de.push(It),ye.remove(),q.$children$||(q.$children$=[]),q.$children$[It.$index$]=It,Xe&&"0"===It.$depth$&&(Xe[It.$index$]=It.$elm$))):It.$hostId$===Qe&&("s"===Et?(It.$tag$="slot",ye["s-sn"]=_t[5]?It.$name$=_t[5]:"",ye["s-sr"]=!0,Xe&&(It.$elm$=te.createElement(It.$tag$),It.$name$&&It.$elm$.setAttribute("name",It.$name$),ye.parentNode.insertBefore(It.$elm$,ye),ye.remove(),"0"===It.$depth$&&(Xe[It.$index$]=It.$elm$)),Ve.push(It),q.$children$||(q.$children$=[]),q.$children$[It.$index$]=It):"r"===Et&&(Xe?ye.remove():(he["s-cr"]=ye,ye["s-cn"]=!0))));else if(q&&"style"===q.$tag$){const fn=Ht(null,ye.textContent);fn.$elm$=ye,fn.$index$="0",q.$children$=[fn]}},er=(q,de)=>{if(1===q.nodeType){let Ve=0;for(;Ve<q.childNodes.length;Ve++)er(q.childNodes[Ve],de);if(q.shadowRoot)for(Ve=0;Ve<q.shadowRoot.childNodes.length;Ve++)er(q.shadowRoot.childNodes[Ve],de)}else if(8===q.nodeType){const Ve=q.nodeValue.split(".");"o"===Ve[0]&&(de.set(Ve[1]+"."+Ve[2],q),q.nodeValue="",q["s-en"]=Ve[3])}},it=(q,de,Ve)=>{if(de.$members$){q.watchers&&(de.$watchers$=q.watchers);const Xe=Object.entries(de.$members$),he=q.prototype;if(Xe.map(([ye,[Qe]])=>{31&Qe||2&Ve&&32&Qe?Object.defineProperty(he,ye,{get(){return((q,de)=>Zt(this).$instanceValues$.get(de))(0,ye)},set(Et){((q,de,Ve,Xe)=>{const he=Zt(q),ye=he.$hostElement$,Qe=he.$instanceValues$.get(de),Et=he.$flags$,_t=he.$lazyInstance$;Ve=((q,de)=>null==q||Jt(q)?q:4&de?"false"!==q&&(""===q||!!q):2&de?parseFloat(q):1&de?String(q):q)(Ve,Xe.$members$[de][0]);const It=Number.isNaN(Qe)&&Number.isNaN(Ve);if((!(8&Et)||void 0===Qe)&&Ve!==Qe&&!It&&(he.$instanceValues$.set(de,Ve),_t)){if(Xe.$watchers$&&128&Et){const fn=Xe.$watchers$[de];fn&&fn.map(ln=>{try{_t[ln](Ve,Qe,de)}catch(yr){vn(yr,ye)}})}2==(18&Et)&&Ee(he,!1)}})(this,ye,Et,de)},configurable:!0,enumerable:!0}):1&Ve&&64&Qe&&Object.defineProperty(he,ye,{value(...Et){const _t=Zt(this);return _t.$onInstancePromise$.then(()=>_t.$lazyInstance$[ye](...Et))}})}),1&Ve){const ye=new Map;he.attributeChangedCallback=function(Qe,Et,_t){G.jmp(()=>{const It=ye.get(Qe);if(this.hasOwnProperty(It))_t=this[It],delete this[It];else if(he.hasOwnProperty(It)&&"number"==typeof this[It]&&this[It]==_t)return;this[It]=(null!==_t||"boolean"!=typeof this[It])&&_t})},q.observedAttributes=Xe.filter(([Qe,Et])=>15&Et[0]).map(([Qe,Et])=>{const _t=Et[1]||Qe;return ye.set(_t,Qe),512&Et[0]&&de.$attrsToReflect$.push([Qe,_t]),_t})}}return q},Oe=function(){var q=(0,l.Z)(function*(de,Ve,Xe,he,ye){if(0==(32&Ve.$flags$)){{if(Ve.$flags$|=32,(ye=ui(Xe)).then){const It=()=>{};ye=yield ye,It()}ye.isProxied||(Xe.$watchers$=ye.watchers,it(ye,Xe,2),ye.isProxied=!0);const _t=()=>{};Ve.$flags$|=8;try{new ye(Ve)}catch(It){vn(It)}Ve.$flags$&=-9,Ve.$flags$|=128,_t(),ve(Ve.$lazyInstance$)}if(ye.style){let _t=ye.style;"string"!=typeof _t&&(_t=_t[Ve.$modeName$=(q=>Vr.map(de=>de(q)).find(de=>!!de))(de)]);const It=We(Xe,Ve.$modeName$);if(!mi.has(It)){const qt=()=>{};At(It,_t,!!(1&Xe.$flags$)),qt()}}}const Qe=Ve.$ancestorComponent$,Et=()=>Ee(Ve,!0);Qe&&Qe["s-rc"]?Qe["s-rc"].push(Et):Et()});return function(Ve,Xe,he,ye,Qe){return q.apply(this,arguments)}}(),ve=q=>{rn(q,"connectedCallback")},ft=q=>{const de=q["s-cr"]=te.createComment("");de["s-cn"]=!0,q.insertBefore(de,q.firstChild)},hn=(q,de={})=>{const Xe=[],he=de.exclude||[],ye=X.customElements,Qe=te.head,Et=Qe.querySelector("meta[charset]"),_t=te.createElement("style"),It=[],qt=te.querySelectorAll(`[${_e}]`);let fn,ln=!0,yr=0;for(Object.assign(G,de),G.$resourcesUrl$=new URL(de.resourcesUrl||"./",te.baseURI).href,G.$flags$|=2;yr<qt.length;yr++)At(qt[yr].getAttribute(_e),De(qt[yr].innerHTML),!0);q.map(Or=>{Or[1].map($e=>{const Ue={$flags$:$e[0],$tagName$:$e[1],$members$:$e[2],$listeners$:$e[3]};Ue.$members$=$e[2],Ue.$listeners$=$e[3],Ue.$attrsToReflect$=[],Ue.$watchers$={};const ut=Ue.$tagName$,Tt=class extends HTMLElement{constructor(Lt){super(Lt),Dr(Lt=this,Ue),1&Ue.$flags$&&Lt.attachShadow({mode:"open",delegatesFocus:!!(16&Ue.$flags$)})}connectedCallback(){fn&&(clearTimeout(fn),fn=null),ln?It.push(this):G.jmp(()=>(q=>{if(0==(1&G.$flags$)){const de=Zt(q),Ve=de.$cmpMeta$,Xe=()=>{};if(1&de.$flags$)Se(q,de,Ve.$listeners$),ve(de.$lazyInstance$);else{let he;if(de.$flags$|=1,he=q.getAttribute(fe),he){if(1&Ve.$flags$){const ye=tt(q.shadowRoot,Ve,q.getAttribute("s-mode"));q.classList.remove(ye+"-h",ye+"-s")}((q,de,Ve,Xe)=>{const ye=q.shadowRoot,Qe=[],_t=ye?[]:null,It=Xe.$vnode$=Ht(de,null);G.$orgLocNodes$||er(te.body,G.$orgLocNodes$=new Map),q[fe]=Ve,q.removeAttribute(fe),gi(It,Qe,[],_t,q,q,Ve),Qe.map(qt=>{const fn=qt.$hostId$+"."+qt.$nodeId$,ln=G.$orgLocNodes$.get(fn),yr=qt.$elm$;ln&&""===ln["s-en"]&&ln.parentNode.insertBefore(yr,ln.nextSibling),ye||(yr["s-hn"]=de,ln&&(yr["s-ol"]=ln,yr["s-ol"]["s-nr"]=yr)),G.$orgLocNodes$.delete(fn)}),ye&&_t.map(qt=>{qt&&ye.appendChild(qt)})})(q,Ve.$tagName$,he,de)}he||12&Ve.$flags$&&ft(q);{let ye=q;for(;ye=ye.parentNode||ye.host;)if(1===ye.nodeType&&ye.hasAttribute("s-id")&&ye["s-p"]||ye["s-p"]){Le(de,de.$ancestorComponent$=ye);break}}Ve.$members$&&Object.entries(Ve.$members$).map(([ye,[Qe]])=>{if(31&Qe&&q.hasOwnProperty(ye)){const Et=q[ye];delete q[ye],q[ye]=Et}}),Zr(()=>Oe(q,de,Ve))}Xe()}})(this))}disconnectedCallback(){G.jmp(()=>(q=>{if(0==(1&G.$flags$)){const de=Zt(this),Ve=de.$lazyInstance$;de.$rmListeners$&&(de.$rmListeners$.map(Xe=>Xe()),de.$rmListeners$=void 0),rn(Ve,"disconnectedCallback")}})())}componentOnReady(){return Zt(this).$onReadyPromise$}};Ue.$lazyBundleId$=Or[0],!he.includes(ut)&&!ye.get(ut)&&(Xe.push(ut),ye.define(ut,it(Tt,Ue,1)))})}),_t.innerHTML=Xe+"{visibility:hidden}.hydrated{visibility:inherit}",_t.setAttribute("data-styles",""),Qe.insertBefore(_t,Et?Et.nextSibling:Qe.firstChild),ln=!1,It.length?It.map(Or=>Or.connectedCallback()):G.jmp(()=>fn=setTimeout(Ln,30))},Sn=q=>{const de=new URL(q,G.$resourcesUrl$);return de.origin!==X.location.origin?de.href:de.pathname},Tn=new WeakMap,Zt=q=>Tn.get(q),an=(q,de)=>Tn.set(de.$lazyInstance$=q,de),Dr=(q,de)=>{const Ve={$flags$:0,$hostElement$:q,$cmpMeta$:de,$instanceValues$:new Map};return Ve.$onInstancePromise$=new Promise(Xe=>Ve.$onInstanceResolve$=Xe),Ve.$onReadyPromise$=new Promise(Xe=>Ve.$onReadyResolve$=Xe),q["s-p"]=[],q["s-rc"]=[],Se(q,Ve,de.$listeners$),Tn.set(q,Ve)},Tr=(q,de)=>de in q,vn=(q,de)=>(0,console.error)(q,de),Rr=new Map,ui=(q,de,Ve)=>{const Xe=q.$tagName$.replace(/-/g,"_"),he=q.$lazyBundleId$,ye=Rr.get(he);return ye?ye[Xe]:k(863)(`./${he}.entry.js`).then(Qe=>(Rr.set(he,Qe),Qe[Xe]),vn)},mi=new Map,Vr=[],Hn=[],qr=[],ni=(q,de)=>Ve=>{q.push(Ve),Q||(Q=!0,de&&4&G.$flags$?Zr(Nr):G.raf(Nr))},Mr=q=>{for(let de=0;de<q.length;de++)try{q[de](performance.now())}catch(Ve){vn(Ve)}q.length=0},Nr=()=>{Mr(Hn),Mr(qr),(Q=Hn.length>0)&&G.raf(Nr)},Zr=q=>ue().then(q),ir=ni(Hn,!1),Ii=ni(qr,!0),Yr={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1}},97:(zt,st,k)=>{"use strict";k.d(st,{m:()=>X});var l=k(5861),L=k(7593),U=k(3756),Ie=k(5729),be=k(9442);const re=te=>(0,be.c)().duration(te?400:300),ge=te=>{let G,Re;const Ke=te.width+8,ue=(0,be.c)(),le=(0,be.c)();te.isEndSide?(G=Ke+"px",Re="0px"):(G=-Ke+"px",Re="0px"),ue.addElement(te.menuInnerEl).fromTo("transform",`translateX(${G})`,`translateX(${Re})`);const Ae="ios"===(0,Ie.b)(te),z=Ae?.2:.25;return le.addElement(te.backdropEl).fromTo("opacity",.01,z),re(Ae).addAnimation([ue,le])},we=te=>{let G,Re;const Ke=(0,Ie.b)(te),ue=te.width;te.isEndSide?(G=-ue+"px",Re=ue+"px"):(G=ue+"px",Re=-ue+"px");const le=(0,be.c)().addElement(te.menuInnerEl).fromTo("transform",`translateX(${Re})`,"translateX(0px)"),Se=(0,be.c)().addElement(te.contentEl).fromTo("transform","translateX(0px)",`translateX(${G})`),Ae=(0,be.c)().addElement(te.backdropEl).fromTo("opacity",.01,.32);return re("ios"===Ke).addAnimation([le,Se,Ae])},ae=te=>{const G=(0,Ie.b)(te),Re=te.width*(te.isEndSide?-1:1)+"px",Ke=(0,be.c)().addElement(te.contentEl).fromTo("transform","translateX(0px)",`translateX(${Re})`);return re("ios"===G).addAnimation(Ke)},X=(()=>{const te=new Map,G=[],Re=function(){var ct=(0,l.Z)(function*(We){const De=yield et(We);return!!De&&De.open()});return function(De){return ct.apply(this,arguments)}}(),Ke=function(){var ct=(0,l.Z)(function*(We){const De=yield void 0!==We?et(We):Ge();return void 0!==De&&De.close()});return function(De){return ct.apply(this,arguments)}}(),ue=function(){var ct=(0,l.Z)(function*(We){const De=yield et(We);return!!De&&De.toggle()});return function(De){return ct.apply(this,arguments)}}(),le=function(){var ct=(0,l.Z)(function*(We,De){const qe=yield et(De);return qe&&(qe.disabled=!We),qe});return function(De,qe){return ct.apply(this,arguments)}}(),Se=function(){var ct=(0,l.Z)(function*(We,De){const qe=yield et(De);return qe&&(qe.swipeGesture=We),qe});return function(De,qe){return ct.apply(this,arguments)}}(),Ae=function(){var ct=(0,l.Z)(function*(We){if(null!=We){const De=yield et(We);return void 0!==De&&De.isOpen()}return void 0!==(yield Ge())});return function(De){return ct.apply(this,arguments)}}(),z=function(){var ct=(0,l.Z)(function*(We){const De=yield et(We);return!!De&&!De.disabled});return function(De){return ct.apply(this,arguments)}}(),et=function(){var ct=(0,l.Z)(function*(We){return yield tt(),"start"===We||"end"===We?At(me=>me.side===We&&!me.disabled)||At(me=>me.side===We):null!=We?At(qe=>qe.menuId===We):At(qe=>!qe.disabled)||(G.length>0?G[0].el:void 0)});return function(De){return ct.apply(this,arguments)}}(),Ge=function(){var ct=(0,l.Z)(function*(){return yield tt(),Me()});return function(){return ct.apply(this,arguments)}}(),lt=function(){var ct=(0,l.Z)(function*(){return yield tt(),Ne()});return function(){return ct.apply(this,arguments)}}(),ke=function(){var ct=(0,l.Z)(function*(){return yield tt(),mt()});return function(){return ct.apply(this,arguments)}}(),ot=(ct,We)=>{te.set(ct,We)},ce=ct=>{const We=ct.side;G.filter(De=>De.side===We&&De!==ct).forEach(De=>De.disabled=!0)},ee=function(){var ct=(0,l.Z)(function*(We,De,qe){if(mt())return!1;if(De){const me=yield Ge();me&&We.el!==me&&(yield me.setOpen(!1,!1))}return We._setOpen(De,qe)});return function(De,qe,me){return ct.apply(this,arguments)}}(),Me=()=>At(ct=>ct._isOpen),Ne=()=>G.map(ct=>ct.el),mt=()=>G.some(ct=>ct.isAnimating),At=ct=>{const We=G.find(ct);if(void 0!==We)return We.el},tt=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(ct=>new Promise(We=>(0,U.c)(ct,We))));return ot("reveal",ae),ot("push",we),ot("overlay",ge),typeof document<"u"&&document.addEventListener("ionBackButton",ct=>{const We=Me();We&&ct.detail.register(L.MENU_BACK_BUTTON_PRIORITY,()=>We.close())}),{registerAnimation:ot,get:et,getMenus:lt,getOpen:Ge,isEnabled:z,swipeGesture:Se,isAnimating:ke,isOpen:Ae,enable:le,toggle:ue,close:Ke,open:Re,_getOpenSync:Me,_createAnimation:(ct,We)=>{const De=te.get(ct);if(!De)throw new Error("animation not registered");return De(We)},_register:ct=>{G.indexOf(ct)<0&&(ct.disabled||ce(ct),G.push(ct))},_unregister:ct=>{const We=G.indexOf(ct);We>-1&&G.splice(We,1)},_setOpen:ee,_setActiveMenu:ce}})()},5729:(zt,st,k)=>{"use strict";k.d(st,{a:()=>X,b:()=>mt,c:()=>U,g:()=>Q,i:()=>At});var l=k(7205);class L{constructor(){this.m=new Map}reset(ct){this.m=new Map(Object.entries(ct))}get(ct,We){const De=this.m.get(ct);return void 0!==De?De:We}getBoolean(ct,We=!1){const De=this.m.get(ct);return void 0===De?We:"string"==typeof De?"true"===De:!!De}getNumber(ct,We){const De=parseFloat(this.m.get(ct));return isNaN(De)?void 0!==We?We:NaN:De}set(ct,We){this.m.set(ct,We)}}const U=new L,ae="ionic-persist-config",Q=tt=>te(tt),X=(tt,ct)=>("string"==typeof tt&&(ct=tt,tt=void 0),Q(tt).includes(ct)),te=(tt=window)=>{if(typeof tt>"u")return[];tt.Ionic=tt.Ionic||{};let ct=tt.Ionic.platforms;return null==ct&&(ct=tt.Ionic.platforms=G(tt),ct.forEach(We=>tt.document.documentElement.classList.add(`plt-${We}`))),ct},G=tt=>{const ct=U.get("platform");return Object.keys(Me).filter(We=>{const De=ct?.[We];return"function"==typeof De?De(tt):Me[We](tt)})},Ke=tt=>!!(ee(tt,/iPad/i)||ee(tt,/Macintosh/i)&&Ge(tt)),Se=tt=>ee(tt,/android|sink/i),Ge=tt=>se(tt,"(any-pointer:coarse)"),ke=tt=>ot(tt)||fe(tt),ot=tt=>!!(tt.cordova||tt.phonegap||tt.PhoneGap),fe=tt=>!!tt.Capacitor?.isNative,ee=(tt,ct)=>ct.test(tt.navigator.userAgent),se=(tt,ct)=>{var We;return null===(We=tt.matchMedia)||void 0===We?void 0:We.call(tt,ct).matches},Me={ipad:Ke,iphone:tt=>ee(tt,/iPhone/i),ios:tt=>ee(tt,/iPhone|iPod/i)||Ke(tt),android:Se,phablet:tt=>{const ct=tt.innerWidth,We=tt.innerHeight,De=Math.min(ct,We),qe=Math.max(ct,We);return De>390&&De<520&&qe>620&&qe<800},tablet:tt=>{const ct=tt.innerWidth,We=tt.innerHeight,De=Math.min(ct,We),qe=Math.max(ct,We);return Ke(tt)||(tt=>Se(tt)&&!ee(tt,/mobile/i))(tt)||De>460&&De<820&&qe>780&&qe<1400},cordova:ot,capacitor:fe,electron:tt=>ee(tt,/electron/i),pwa:tt=>{var ct;return!(!(null===(ct=tt.matchMedia)||void 0===ct?void 0:ct.call(tt,"(display-mode: standalone)").matches)&&!tt.navigator.standalone)},mobile:Ge,mobileweb:tt=>Ge(tt)&&!ke(tt),desktop:tt=>!Ge(tt),hybrid:ke};let Ne;const mt=tt=>tt&&(0,l.g)(tt)||Ne,At=(tt={})=>{if(typeof window>"u")return;const ct=window.document,We=window,De=We.Ionic=We.Ionic||{},qe={};tt._ael&&(qe.ael=tt._ael),tt._rel&&(qe.rel=tt._rel),tt._ce&&(qe.ce=tt._ce),(0,l.s)(qe);const me=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(tt=>{try{const ct=tt.sessionStorage.getItem(ae);return null!==ct?JSON.parse(ct):{}}catch{return{}}})(We)),{persistConfig:!1}),De.config),(tt=>{const ct={};return tt.location.search.slice(1).split("&").map(We=>We.split("=")).map(([We,De])=>[decodeURIComponent(We),decodeURIComponent(De)]).filter(([We])=>((tt,ct)=>tt.substr(0,ct.length)===ct)(We,"ionic:")).map(([We,De])=>[We.slice("ionic:".length),De]).forEach(([We,De])=>{ct[We]=De}),ct})(We)),tt);U.reset(me),U.getBoolean("persistConfig")&&((tt,ct)=>{try{tt.sessionStorage.setItem(ae,JSON.stringify(ct))}catch{return}})(We,me),te(We),De.config=U,De.mode=Ne=U.get("mode",ct.documentElement.getAttribute("mode")||(X(We,"ios")?"ios":"md")),U.set("mode",Ne),ct.documentElement.setAttribute("mode",Ne),ct.documentElement.classList.add(Ne),U.getBoolean("_testing")&&U.set("animated",!1);const at=gt=>{var kt;return null===(kt=gt.tagName)||void 0===kt?void 0:kt.startsWith("ION-")},Ct=gt=>["ios","md"].includes(gt);(0,l.a)(gt=>{for(;gt;){const kt=gt.mode||gt.getAttribute("mode");if(kt){if(Ct(kt))return kt;at(gt)&&console.warn('Invalid ionic mode: "'+kt+'", expected: "ios" or "md"')}gt=gt.parentElement}return Ne})}},4181:(zt,st,k)=>{"use strict";k.r(st),k.d(st,{iosTransitionAnimation:()=>te,shadow:()=>re});var l=k(9442),L=k(9753);k(7205);const be=G=>document.querySelector(`${G}.ion-cloned-element`),re=G=>G.shadowRoot||G,ge=G=>{const Re="ION-TABS"===G.tagName?G:G.querySelector("ion-tabs"),Ke="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=Re){const ue=Re.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=ue?ue.querySelector(Ke):null}return G.querySelector(Ke)},we=(G,Re)=>{const Ke="ION-TABS"===G.tagName?G:G.querySelector("ion-tabs");let ue=[];if(null!=Ke){const le=Ke.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=le&&(ue=le.querySelectorAll("ion-buttons"))}else ue=G.querySelectorAll("ion-buttons");for(const le of ue){const Se=le.closest("ion-header"),Ae=Se&&!Se.classList.contains("header-collapse-condense-inactive"),z=le.querySelector("ion-back-button"),et=le.classList.contains("buttons-collapse"),Ge="start"===le.slot||""===le.slot;if(null!==z&&Ge&&(et&&Ae&&Re||!et))return z}return null},Q=(G,Re,Ke,ue,le,Se)=>{const Ae=Re?`calc(100% - ${Se.right+4}px)`:Se.left-4+"px",z=Re?"7px":"-7px",et=Re?"-4px":"4px",Ge=Re?"-4px":"4px",lt=Re?"right":"left",ke=Re?"left":"right",_e=Ke?[{offset:0,opacity:1,transform:`translate3d(${et}, ${Se.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${z}, ${le.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${z}, ${le.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${et}, ${Se.top-46}px, 0) scale(1)`}],se=Ke?[{offset:0,opacity:1,transform:`translate3d(${Ge}, ${Se.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${Ge}, ${Se.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${Ge}, ${Se.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${Ge}, ${Se.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${Ge}, ${Se.top-46}px, 0) scale(1)`}],Me=(0,l.c)(),Ne=(0,l.c)(),mt=be("ion-back-button"),At=re(mt).querySelector(".button-text"),tt=re(mt).querySelector("ion-icon");mt.text=ue.text,mt.mode=ue.mode,mt.icon=ue.icon,mt.color=ue.color,mt.disabled=ue.disabled,mt.style.setProperty("display","block"),mt.style.setProperty("position","fixed"),Ne.addElement(tt),Me.addElement(At),Me.beforeStyles({"transform-origin":`${lt} center`}).beforeAddWrite(()=>{ue.style.setProperty("display","none"),mt.style.setProperty(lt,Ae)}).afterAddWrite(()=>{ue.style.setProperty("display",""),mt.style.setProperty("display","none"),mt.style.removeProperty(lt)}).keyframes(_e),Ne.beforeStyles({"transform-origin":`${ke} center`}).keyframes(se),G.addAnimation([Me,Ne])},X=(G,Re,Ke,ue,le,Se)=>{const Ae=Re?`calc(100% - ${le.right}px)`:`${le.left}px`,z=Re?"-18px":"18px",et=Re?"right":"left",ke=Ke?[{offset:0,opacity:0,transform:`translate3d(${z}, ${Se.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${le.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${le.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${z}, ${Se.top-4}px, 0) scale(0.5)`}],ot=be("ion-title"),fe=(0,l.c)();ot.innerText=ue.innerText,ot.size=ue.size,ot.color=ue.color,fe.addElement(ot),fe.beforeStyles({"transform-origin":`${et} center`,height:"46px",display:"",position:"relative",[et]:Ae}).beforeAddWrite(()=>{ue.style.setProperty("display","none")}).afterAddWrite(()=>{ue.style.setProperty("display",""),ot.style.setProperty("display","none")}).keyframes(ke),G.addAnimation(fe)},te=(G,Re)=>{try{const Ke="cubic-bezier(0.32,0.72,0,1)",ue="opacity",le="transform",Se="0%",z="rtl"===G.ownerDocument.dir,et=z?"-99.5%":"99.5%",Ge=z?"33%":"-33%",lt=Re.enteringEl,ke=Re.leavingEl,ot="back"===Re.direction,fe=lt.querySelector(":scope > ion-content"),_e=lt.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),ce=lt.querySelectorAll(":scope > ion-header > ion-toolbar"),ee=(0,l.c)(),se=(0,l.c)();if(ee.addElement(lt).duration(Re.duration||540).easing(Re.easing||Ke).fill("both").beforeRemoveClass("ion-page-invisible"),ke&&G){const At=(0,l.c)();At.addElement(G),ee.addAnimation(At)}if(fe||0!==ce.length||0!==_e.length?(se.addElement(fe),se.addElement(_e)):se.addElement(lt.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ee.addAnimation(se),ot?se.beforeClearStyles([ue]).fromTo("transform",`translateX(${Ge})`,`translateX(${Se})`).fromTo(ue,.8,1):se.beforeClearStyles([ue]).fromTo("transform",`translateX(${et})`,`translateX(${Se})`),fe){const At=re(fe).querySelector(".transition-effect");if(At){const tt=At.querySelector(".transition-cover"),ct=At.querySelector(".transition-shadow"),We=(0,l.c)(),De=(0,l.c)(),qe=(0,l.c)();We.addElement(At).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),De.addElement(tt).beforeClearStyles([ue]).fromTo(ue,0,.1),qe.addElement(ct).beforeClearStyles([ue]).fromTo(ue,.03,.7),We.addAnimation([De,qe]),se.addAnimation([We])}}const Me=lt.querySelector("ion-header.header-collapse-condense"),{forward:Ne,backward:mt}=((G,Re,Ke,ue,le)=>{const Se=we(ue,Ke),Ae=ge(le),z=ge(ue),et=we(le,Ke),Ge=null!==Se&&null!==Ae&&!Ke,lt=null!==z&&null!==et&&Ke;if(Ge){const ke=Ae.getBoundingClientRect(),ot=Se.getBoundingClientRect();X(G,Re,Ke,Ae,ke,ot),Q(G,Re,Ke,Se,ke,ot)}else if(lt){const ke=z.getBoundingClientRect(),ot=et.getBoundingClientRect();X(G,Re,Ke,z,ke,ot),Q(G,Re,Ke,et,ke,ot)}return{forward:Ge,backward:lt}})(ee,z,ot,lt,ke);if(ce.forEach(At=>{const tt=(0,l.c)();tt.addElement(At),ee.addAnimation(tt);const ct=(0,l.c)();ct.addElement(At.querySelector("ion-title"));const We=(0,l.c)(),De=Array.from(At.querySelectorAll("ion-buttons,[menuToggle]")),qe=At.closest("ion-header"),me=qe?.classList.contains("header-collapse-condense-inactive");let at;at=De.filter(ot?Jt=>{const xn=Jt.classList.contains("buttons-collapse");return xn&&!me||!xn}:Jt=>!Jt.classList.contains("buttons-collapse")),We.addElement(at);const Ct=(0,l.c)();Ct.addElement(At.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const gt=(0,l.c)();gt.addElement(re(At).querySelector(".toolbar-background"));const kt=(0,l.c)(),tn=At.querySelector("ion-back-button");if(tn&&kt.addElement(tn),tt.addAnimation([ct,We,Ct,gt,kt]),We.fromTo(ue,.01,1),Ct.fromTo(ue,.01,1),ot)me||ct.fromTo("transform",`translateX(${Ge})`,`translateX(${Se})`).fromTo(ue,.01,1),Ct.fromTo("transform",`translateX(${Ge})`,`translateX(${Se})`),kt.fromTo(ue,.01,1);else if(Me||ct.fromTo("transform",`translateX(${et})`,`translateX(${Se})`).fromTo(ue,.01,1),Ct.fromTo("transform",`translateX(${et})`,`translateX(${Se})`),gt.beforeClearStyles([ue,"transform"]),qe?.translucent?gt.fromTo("transform",z?"translateX(-100%)":"translateX(100%)","translateX(0px)"):gt.fromTo(ue,.01,"var(--opacity)"),Ne||kt.fromTo(ue,.01,1),tn&&!Ne){const xn=(0,l.c)();xn.addElement(re(tn).querySelector(".button-text")).fromTo("transform",z?"translateX(-100px)":"translateX(100px)","translateX(0px)"),tt.addAnimation(xn)}}),ke){const At=(0,l.c)(),tt=ke.querySelector(":scope > ion-content"),ct=ke.querySelectorAll(":scope > ion-header > ion-toolbar"),We=ke.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(tt||0!==ct.length||0!==We.length?(At.addElement(tt),At.addElement(We)):At.addElement(ke.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),ee.addAnimation(At),ot){At.beforeClearStyles([ue]).fromTo("transform",`translateX(${Se})`,z?"translateX(-100%)":"translateX(100%)");const De=(0,L.g)(ke);ee.afterAddWrite(()=>{"normal"===ee.getDirection()&&De.style.setProperty("display","none")})}else At.fromTo("transform",`translateX(${Se})`,`translateX(${Ge})`).fromTo(ue,1,.8);if(tt){const De=re(tt).querySelector(".transition-effect");if(De){const qe=De.querySelector(".transition-cover"),me=De.querySelector(".transition-shadow"),at=(0,l.c)(),Ct=(0,l.c)(),gt=(0,l.c)();at.addElement(De).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),Ct.addElement(qe).beforeClearStyles([ue]).fromTo(ue,.1,0),gt.addElement(me).beforeClearStyles([ue]).fromTo(ue,.7,.03),at.addAnimation([Ct,gt]),At.addAnimation([at])}}ct.forEach(De=>{const qe=(0,l.c)();qe.addElement(De);const me=(0,l.c)();me.addElement(De.querySelector("ion-title"));const at=(0,l.c)(),Ct=De.querySelectorAll("ion-buttons,[menuToggle]"),gt=De.closest("ion-header"),kt=gt?.classList.contains("header-collapse-condense-inactive"),tn=Array.from(Ct).filter(jn=>{const Qn=jn.classList.contains("buttons-collapse");return Qn&&!kt||!Qn});at.addElement(tn);const Jt=(0,l.c)(),xn=De.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");xn.length>0&&Jt.addElement(xn);const Ht=(0,l.c)();Ht.addElement(re(De).querySelector(".toolbar-background"));const _n=(0,l.c)(),Ar=De.querySelector("ion-back-button");if(Ar&&_n.addElement(Ar),qe.addAnimation([me,at,Jt,_n,Ht]),ee.addAnimation(qe),_n.fromTo(ue,.99,0),at.fromTo(ue,.99,0),Jt.fromTo(ue,.99,0),ot){if(kt||me.fromTo("transform",`translateX(${Se})`,z?"translateX(-100%)":"translateX(100%)").fromTo(ue,.99,0),Jt.fromTo("transform",`translateX(${Se})`,z?"translateX(-100%)":"translateX(100%)"),Ht.beforeClearStyles([ue,"transform"]),gt?.translucent?Ht.fromTo("transform","translateX(0px)",z?"translateX(-100%)":"translateX(100%)"):Ht.fromTo(ue,"var(--opacity)",0),Ar&&!mt){const Qn=(0,l.c)();Qn.addElement(re(Ar).querySelector(".button-text")).fromTo("transform",`translateX(${Se})`,`translateX(${(z?-124:124)+"px"})`),qe.addAnimation(Qn)}}else kt||me.fromTo("transform",`translateX(${Se})`,`translateX(${Ge})`).fromTo(ue,.99,0).afterClearStyles([le,ue]),Jt.fromTo("transform",`translateX(${Se})`,`translateX(${Ge})`).afterClearStyles([le,ue]),_n.afterClearStyles([ue]),me.afterClearStyles([ue]),at.afterClearStyles([ue])})}return ee}catch(Ke){throw Ke}}},5980:(zt,st,k)=>{"use strict";k.r(st),k.d(st,{mdTransitionAnimation:()=>Ie});var l=k(9442),L=k(9753);k(7205);const Ie=(be,re)=>{const ae="back"===re.direction,X=re.leavingEl,te=(0,L.g)(re.enteringEl),G=te.querySelector("ion-toolbar"),Re=(0,l.c)();if(Re.addElement(te).fill("both").beforeRemoveClass("ion-page-invisible"),ae?Re.duration(re.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):Re.duration(re.duration||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),G){const Ke=(0,l.c)();Ke.addElement(G),Re.addAnimation(Ke)}if(X&&ae){Re.duration(re.duration||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Ke=(0,l.c)();Ke.addElement((0,L.g)(X)).onFinish(ue=>{1===ue&&Ke.elements.length>0&&Ke.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),Re.addAnimation(Ke)}return Re}},3280:(zt,st,k)=>{"use strict";k.d(st,{B:()=>We,a:()=>we,b:()=>ae,c:()=>G,d:()=>_e,e:()=>Ke,f:()=>ee,g:()=>Ne,h:()=>re,i:()=>At,j:()=>Se,k:()=>ot,l:()=>Q,m:()=>X,s:()=>ct,t:()=>Re});var l=k(5861),L=k(5729),U=k(7593),Ie=k(3756);let be=0;const re=new WeakMap,ge=De=>({create:qe=>ue(De,qe),dismiss:(qe,me,at)=>lt(document,qe,me,De,at),getTop:()=>(0,l.Z)(function*(){return ot(document,De)})()}),we=ge("ion-alert"),ae=ge("ion-action-sheet"),Q=ge("ion-loading"),X=ge("ion-modal"),G=ge("ion-popover"),Re=ge("ion-toast"),Ke=De=>{typeof document<"u"&&Ge(document);const qe=be++;De.overlayIndex=qe,De.hasAttribute("id")||(De.id=`ion-overlay-${qe}`)},ue=(De,qe)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(De).then(()=>{const me=document.createElement(De);return me.classList.add("overlay-hidden"),Object.assign(me,Object.assign(Object.assign({},qe),{hasController:!0})),se(document).appendChild(me),new Promise(at=>(0,Ie.c)(me,at))}):Promise.resolve(),le='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',Se=(De,qe)=>{let me=De.querySelector(le);const at=me?.shadowRoot;at&&(me=at.querySelector(le)||me),me?(0,Ie.f)(me):qe.focus()},z=(De,qe)=>{const me=Array.from(De.querySelectorAll(le));let at=me.length>0?me[me.length-1]:null;const Ct=at?.shadowRoot;Ct&&(at=Ct.querySelector(le)||at),at?at.focus():qe.focus()},Ge=De=>{0===be&&(be=1,De.addEventListener("focus",qe=>{((De,qe)=>{const me=ot(qe,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),at=De.target;me&&at&&!me.classList.contains("ion-disable-focus-trap")&&(me.shadowRoot?(()=>{if(me.contains(at))me.lastFocus=at;else{const kt=me.lastFocus;Se(me,me),kt===qe.activeElement&&z(me,me),me.lastFocus=qe.activeElement}})():(()=>{if(me===at)me.lastFocus=void 0;else{const kt=(0,Ie.g)(me);if(!kt.contains(at))return;const tn=kt.querySelector(".ion-overlay-wrapper");if(!tn)return;if(tn.contains(at))me.lastFocus=at;else{const Jt=me.lastFocus;Se(tn,me),Jt===qe.activeElement&&z(tn,me),me.lastFocus=qe.activeElement}}})())})(qe,De)},!0),De.addEventListener("ionBackButton",qe=>{const me=ot(De);me?.backdropDismiss&&qe.detail.register(U.OVERLAY_BACK_BUTTON_PRIORITY,()=>me.dismiss(void 0,We))}),De.addEventListener("keyup",qe=>{if("Escape"===qe.key){const me=ot(De);me?.backdropDismiss&&me.dismiss(void 0,We)}}))},lt=(De,qe,me,at,Ct)=>{const gt=ot(De,at,Ct);return gt?gt.dismiss(qe,me):Promise.reject("overlay does not exist")},ot=(De,qe,me)=>{const at=((De,qe)=>(void 0===qe&&(qe="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(De.querySelectorAll(qe)).filter(me=>me.overlayIndex>0)))(De,qe).filter(Ct=>!(De=>De.classList.contains("overlay-hidden"))(Ct));return void 0===me?at[at.length-1]:at.find(Ct=>Ct.id===me)},fe=(De=!1)=>{const me=se(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");!me||(De?me.setAttribute("aria-hidden","true"):me.removeAttribute("aria-hidden"))},_e=function(){var De=(0,l.Z)(function*(qe,me,at,Ct,gt){var kt,tn;if(qe.presented)return;fe(!0),qe.presented=!0,qe.willPresent.emit(),null===(kt=qe.willPresentShorthand)||void 0===kt||kt.emit();const Jt=(0,L.b)(qe),xn=qe.enterAnimation?qe.enterAnimation:L.c.get(me,"ios"===Jt?at:Ct);(yield Me(qe,xn,qe.el,gt))&&(qe.didPresent.emit(),null===(tn=qe.didPresentShorthand)||void 0===tn||tn.emit()),"ION-TOAST"!==qe.el.tagName&&ce(qe.el),qe.keyboardClose&&(null===document.activeElement||!qe.el.contains(document.activeElement))&&qe.el.focus()});return function(me,at,Ct,gt,kt){return De.apply(this,arguments)}}(),ce=function(){var De=(0,l.Z)(function*(qe){let me=document.activeElement;if(!me)return;const at=me?.shadowRoot;at&&(me=at.querySelector(le)||me),yield qe.onDidDismiss(),me.focus()});return function(me){return De.apply(this,arguments)}}(),ee=function(){var De=(0,l.Z)(function*(qe,me,at,Ct,gt,kt,tn){var Jt,xn;if(!qe.presented)return!1;fe(!1),qe.presented=!1;try{qe.el.style.setProperty("pointer-events","none"),qe.willDismiss.emit({data:me,role:at}),null===(Jt=qe.willDismissShorthand)||void 0===Jt||Jt.emit({data:me,role:at});const Ht=(0,L.b)(qe),_n=qe.leaveAnimation?qe.leaveAnimation:L.c.get(Ct,"ios"===Ht?gt:kt);"gesture"!==at&&(yield Me(qe,_n,qe.el,tn)),qe.didDismiss.emit({data:me,role:at}),null===(xn=qe.didDismissShorthand)||void 0===xn||xn.emit({data:me,role:at}),re.delete(qe),qe.el.classList.add("overlay-hidden"),qe.el.style.removeProperty("pointer-events")}catch(Ht){console.error(Ht)}return qe.el.remove(),!0});return function(me,at,Ct,gt,kt,tn,Jt){return De.apply(this,arguments)}}(),se=De=>De.querySelector("ion-app")||De.body,Me=function(){var De=(0,l.Z)(function*(qe,me,at,Ct){at.classList.remove("overlay-hidden");const kt=me(qe.el,Ct);(!qe.animated||!L.c.getBoolean("animated",!0))&&kt.duration(0),qe.keyboardClose&&kt.beforeAddWrite(()=>{const Jt=at.ownerDocument.activeElement;Jt?.matches("input,ion-input, ion-textarea")&&Jt.blur()});const tn=re.get(qe)||[];return re.set(qe,[...tn,kt]),yield kt.play(),!0});return function(me,at,Ct,gt){return De.apply(this,arguments)}}(),Ne=(De,qe)=>{let me;const at=new Promise(Ct=>me=Ct);return mt(De,qe,Ct=>{me(Ct.detail)}),at},mt=(De,qe,me)=>{const at=Ct=>{(0,Ie.b)(De,qe,at),me(Ct)};(0,Ie.a)(De,qe,at)},At=De=>"cancel"===De||De===We,tt=De=>De(),ct=(De,qe)=>{if("function"==typeof De)return L.c.get("_zoneGate",tt)(()=>{try{return De(qe)}catch(at){throw at}})},We="backdrop"},7556:(zt,st,k)=>{"use strict";k.d(st,{e:()=>we});var l=k(5861),L=k(127),U=k(5062),Ie=k(4941),be=k(2796),re=k(1958),ge=k(4586);let we=(()=>{class ae{constructor(X,te,G,Re){this.afAuth=X,this.afs=te,this.router=G,this.storage=Re}register(X,te){var G=this;return(0,l.Z)(function*(){const Ke=(yield G.afAuth.createUserWithEmailAndPassword(X.email,te)).user.uid,ue={uid:Ke,email:X.email,name:X.name};return G.afs.doc(`users/${Ke}`).set(ue)})()}login(X,te){var G=this;return(0,l.Z)(function*(){yield G.afAuth.signInWithEmailAndPassword(X,te)})()}googleLogin(){var X=this;return(0,l.Z)(function*(){const te=new L.Z.auth.GoogleAuthProvider,G=yield X.afAuth.signInWithPopup(te),Re=G.user.uid,Ke={uid:Re,email:G.user.email,name:G.user.displayName};return X.afs.doc(`users/${Re}`).set(Ke)})()}facebookLogin(){var X=this;return(0,l.Z)(function*(){const te=new L.Z.auth.FacebookAuthProvider,G=yield X.afAuth.signInWithPopup(te),Re=G.user.uid,Ke={uid:Re,email:G.user.email,name:G.user.displayName};return X.afs.doc(`users/${Re}`).set(Ke)})()}getUserId(){var X=this;return(0,l.Z)(function*(){const te=yield X.afAuth.currentUser;if(!te)throw new Error("Usu\xe1rio n\xe3o autenticado");return te.uid})()}logout(){this.afAuth.signOut().then(()=>{this.router.navigate(["/welcome"])})}getCurrentUser(){return this.afAuth.authState}updateUserName(X){var te=this;return(0,l.Z)(function*(){const G=yield te.afAuth.currentUser;if(!G)throw new Error("Usu\xe1rio n\xe3o autenticado");yield G.updateProfile({displayName:X});const Re=G.uid,Ke={uid:Re,email:G.email,name:X};return te.afs.doc(`users/${Re}`).set(Ke,{merge:!0})})()}updateUserPassword(X){var te=this;return(0,l.Z)(function*(){const G=yield te.afAuth.currentUser;if(!G)throw new Error("Usu\xe1rio n\xe3o autenticado");return G.updatePassword(X)})()}}return ae.\u0275fac=function(X){return new(X||ae)(U.LFG(Ie.zQ),U.LFG(be.ST),U.LFG(re.F0),U.LFG(ge.Q1))},ae.\u0275prov=U.Yz7({token:ae,factory:ae.\u0275fac,providedIn:"root"}),ae})()},8505:(zt,st,k)=>{"use strict";k.d(st,{p:()=>re});var l=k(5861),L=k(127),U=k(5062),Ie=k(2796),be=k(7556);let re=(()=>{class ge{constructor(ae,Q){this.afs=ae,this.authService=Q,this.authService.getCurrentUser().subscribe(X=>{X&&(this.userId=X.uid,this.transactionsCollection=this.afs.collection(`users/${this.userId}/transactions`))})}getUserName(ae){var Q=this;return(0,l.Z)(function*(){const X=yield Q.afs.doc(`users/${ae}`).get().toPromise();if(!X.exists)throw new Error(`User with ID ${ae} not found`);return X.data().name})()}getTransactions(ae){return this.afs.collection(`users/${ae}/transactions`).valueChanges({idField:"id"})}getTransaction(ae){return this.transactionsCollection.doc(ae).valueChanges()}createTransaction(ae){var Q=this;return(0,l.Z)(function*(){const X=L.Z.auth().currentUser?.uid;if(!X)throw new Error("User not authenticated");return yield Q.afs.collection(`users/${X}/transactions`).add(ae)})()}updateTran(ae,Q){return this.transactionsCollection.doc(ae).update(Q)}deleteTransaction(ae){return this.transactionsCollection.doc(ae).delete().catch(Q=>{console.log("Erro ao excluir transa\xe7\xe3o: ",Q)})}getUserId(){var ae=this;return(0,l.Z)(function*(){return(yield ae.authService.getCurrentUser().toPromise()).uid})()}}return ge.\u0275fac=function(ae){return new(ae||ge)(U.LFG(Ie.ST),U.LFG(be.e))},ge.\u0275prov=U.Yz7({token:ge,factory:ge.\u0275fac,providedIn:"root"}),ge})()},2513:(zt,st,k)=>{"use strict";var l=k(1481),L=k(5062),U=k(1958),Ie=k(931),be=k(5861),re=k(8505),ge=k(7556),we=k(4941);let ae=(()=>{class le{constructor(Ae,z,et,Ge,lt,ke,ot){this.transactionService=Ae,this.authService=z,this.router=et,this.afAuth=Ge,this.loadingCtrl=lt,this.toastCtrl=ke,this.alertCtrl=ot}ngOnInit(){var Ae=this;return(0,be.Z)(function*(){Ae.userId=yield Ae.authService.getUserId(),Ae.transactionService.getUserName(Ae.userId).then(z=>{Ae.userName=z}).catch(z=>{console.log(z)})})()}confirmLogout(){var Ae=this;return(0,be.Z)(function*(){yield(yield Ae.alertCtrl.create({header:"Confirma\xe7\xe3o",message:"Deseja realmente sair?",buttons:[{text:"N\xe3o",role:"cancel"},{text:"Sim",handler:()=>{Ae.logout()}}]})).present()})()}about(){var Ae=this;return(0,be.Z)(function*(){yield(yield Ae.alertCtrl.create({message:"Desenvolvido por Matheus Sutil de Gasperi",buttons:["OK"]})).present()})()}logout(){var Ae=this;return(0,be.Z)(function*(){yield Ae.presentLoading();try{yield Ae.authService.logout()}catch(z){console.error(z)}finally{Ae.loading.dismiss()}})()}presentLoading(){var Ae=this;return(0,be.Z)(function*(){return Ae.loading=yield Ae.loadingCtrl.create({message:"Aguarde..."}),Ae.loading.present()})()}}return le.\u0275fac=function(Ae){return new(Ae||le)(L.Y36(re.p),L.Y36(ge.e),L.Y36(U.F0),L.Y36(we.zQ),L.Y36(Ie.HT),L.Y36(Ie.yF),L.Y36(Ie.Br))},le.\u0275cmp=L.Xpm({type:le,selectors:[["app-root"]],decls:22,vars:0,consts:[["menuId","main-menu","contentId","main"],[1,"menu-header-bg"],[1,"header-content"],["lines","none",1,"menu-items"],["routerLink","/profile"],["name","person"],["name","alert-circle",3,"click"],["color","danger","expand","block",3,"click"],["name","exit-outline"],["id","main"]],template:function(Ae,z){1&Ae&&(L.TgZ(0,"ion-app")(1,"ion-menu",0)(2,"ion-content"),L._UZ(3,"div",1),L.TgZ(4,"div",2)(5,"ion-label")(6,"h1"),L._uU(7,"Menu"),L.qZA()()(),L.TgZ(8,"ion-list",3)(9,"ion-menu-toggle")(10,"ion-item",4),L._UZ(11,"ion-icon",5),L._uU(12,"Perfil "),L.qZA()(),L.TgZ(13,"ion-menu-toggle")(14,"ion-item")(15,"ion-icon",6),L.NdJ("click",function(){return z.about()}),L.qZA(),L._uU(16,"Sobre "),L.qZA(),L.TgZ(17,"ion-item")(18,"ion-button",7),L.NdJ("click",function(){return z.confirmLogout()}),L._UZ(19,"ion-icon",8),L._uU(20,"Sair "),L.qZA()()()()()(),L._UZ(21,"ion-router-outlet",9),L.qZA())},dependencies:[Ie.dr,Ie.YG,Ie.W2,Ie.gu,Ie.Ie,Ie.Q$,Ie.q_,Ie.z0,Ie.zc,Ie.jP,Ie.YI,U.rH],styles:[".menu-header-bg[_ngcontent-%COMP%]{height:180px;width:350px;background-color:#7972e6;transform:rotate(-15deg);border-radius:10px 10px 10px 50px;margin-left:-18px;margin-top:-50px;margin-bottom:60px}.header-content[_ngcontent-%COMP%]{position:absolute;top:30px;left:15px;display:flex;align-items:center}.header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-left:20px;margin-top:20px;font-size:22px;font-weight:300;color:#fff}.header-content[_ngcontent-%COMP%]   ion-menu-toggle[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]:first-child   ion-icon[_ngcontent-%COMP%]{font-size:5px;margin-top:90px;margin-right:20px;color:#7972e6}.header-content[_ngcontent-%COMP%]   ion-menu-toggle[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]:last-child   ion-icon[_ngcontent-%COMP%]{font-size:12px;margin-right:20px;color:#7972e6}.header-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;color:#e4e4e4;font-weight:100;letter-spacing:.4px}"]}),le})();var Q=k(4850);let X=(()=>{class le{constructor(Ae,z){this.afAuth=Ae,this.router=z}canActivate(){return this.afAuth.authState.pipe((0,Q.U)(Ae=>!!Ae||(this.router.navigate(["/login"]),!1)))}}return le.\u0275fac=function(Ae){return new(Ae||le)(L.LFG(we.zQ),L.LFG(U.F0))},le.\u0275prov=L.Yz7({token:le,factory:le.\u0275fac,providedIn:"root"}),le})();const te=[{path:"home",loadChildren:()=>k.e(4851).then(k.bind(k,4851)).then(le=>le.HomePageModule)},{path:"",redirectTo:"welcome",pathMatch:"full"},{path:"login",loadChildren:()=>Promise.all([k.e(8592),k.e(8802)]).then(k.bind(k,8802)).then(le=>le.LoginPageModule)},{path:"details/:id",loadChildren:()=>k.e(1333).then(k.bind(k,1333)).then(le=>le.DetailsPageModule),canActivate:[X]},{path:"details",loadChildren:()=>k.e(1333).then(k.bind(k,1333)).then(le=>le.DetailsPageModule),canActivate:[X]},{path:"teste",loadChildren:()=>k.e(9342).then(k.bind(k,9342)).then(le=>le.TestePageModule),canActivate:[X]},{path:"register",loadChildren:()=>k.e(7563).then(k.bind(k,7563)).then(le=>le.RegisterPageModule)},{path:"welcome",loadChildren:()=>k.e(7188).then(k.bind(k,7188)).then(le=>le.WelcomePageModule)},{path:"profile",loadChildren:()=>k.e(4671).then(k.bind(k,4671)).then(le=>le.ProfilePageModule)},{path:"resetpassword",loadChildren:()=>Promise.all([k.e(8592),k.e(6196)]).then(k.bind(k,6196)).then(le=>le.ResetpasswordPageModule)}];let G=(()=>{class le{}return le.\u0275fac=function(Ae){return new(Ae||le)},le.\u0275mod=L.oAB({type:le}),le.\u0275inj=L.cJS({imports:[U.Bz.forRoot(te,{preloadingStrategy:U.wm}),U.Bz]}),le})();var Re=k(2011);const Ke_firebase={apiKey:"AIzaSyDHhvr8xc-Y0H7Xtl9JE-VwJgsKQL5Jbos",authDomain:"matheusapp-969ee.firebaseapp.com",projectId:"matheusapp-969ee",storageBucket:"matheusapp-969ee.appspot.com",messagingSenderId:"219506145731",appId:"1:219506145731:web:b46fb0a931899f60f6e576",measurementId:"G-54S3NG9N2X"};let ue=(()=>{class le{}return le.\u0275fac=function(Ae){return new(Ae||le)},le.\u0275mod=L.oAB({type:le,bootstrap:[ae]}),le.\u0275inj=L.cJS({providers:[ge.e,{provide:U.wN,useClass:Ie.r4}],imports:[l.b2,Ie.Pc.forRoot(),G,Re.hO.initializeApp(Ke_firebase),we.ww]}),le})();(0,L.G48)(),l.q6().bootstrapModule(ue).catch(le=>console.log(le))},5867:(zt,st,k)=>{"use strict";k.d(st,{C6:()=>l.getApps,Mq:()=>l.getApp});var l=k(9681);(0,l.registerVersion)("firebase","9.8.4","app")},127:(zt,st,k)=>{"use strict";k.d(st,{Z:()=>l.Z});var l=k(3942);l.Z.registerVersion("firebase","9.8.4","app-compat")},3677:(zt,st,k)=>{"use strict";k.r(st);var l=k(5861),L=k(3942),U=k(2090),Ie=k(9681),be=k(655),re=k(1877),ge=k(4859);const Ke=function G(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ue=function Re(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},le=new U.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ae=new re.Yd("@firebase/auth");function z(b,...p){Ae.logLevel<=re.in.ERROR&&Ae.error(`Auth (${Ie.SDK_VERSION}): ${b}`,...p)}function et(b,...p){throw ot(b,...p)}function Ge(b,...p){return ot(b,...p)}function lt(b,p,y){const C=Object.assign(Object.assign({},ue()),{[p]:y});return new U.LL("auth","Firebase",C).create(p,{appName:b.name})}function ke(b,p,y){if(!(p instanceof y))throw y.name!==p.constructor.name&&et(b,"argument-error"),lt(b,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ot(b,...p){if("string"!=typeof b){const y=p[0],C=[...p.slice(1)];return C[0]&&(C[0].appName=b.name),b._errorFactory.create(y,...C)}return le.create(b,...p)}function fe(b,p,...y){if(!b)throw ot(p,...y)}function _e(b){const p="INTERNAL ASSERTION FAILED: "+b;throw z(p),new Error(p)}function ce(b,p){b||_e(p)}const ee=new Map;function se(b){ce(b instanceof Function,"Expected a class definition");let p=ee.get(b);return p?(ce(p instanceof b,"Instance stored in cache mismatched with class"),p):(p=new b,ee.set(b,p),p)}function mt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function At(){return"http:"===tt()||"https:"===tt()}function tt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class De{constructor(p,y){this.shortDelay=p,this.longDelay=y,ce(y>p,"Short delay should be less than long delay!"),this.isMobile=(0,U.uI)()||(0,U.b$)()}get(){return function ct(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(At()||(0,U.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function qe(b,p){ce(b.emulator,"Emulator should always be set here");const{url:y}=b.emulator;return p?`${y}${p.startsWith("/")?p.slice(1):p}`:y}class me{static initialize(p,y,C){this.fetchImpl=p,y&&(this.headersImpl=y),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void _e("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void _e("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void _e("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const at={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Ct=new De(3e4,6e4);function gt(b,p){return b.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:b.tenantId}):p}function kt(b,p,y,C){return tn.apply(this,arguments)}function tn(){return(tn=(0,l.Z)(function*(b,p,y,C,j={}){return Jt(b,j,(0,l.Z)(function*(){let ne={},Ze={};C&&("GET"===p?Ze=C:ne={body:JSON.stringify(C)});const Dt=(0,U.xO)(Object.assign({key:b.config.apiKey},Ze)).slice(1),Qt=yield b._getAdditionalHeaders();return Qt["Content-Type"]="application/json",b.languageCode&&(Qt["X-Firebase-Locale"]=b.languageCode),me.fetch()(Ar(b,b.config.apiHost,y,Dt),Object.assign({method:p,headers:Qt,referrerPolicy:"no-referrer"},ne))}))})).apply(this,arguments)}function Jt(b,p,y){return xn.apply(this,arguments)}function xn(){return(xn=(0,l.Z)(function*(b,p,y){b._canInitEmulator=!1;const C=Object.assign(Object.assign({},at),p);try{const j=new jn(b),ne=yield Promise.race([y(),j.promise]);j.clearNetworkTimeout();const Ze=yield ne.json();if("needConfirmation"in Ze)throw Qn(b,"account-exists-with-different-credential",Ze);if(ne.ok&&!("errorMessage"in Ze))return Ze;{const Dt=ne.ok?Ze.errorMessage:Ze.error.message,[Qt,En]=Dt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Qt)throw Qn(b,"credential-already-in-use",Ze);if("EMAIL_EXISTS"===Qt)throw Qn(b,"email-already-in-use",Ze);if("USER_DISABLED"===Qt)throw Qn(b,"user-disabled",Ze);const Xn=C[Qt]||Qt.toLowerCase().replace(/[_\s]+/g,"-");if(En)throw lt(b,Xn,En);et(b,Xn)}}catch(j){if(j instanceof U.ZR)throw j;et(b,"network-request-failed")}})).apply(this,arguments)}function Ht(b,p,y,C){return _n.apply(this,arguments)}function _n(){return(_n=(0,l.Z)(function*(b,p,y,C,j={}){const ne=yield kt(b,p,y,C,j);return"mfaPendingCredential"in ne&&et(b,"multi-factor-auth-required",{_serverResponse:ne}),ne})).apply(this,arguments)}function Ar(b,p,y,C){const j=`${p}${y}?${C}`;return b.config.emulator?qe(b.config,j):`${b.config.apiScheme}://${j}`}class jn{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((y,C)=>{this.timer=setTimeout(()=>C(Ge(this.auth,"network-request-failed")),Ct.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Qn(b,p,y){const C={appName:b.name};y.email&&(C.email=y.email),y.phoneNumber&&(C.phoneNumber=y.phoneNumber);const j=Ge(b,p,C);return j.customData._tokenResponse=y,j}function Dn(){return(Dn=(0,l.Z)(function*(b,p){return kt(b,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function An(b,p){return zn.apply(this,arguments)}function zn(){return(zn=(0,l.Z)(function*(b,p){return kt(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Vn(b,p){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,l.Z)(function*(b,p){return kt(b,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function or(b){if(b)try{const p=new Date(Number(b));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Bt(){return(Bt=(0,l.Z)(function*(b,p=!1){const y=(0,U.m9)(b),C=yield y.getIdToken(p),j=Kt(C);fe(j&&j.exp&&j.auth_time&&j.iat,y.auth,"internal-error");const ne="object"==typeof j.firebase?j.firebase:void 0,Ze=ne?.sign_in_provider;return{claims:j,token:C,authTime:or(Wn(j.auth_time)),issuedAtTime:or(Wn(j.iat)),expirationTime:or(Wn(j.exp)),signInProvider:Ze||null,signInSecondFactor:ne?.sign_in_second_factor||null}})).apply(this,arguments)}function Wn(b){return 1e3*Number(b)}function Kt(b){var p;const[y,C,j]=b.split(".");if(void 0===y||void 0===C||void 0===j)return z("JWT malformed, contained fewer than 3 sections"),null;try{const ne=(0,U.tV)(C);return ne?JSON.parse(ne):(z("Failed to decode base64 JWT payload"),null)}catch(ne){return z("Caught error parsing JWT payload as JSON",null===(p=ne)||void 0===p?void 0:p.toString()),null}}function Er(b,p){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,l.Z)(function*(b,p,y=!1){if(y)return p;try{return yield p}catch(C){throw C instanceof U.ZR&&kn(C)&&b.auth.currentUser===b&&(yield b.auth.signOut()),C}})).apply(this,arguments)}function kn({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class qn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var y;if(p){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const j=(null!==(y=this.user.stsTokenManager.expirationTime)&&void 0!==y?y:0)-Date.now()-3e5;return Math.max(0,j)}}schedule(p=!1){var y=this;if(!this.isRunning)return;const C=this.getInterval(p);this.timerId=setTimeout((0,l.Z)(function*(){yield y.iteration()}),C)}iteration(){var p=this;return(0,l.Z)(function*(){var y;try{yield p.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===(null===(y=C)||void 0===y?void 0:y.code)&&p.schedule(!0))}p.schedule()})()}}class hr{constructor(p,y){this.createdAt=p,this.lastLoginAt=y,this._initializeTime()}_initializeTime(){this.lastSignInTime=or(this.lastLoginAt),this.creationTime=or(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Pr(b){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,l.Z)(function*(b){var p;const y=b.auth,C=yield b.getIdToken(),j=yield Er(b,Vn(y,{idToken:C}));fe(j?.users.length,y,"internal-error");const ne=j.users[0];b._notifyReloadListener(ne);const Ze=null!==(p=ne.providerUserInfo)&&void 0!==p&&p.length?Le(ne.providerUserInfo):[],Dt=Je(b.providerData,Ze),Xn=!!b.isAnonymous&&!(b.email&&ne.passwordHash||Dt?.length),Gn={uid:ne.localId,displayName:ne.displayName||null,photoURL:ne.photoUrl||null,email:ne.email||null,emailVerified:ne.emailVerified||!1,phoneNumber:ne.phoneNumber||null,tenantId:ne.tenantId||null,providerData:Dt,metadata:new hr(ne.createdAt,ne.lastLoginAt),isAnonymous:Xn};Object.assign(b,Gn)})).apply(this,arguments)}function Ce(){return(Ce=(0,l.Z)(function*(b){const p=(0,U.m9)(b);yield Pr(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Je(b,p){return[...b.filter(C=>!p.some(j=>j.providerId===C.providerId)),...p]}function Le(b){return b.map(p=>{var{providerId:y}=p,C=(0,be._T)(p,["providerId"]);return{providerId:y,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function yt(){return(yt=(0,l.Z)(function*(b,p){const y=yield Jt(b,{},(0,l.Z)(function*(){const C=(0,U.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:j,apiKey:ne}=b.config,Ze=Ar(b,j,"/v1/token",`key=${ne}`),Dt=yield b._getAdditionalHeaders();return Dt["Content-Type"]="application/x-www-form-urlencoded",me.fetch()(Ze,{method:"POST",headers:Dt,body:C})}));return{accessToken:y.access_token,expiresIn:y.expires_in,refreshToken:y.refresh_token}})).apply(this,arguments)}class Mt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){fe(p.idToken,"internal-error"),fe(typeof p.idToken<"u","internal-error"),fe(typeof p.refreshToken<"u","internal-error");const y="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function sn(b){const p=Kt(b);return fe(p,"internal-error"),fe(typeof p.exp<"u","internal-error"),fe(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,y)}getToken(p,y=!1){var C=this;return(0,l.Z)(function*(){return fe(!C.accessToken||C.refreshToken,p,"user-token-expired"),y||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(p,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,y){var C=this;return(0,l.Z)(function*(){const{accessToken:j,refreshToken:ne,expiresIn:Ze}=yield function Ee(b,p){return yt.apply(this,arguments)}(p,y);C.updateTokensAndExpiration(j,ne,Number(Ze))})()}updateTokensAndExpiration(p,y,C){this.refreshToken=y||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(p,y){const{refreshToken:C,accessToken:j,expirationTime:ne}=y,Ze=new Mt;return C&&(fe("string"==typeof C,"internal-error",{appName:p}),Ze.refreshToken=C),j&&(fe("string"==typeof j,"internal-error",{appName:p}),Ze.accessToken=j),ne&&(fe("number"==typeof ne,"internal-error",{appName:p}),Ze.expirationTime=ne),Ze}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Mt,this.toJSON())}_performRefresh(){return _e("not implemented")}}function $t(b,p){fe("string"==typeof b||typeof b>"u","internal-error",{appName:p})}class un{constructor(p){var{uid:y,auth:C,stsTokenManager:j}=p,ne=(0,be._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=y,this.auth=C,this.stsTokenManager=j,this.accessToken=j.accessToken,this.displayName=ne.displayName||null,this.email=ne.email||null,this.emailVerified=ne.emailVerified||!1,this.phoneNumber=ne.phoneNumber||null,this.photoURL=ne.photoURL||null,this.isAnonymous=ne.isAnonymous||!1,this.tenantId=ne.tenantId||null,this.providerData=ne.providerData?[...ne.providerData]:[],this.metadata=new hr(ne.createdAt||void 0,ne.lastLoginAt||void 0)}getIdToken(p){var y=this;return(0,l.Z)(function*(){const C=yield Er(y,y.stsTokenManager.getToken(y.auth,p));return fe(C,y.auth,"internal-error"),y.accessToken!==C&&(y.accessToken=C,yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)),C})()}getIdTokenResult(p){return function mr(b){return Bt.apply(this,arguments)}(this,p)}reload(){return function Fe(b){return Ce.apply(this,arguments)}(this)}_assign(p){this!==p&&(fe(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(y=>Object.assign({},y)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new un(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,y=!1){var C=this;return(0,l.Z)(function*(){let j=!1;p.idToken&&p.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(p),j=!0),y&&(yield Pr(C)),yield C.auth._persistUserIfCurrent(C),j&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var p=this;return(0,l.Z)(function*(){const y=yield p.getIdToken();return yield Er(p,function gn(b,p){return Dn.apply(this,arguments)}(p.auth,{idToken:y})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,y){var C,j,ne,Ze,Dt,Qt,En,Xn;const Gn=null!==(C=y.displayName)&&void 0!==C?C:void 0,Is=null!==(j=y.email)&&void 0!==j?j:void 0,ko=null!==(ne=y.phoneNumber)&&void 0!==ne?ne:void 0,wl=null!==(Ze=y.photoURL)&&void 0!==Ze?Ze:void 0,Sh=null!==(Dt=y.tenantId)&&void 0!==Dt?Dt:void 0,sc=null!==(Qt=y._redirectEventId)&&void 0!==Qt?Qt:void 0,Eu=null!==(En=y.createdAt)&&void 0!==En?En:void 0,pa=null!==(Xn=y.lastLoginAt)&&void 0!==Xn?Xn:void 0,{uid:nu,emailVerified:Xu,isAnonymous:Gf,providerData:oc,stsTokenManager:zf}=y;fe(nu&&zf,p,"internal-error");const Qo=Mt.fromJSON(this.name,zf);fe("string"==typeof nu,p,"internal-error"),$t(Gn,p.name),$t(Is,p.name),fe("boolean"==typeof Xu,p,"internal-error"),fe("boolean"==typeof Gf,p,"internal-error"),$t(ko,p.name),$t(wl,p.name),$t(Sh,p.name),$t(sc,p.name),$t(Eu,p.name),$t(pa,p.name);const As=new un({uid:nu,auth:p,email:Is,emailVerified:Xu,displayName:Gn,isAnonymous:Gf,photoURL:wl,phoneNumber:ko,tenantId:Sh,stsTokenManager:Qo,createdAt:Eu,lastLoginAt:pa});return oc&&Array.isArray(oc)&&(As.providerData=oc.map(dd=>Object.assign({},dd))),sc&&(As._redirectEventId=sc),As}static _fromIdTokenResponse(p,y,C=!1){return(0,l.Z)(function*(){const j=new Mt;j.updateFromServerResponse(y);const ne=new un({uid:y.localId,auth:p,stsTokenManager:j,isAnonymous:C});return yield Pr(ne),ne})()}}const Ln=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(y,C){var j=this;return(0,l.Z)(function*(){j.storage[y]=C})()}_get(y){var C=this;return(0,l.Z)(function*(){const j=C.storage[y];return void 0===j?null:j})()}_remove(y){var C=this;return(0,l.Z)(function*(){delete C.storage[y]})()}_addListener(y,C){}_removeListener(y,C){}}return b.type="NONE",b})();function rn(b,p,y){return`firebase:${b}:${p}:${y}`}class rr{constructor(p,y,C){this.persistence=p,this.auth=y,this.userKey=C;const{config:j,name:ne}=this.auth;this.fullUserKey=rn(this.userKey,j.apiKey,ne),this.fullPersistenceKey=rn("persistence",j.apiKey,ne),this.boundEventHandler=y._onStorageEvent.bind(y),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,l.Z)(function*(){const y=yield p.persistence._get(p.fullUserKey);return y?un._fromJSON(p.auth,y):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var y=this;return(0,l.Z)(function*(){if(y.persistence===p)return;const C=yield y.getCurrentUser();return yield y.removeCurrentUser(),y.persistence=p,C?y.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,y,C="authUser"){return(0,l.Z)(function*(){if(!y.length)return new rr(se(Ln),p,C);const j=(yield Promise.all(y.map(function(){var En=(0,l.Z)(function*(Xn){if(yield Xn._isAvailable())return Xn});return function(Xn){return En.apply(this,arguments)}}()))).filter(En=>En);let ne=j[0]||se(Ln);const Ze=rn(C,p.config.apiKey,p.name);let Dt=null;for(const En of y)try{const Xn=yield En._get(Ze);if(Xn){const Gn=un._fromJSON(p,Xn);En!==ne&&(Dt=Gn),ne=En;break}}catch{}const Qt=j.filter(En=>En._shouldAllowMigration);return ne._shouldAllowMigration&&Qt.length?(ne=Qt[0],Dt&&(yield ne._set(Ze,Dt.toJSON())),yield Promise.all(y.map(function(){var En=(0,l.Z)(function*(Xn){if(Xn!==ne)try{yield Xn._remove(Ze)}catch{}});return function(Xn){return En.apply(this,arguments)}}())),new rr(ne,p,C)):new rr(ne,p,C)})()}}function ar(b){const p=b.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(xr(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(jr(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(kr(p))return"Blackberry";if(it(p))return"Webos";if(gi(p))return"Safari";if((p.includes("chrome/")||er(p))&&!p.includes("edge/"))return"Chrome";if(Yn(p))return"Android";{const C=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function jr(b=(0,U.z$)()){return/firefox\//i.test(b)}function gi(b=(0,U.z$)()){const p=b.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function er(b=(0,U.z$)()){return/crios\//i.test(b)}function xr(b=(0,U.z$)()){return/iemobile/i.test(b)}function Yn(b=(0,U.z$)()){return/android/i.test(b)}function kr(b=(0,U.z$)()){return/blackberry/i.test(b)}function it(b=(0,U.z$)()){return/webos/i.test(b)}function Oe(b=(0,U.z$)()){return/iphone|ipad|ipod/i.test(b)}function Wt(b=(0,U.z$)()){return Oe(b)||Yn(b)||it(b)||kr(b)||/windows phone/i.test(b)||xr(b)}function Sn(b,p=[]){let y;switch(b){case"Browser":y=ar((0,U.z$)());break;case"Worker":y=`${ar((0,U.z$)())}-${b}`;break;default:y=b}const C=p.length?p.join(","):"FirebaseCore-web";return`${y}/JsCore/${Ie.SDK_VERSION}/${C}`}class Tn{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,y){const C=ne=>new Promise((Ze,Dt)=>{try{Ze(p(ne))}catch(Qt){Dt(Qt)}});C.onAbort=y,this.queue.push(C);const j=this.queue.length-1;return()=>{this.queue[j]=()=>Promise.resolve()}}runMiddleware(p){var y=this;return(0,l.Z)(function*(){var C;if(y.auth.currentUser===p)return;const j=[];try{for(const ne of y.queue)yield ne(p),ne.onAbort&&j.push(ne.onAbort)}catch(ne){j.reverse();for(const Ze of j)try{Ze()}catch{}throw y.auth._errorFactory.create("login-blocked",{originalMessage:null===(C=ne)||void 0===C?void 0:C.message})}})()}}class Zt{constructor(p,y,C){this.app=p,this.heartbeatServiceProvider=y,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dr(this),this.idTokenSubscription=new Dr(this),this.beforeStateQueue=new Tn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=le,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(p,y){var C=this;return y&&(this._popupRedirectResolver=se(y)),this._initializationPromise=this.queue((0,l.Z)(function*(){var j,ne;if(!C._deleted&&(C.persistenceManager=yield rr.create(C,p),!C._deleted)){if(null!==(j=C._popupRedirectResolver)&&void 0!==j&&j._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(y),C.lastNotifiedUid=(null===(ne=C.currentUser)||void 0===ne?void 0:ne.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,l.Z)(function*(){if(p._deleted)return;const y=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||y){if(p.currentUser&&y&&p.currentUser.uid===y.uid)return p._currentUser._assign(y),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(y,!0)}})()}initializeCurrentUser(p){var y=this;return(0,l.Z)(function*(){var C;const j=yield y.assertedPersistence.getCurrentUser();let ne=j,Ze=!1;if(p&&y.config.authDomain){yield y.getOrInitRedirectPersistenceManager();const Dt=null===(C=y.redirectUser)||void 0===C?void 0:C._redirectEventId,Qt=ne?._redirectEventId,En=yield y.tryRedirectSignIn(p);(!Dt||Dt===Qt)&&En?.user&&(ne=En.user,Ze=!0)}if(!ne)return y.directlySetCurrentUser(null);if(!ne._redirectEventId){if(Ze)try{yield y.beforeStateQueue.runMiddleware(ne)}catch(Dt){ne=j,y._popupRedirectResolver._overrideRedirectResult(y,()=>Promise.reject(Dt))}return ne?y.reloadAndSetCurrentUserOrClear(ne):y.directlySetCurrentUser(null)}return fe(y._popupRedirectResolver,y,"argument-error"),yield y.getOrInitRedirectPersistenceManager(),y.redirectUser&&y.redirectUser._redirectEventId===ne._redirectEventId?y.directlySetCurrentUser(ne):y.reloadAndSetCurrentUserOrClear(ne)})()}tryRedirectSignIn(p){var y=this;return(0,l.Z)(function*(){let C=null;try{C=yield y._popupRedirectResolver._completeRedirectFn(y,p,!0)}catch{yield y._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(p){var y=this;return(0,l.Z)(function*(){var C;try{yield Pr(p)}catch(j){if("auth/network-request-failed"!==(null===(C=j)||void 0===C?void 0:C.code))return y.directlySetCurrentUser(null)}return y.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function We(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var p=this;return(0,l.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var y=this;return(0,l.Z)(function*(){const C=p?(0,U.m9)(p):null;return C&&fe(C.auth.config.apiKey===y.config.apiKey,y,"invalid-user-token"),y._updateCurrentUser(C&&C._clone(y))})()}_updateCurrentUser(p,y=!1){var C=this;return(0,l.Z)(function*(){if(!C._deleted)return p&&fe(C.tenantId===p.tenantId,C,"tenant-id-mismatch"),y||(yield C.beforeStateQueue.runMiddleware(p)),C.queue((0,l.Z)(function*(){yield C.directlySetCurrentUser(p),C.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,l.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var y=this;return this.queue((0,l.Z)(function*(){yield y.assertedPersistence.setPersistence(se(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new U.LL("auth","Firebase",p())}onAuthStateChanged(p,y,C){return this.registerStateListener(this.authStateSubscription,p,y,C)}beforeAuthStateChanged(p,y){return this.beforeStateQueue.pushCallback(p,y)}onIdTokenChanged(p,y,C){return this.registerStateListener(this.idTokenSubscription,p,y,C)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,y){var C=this;return(0,l.Z)(function*(){const j=yield C.getOrInitRedirectPersistenceManager(y);return null===p?j.removeCurrentUser():j.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var y=this;return(0,l.Z)(function*(){if(!y.redirectPersistenceManager){const C=p&&se(p)||y._popupRedirectResolver;fe(C,y,"argument-error"),y.redirectPersistenceManager=yield rr.create(y,[se(C._redirectPersistence)],"redirectUser"),y.redirectUser=yield y.redirectPersistenceManager.getCurrentUser()}return y.redirectPersistenceManager})()}_redirectUserForId(p){var y=this;return(0,l.Z)(function*(){var C,j;return y._isInitialized&&(yield y.queue((0,l.Z)(function*(){}))),(null===(C=y._currentUser)||void 0===C?void 0:C._redirectEventId)===p?y._currentUser:(null===(j=y.redirectUser)||void 0===j?void 0:j._redirectEventId)===p?y.redirectUser:null})()}_persistUserIfCurrent(p){var y=this;return(0,l.Z)(function*(){if(p===y.currentUser)return y.queue((0,l.Z)(function*(){return y.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,y;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(y=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==y?y:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,y,C,j){if(this._deleted)return()=>{};const ne="function"==typeof y?y:y.next.bind(y),Ze=this._isInitialized?Promise.resolve():this._initializationPromise;return fe(Ze,this,"internal-error"),Ze.then(()=>ne(this.currentUser)),"function"==typeof y?p.addObserver(y,C,j):p.addObserver(y)}directlySetCurrentUser(p){var y=this;return(0,l.Z)(function*(){y.currentUser&&y.currentUser!==p&&(y._currentUser._stopProactiveRefresh(),p&&y.isProactiveRefreshEnabled&&p._startProactiveRefresh()),y.currentUser=p,p?yield y.assertedPersistence.setCurrentUser(p):yield y.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Sn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,l.Z)(function*(){var y;const C={"X-Client-Version":p.clientVersion};p.app.options.appId&&(C["X-Firebase-gmpid"]=p.app.options.appId);const j=yield null===(y=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===y?void 0:y.getHeartbeatsHeader();return j&&(C["X-Firebase-Client"]=j),C})()}}function an(b){return(0,U.m9)(b)}class Dr{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,U.ne)(y=>this.observer=y)}get next(){return fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function vn(b){const p=b.indexOf(":");return p<0?"":b.substr(0,p+1)}function ui(b){if(!b)return null;const p=Number(b);return isNaN(p)?null:p}class Vr{constructor(p,y){this.providerId=p,this.signInMethod=y}toJSON(){return _e("not implemented")}_getIdTokenResponse(p){return _e("not implemented")}_linkToIdToken(p,y){return _e("not implemented")}_getReauthenticationResolver(p){return _e("not implemented")}}function Hn(b,p){return qr.apply(this,arguments)}function qr(){return(qr=(0,l.Z)(function*(b,p){return kt(b,"POST","/v1/accounts:resetPassword",gt(b,p))})).apply(this,arguments)}function ni(b,p){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,l.Z)(function*(b,p){return kt(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Nr(b,p){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,l.Z)(function*(b,p){return kt(b,"POST","/v1/accounts:update",gt(b,p))})).apply(this,arguments)}function Ii(){return(Ii=(0,l.Z)(function*(b,p){return Ht(b,"POST","/v1/accounts:signInWithPassword",gt(b,p))})).apply(this,arguments)}function Yr(b,p){return q.apply(this,arguments)}function q(){return(q=(0,l.Z)(function*(b,p){return kt(b,"POST","/v1/accounts:sendOobCode",gt(b,p))})).apply(this,arguments)}function de(b,p){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,l.Z)(function*(b,p){return Yr(b,p)})).apply(this,arguments)}function Xe(b,p){return he.apply(this,arguments)}function he(){return(he=(0,l.Z)(function*(b,p){return Yr(b,p)})).apply(this,arguments)}function ye(b,p){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,l.Z)(function*(b,p){return Yr(b,p)})).apply(this,arguments)}function Et(b,p){return _t.apply(this,arguments)}function _t(){return(_t=(0,l.Z)(function*(b,p){return Yr(b,p)})).apply(this,arguments)}function qt(){return(qt=(0,l.Z)(function*(b,p){return Ht(b,"POST","/v1/accounts:signInWithEmailLink",gt(b,p))})).apply(this,arguments)}function ln(){return(ln=(0,l.Z)(function*(b,p){return Ht(b,"POST","/v1/accounts:signInWithEmailLink",gt(b,p))})).apply(this,arguments)}class yr extends Vr{constructor(p,y,C,j=null){super("password",C),this._email=p,this._password=y,this._tenantId=j}static _fromEmailAndPassword(p,y){return new yr(p,y,"password")}static _fromEmailAndCode(p,y,C=null){return new yr(p,y,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const y="string"==typeof p?JSON.parse(p):p;if(y?.email&&y?.password){if("password"===y.signInMethod)return this._fromEmailAndPassword(y.email,y.password);if("emailLink"===y.signInMethod)return this._fromEmailAndCode(y.email,y.password,y.tenantId)}return null}_getIdTokenResponse(p){var y=this;return(0,l.Z)(function*(){switch(y.signInMethod){case"password":return function ir(b,p){return Ii.apply(this,arguments)}(p,{returnSecureToken:!0,email:y._email,password:y._password});case"emailLink":return function It(b,p){return qt.apply(this,arguments)}(p,{email:y._email,oobCode:y._password});default:et(p,"internal-error")}})()}_linkToIdToken(p,y){var C=this;return(0,l.Z)(function*(){switch(C.signInMethod){case"password":return ni(p,{idToken:y,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function fn(b,p){return ln.apply(this,arguments)}(p,{idToken:y,email:C._email,oobCode:C._password});default:et(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Or(b,p){return $e.apply(this,arguments)}function $e(){return($e=(0,l.Z)(function*(b,p){return Ht(b,"POST","/v1/accounts:signInWithIdp",gt(b,p))})).apply(this,arguments)}class ut extends Vr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const y=new ut(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(y.idToken=p.idToken),p.accessToken&&(y.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(y.nonce=p.nonce),p.pendingToken&&(y.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(y.accessToken=p.oauthToken,y.secret=p.oauthTokenSecret):et("argument-error"),y}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const y="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:j}=y,ne=(0,be._T)(y,["providerId","signInMethod"]);if(!C||!j)return null;const Ze=new ut(C,j);return Ze.idToken=ne.idToken||void 0,Ze.accessToken=ne.accessToken||void 0,Ze.secret=ne.secret,Ze.nonce=ne.nonce,Ze.pendingToken=ne.pendingToken||null,Ze}_getIdTokenResponse(p){return Or(p,this.buildRequest())}_linkToIdToken(p,y){const C=this.buildRequest();return C.idToken=y,Or(p,C)}_getReauthenticationResolver(p){const y=this.buildRequest();return y.autoCreate=!1,Or(p,y)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const y={};this.idToken&&(y.id_token=this.idToken),this.accessToken&&(y.access_token=this.accessToken),this.secret&&(y.oauth_token_secret=this.secret),y.providerId=this.providerId,this.nonce&&!this.pendingToken&&(y.nonce=this.nonce),p.postBody=(0,U.xO)(y)}return p}}function Tt(b,p){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,l.Z)(function*(b,p){return kt(b,"POST","/v1/accounts:sendVerificationCode",gt(b,p))})).apply(this,arguments)}function ur(){return(ur=(0,l.Z)(function*(b,p){return Ht(b,"POST","/v1/accounts:signInWithPhoneNumber",gt(b,p))})).apply(this,arguments)}function tr(){return(tr=(0,l.Z)(function*(b,p){const y=yield Ht(b,"POST","/v1/accounts:signInWithPhoneNumber",gt(b,p));if(y.temporaryProof)throw Qn(b,"account-exists-with-different-credential",y);return y})).apply(this,arguments)}const li={USER_NOT_FOUND:"user-not-found"};function yi(){return(yi=(0,l.Z)(function*(b,p){return Ht(b,"POST","/v1/accounts:signInWithPhoneNumber",gt(b,Object.assign(Object.assign({},p),{operation:"REAUTH"})),li)})).apply(this,arguments)}class zi extends Vr{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,y){return new zi({verificationId:p,verificationCode:y})}static _fromTokenResponse(p,y){return new zi({phoneNumber:p,temporaryProof:y})}_getIdTokenResponse(p){return function nn(b,p){return ur.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,y){return function Jr(b,p){return tr.apply(this,arguments)}(p,Object.assign({idToken:y},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Ds(b,p){return yi.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:y,verificationId:C,verificationCode:j}=this.params;return p&&y?{temporaryProof:p,phoneNumber:y}:{sessionInfo:C,code:j}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:y,verificationCode:C,phoneNumber:j,temporaryProof:ne}=p;return C||y||j||ne?new zi({verificationId:y,verificationCode:C,phoneNumber:j,temporaryProof:ne}):null}}class Oi{constructor(p){var y,C,j,ne,Ze,Dt;const Qt=(0,U.zd)((0,U.pd)(p)),En=null!==(y=Qt.apiKey)&&void 0!==y?y:null,Xn=null!==(C=Qt.oobCode)&&void 0!==C?C:null,Gn=function es(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(j=Qt.mode)&&void 0!==j?j:null);fe(En&&Xn&&Gn,"argument-error"),this.apiKey=En,this.operation=Gn,this.code=Xn,this.continueUrl=null!==(ne=Qt.continueUrl)&&void 0!==ne?ne:null,this.languageCode=null!==(Ze=Qt.languageCode)&&void 0!==Ze?Ze:null,this.tenantId=null!==(Dt=Qt.tenantId)&&void 0!==Dt?Dt:null}static parseLink(p){const y=function Fs(b){const p=(0,U.zd)((0,U.pd)(b)).link,y=p?(0,U.zd)((0,U.pd)(p)).deep_link_id:null,C=(0,U.zd)((0,U.pd)(b)).deep_link_id;return(C?(0,U.zd)((0,U.pd)(C)).link:null)||C||y||p||b}(p);try{return new Oi(y)}catch{return null}}}let Wi=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(y,C){return yr._fromEmailAndPassword(y,C)}static credentialWithLink(y,C){const j=Oi.parseLink(C);return fe(j,"argument-error"),yr._fromEmailAndCode(y,j.code,j.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class ts{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class ki extends ts{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class ns extends ki{static credentialFromJSON(p){const y="string"==typeof p?JSON.parse(p):p;return fe("providerId"in y&&"signInMethod"in y,"argument-error"),ut._fromParams(y)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return fe(p.idToken||p.accessToken,"argument-error"),ut._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return ns.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return ns.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:y,oauthAccessToken:C,oauthTokenSecret:j,pendingToken:ne,nonce:Ze,providerId:Dt}=p;if(!C&&!j&&!y&&!ne||!Dt)return null;try{return new ns(Dt)._credential({idToken:y,accessToken:C,nonce:Ze,pendingToken:ne})}catch{return null}}}let vi=(()=>{class b extends ki{constructor(){super("facebook.com")}static credential(y){return ut._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return b.credentialFromTaggedObject(y)}static credentialFromError(y){return b.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return b.credential(y.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),_s=(()=>{class b extends ki{constructor(){super("google.com"),this.addScope("profile")}static credential(y,C){return ut._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:y,accessToken:C})}static credentialFromResult(y){return b.credentialFromTaggedObject(y)}static credentialFromError(y){return b.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:C,oauthAccessToken:j}=y;if(!C&&!j)return null;try{return b.credential(C,j)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),us=(()=>{class b extends ki{constructor(){super("github.com")}static credential(y){return ut._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:y})}static credentialFromResult(y){return b.credentialFromTaggedObject(y)}static credentialFromError(y){return b.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y||!("oauthAccessToken"in y)||!y.oauthAccessToken)return null;try{return b.credential(y.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class Ls extends Vr{constructor(p,y){super(p,p),this.pendingToken=y}_getIdTokenResponse(p){return Or(p,this.buildRequest())}_linkToIdToken(p,y){const C=this.buildRequest();return C.idToken=y,Or(p,C)}_getReauthenticationResolver(p){const y=this.buildRequest();return y.autoCreate=!1,Or(p,y)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const y="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:j,pendingToken:ne}=y;return C&&j&&ne&&C===j?new Ls(C,ne):null}static _create(p,y){return new Ls(p,y)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Di extends ts{constructor(p){fe(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Di.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Di.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const y=Ls.fromJSON(p);return fe(y,"argument-error"),y}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:y,providerId:C}=p;if(!y||!C)return null;try{return Ls._create(C,y)}catch{return null}}}let Es=(()=>{class b extends ki{constructor(){super("twitter.com")}static credential(y,C){return ut._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:y,oauthTokenSecret:C})}static credentialFromResult(y){return b.credentialFromTaggedObject(y)}static credentialFromError(y){return b.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthAccessToken:C,oauthTokenSecret:j}=y;if(!C||!j)return null;try{return b.credential(C,j)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function Ci(b,p){return di.apply(this,arguments)}function di(){return(di=(0,l.Z)(function*(b,p){return Ht(b,"POST","/v1/accounts:signUp",gt(b,p))})).apply(this,arguments)}class Ti{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,y,C,j=!1){return(0,l.Z)(function*(){const ne=yield un._fromIdTokenResponse(p,C,j),Ze=hi(C);return new Ti({user:ne,providerId:Ze,_tokenResponse:C,operationType:y})})()}static _forOperation(p,y,C){return(0,l.Z)(function*(){yield p._updateTokensIfNecessary(C,!0);const j=hi(C);return new Ti({user:p,providerId:j,_tokenResponse:C,operationType:y})})()}}function hi(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function qi(){return(qi=(0,l.Z)(function*(b){var p;const y=an(b);if(yield y._initializationPromise,null!==(p=y.currentUser)&&void 0!==p&&p.isAnonymous)return new Ti({user:y.currentUser,providerId:null,operationType:"signIn"});const C=yield Ci(y,{returnSecureToken:!0}),j=yield Ti._fromIdTokenResponse(y,"signIn",C,!0);return yield y._updateCurrentUser(j.user),j})).apply(this,arguments)}class Ni extends U.ZR{constructor(p,y,C,j){var ne;super(y.code,y.message),this.operationType=C,this.user=j,Object.setPrototypeOf(this,Ni.prototype),this.customData={appName:p.name,tenantId:null!==(ne=p.tenantId)&&void 0!==ne?ne:void 0,_serverResponse:y.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(p,y,C,j){return new Ni(p,y,C,j)}}function Si(b,p,y,C){return("reauthenticate"===p?y._getReauthenticationResolver(b):y._getIdTokenResponse(b)).catch(ne=>{throw"auth/multi-factor-auth-required"===ne.code?Ni._fromErrorAndOperation(b,ne,p,C):ne})}function ls(b){return new Set(b.map(({providerId:p})=>p).filter(p=>!!p))}function ds(){return(ds=(0,l.Z)(function*(b,p){const y=(0,U.m9)(b);yield P(!0,y,p);const{providerUserInfo:C}=yield An(y.auth,{idToken:yield y.getIdToken(),deleteProvider:[p]}),j=ls(C||[]);return y.providerData=y.providerData.filter(ne=>j.has(ne.providerId)),j.has("phone")||(y.phoneNumber=null),yield y.auth._persistUserIfCurrent(y),y})).apply(this,arguments)}function Fi(b,p){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,l.Z)(function*(b,p,y=!1){const C=yield Er(b,p._linkToIdToken(b.auth,yield b.getIdToken()),y);return Ti._forOperation(b,"link",C)})).apply(this,arguments)}function P(b,p,y){return Y.apply(this,arguments)}function Y(){return(Y=(0,l.Z)(function*(b,p,y){yield Pr(p);const j=!1===b?"provider-already-linked":"no-such-provider";fe(ls(p.providerData).has(y)===b,p.auth,j)})).apply(this,arguments)}function N(b,p){return Z.apply(this,arguments)}function Z(){return(Z=(0,l.Z)(function*(b,p,y=!1){var C;const{auth:j}=b,ne="reauthenticate";try{const Ze=yield Er(b,Si(j,ne,p,b),y);fe(Ze.idToken,j,"internal-error");const Dt=Kt(Ze.idToken);fe(Dt,j,"internal-error");const{sub:Qt}=Dt;return fe(b.uid===Qt,j,"user-mismatch"),Ti._forOperation(b,ne,Ze)}catch(Ze){throw"auth/user-not-found"===(null===(C=Ze)||void 0===C?void 0:C.code)&&et(j,"user-mismatch"),Ze}})).apply(this,arguments)}function je(b,p){return pt.apply(this,arguments)}function pt(){return(pt=(0,l.Z)(function*(b,p,y=!1){const C="signIn",j=yield Si(b,C,p),ne=yield Ti._fromIdTokenResponse(b,C,j);return y||(yield b._updateCurrentUser(ne.user)),ne})).apply(this,arguments)}function bt(b,p){return cn.apply(this,arguments)}function cn(){return(cn=(0,l.Z)(function*(b,p){return je(an(b),p)})).apply(this,arguments)}function pr(b,p){return dr.apply(this,arguments)}function dr(){return(dr=(0,l.Z)(function*(b,p){const y=(0,U.m9)(b);return yield P(!1,y,p.providerId),Fi(y,p)})).apply(this,arguments)}function Cr(b,p){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,l.Z)(function*(b,p){return N((0,U.m9)(b),p)})).apply(this,arguments)}function Hr(b,p){return $n.apply(this,arguments)}function $n(){return($n=(0,l.Z)(function*(b,p){return Ht(b,"POST","/v1/accounts:signInWithCustomToken",gt(b,p))})).apply(this,arguments)}function fi(){return(fi=(0,l.Z)(function*(b,p){const y=an(b),C=yield Hr(y,{token:p,returnSecureToken:!0}),j=yield Ti._fromIdTokenResponse(y,"signIn",C);return yield y._updateCurrentUser(j.user),j})).apply(this,arguments)}class Gr{constructor(p,y){this.factorId=p,this.uid=y.mfaEnrollmentId,this.enrollmentTime=new Date(y.enrolledAt).toUTCString(),this.displayName=y.displayName}static _fromServerResponse(p,y){return"phoneInfo"in y?Ai._fromServerResponse(p,y):et(p,"internal-error")}}class Ai extends Gr{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,y){return new Ai(y)}}function Li(b,p,y){var C;fe((null===(C=y.url)||void 0===C?void 0:C.length)>0,b,"invalid-continue-uri"),fe(typeof y.dynamicLinkDomain>"u"||y.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),p.continueUrl=y.url,p.dynamicLinkDomain=y.dynamicLinkDomain,p.canHandleCodeInApp=y.handleCodeInApp,y.iOS&&(fe(y.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),p.iOSBundleId=y.iOS.bundleId),y.android&&(fe(y.android.packageName.length>0,b,"missing-android-pkg-name"),p.androidInstallApp=y.android.installApp,p.androidMinimumVersionCode=y.android.minimumVersion,p.androidPackageName=y.android.packageName)}function Cn(){return(Cn=(0,l.Z)(function*(b,p,y){const C=(0,U.m9)(b),j={requestType:"PASSWORD_RESET",email:p};y&&Li(C,j,y),yield Xe(C,j)})).apply(this,arguments)}function Io(){return(Io=(0,l.Z)(function*(b,p,y){yield Hn((0,U.m9)(b),{oobCode:p,newPassword:y})})).apply(this,arguments)}function E(){return(E=(0,l.Z)(function*(b,p){yield Nr((0,U.m9)(b),{oobCode:p})})).apply(this,arguments)}function h(b,p){return a.apply(this,arguments)}function a(){return(a=(0,l.Z)(function*(b,p){const y=(0,U.m9)(b),C=yield Hn(y,{oobCode:p}),j=C.requestType;switch(fe(j,y,"internal-error"),j){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":fe(C.newEmail,y,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":fe(C.mfaInfo,y,"internal-error");default:fe(C.email,y,"internal-error")}let ne=null;return C.mfaInfo&&(ne=Gr._fromServerResponse(an(y),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:ne},operation:j}})).apply(this,arguments)}function _(){return(_=(0,l.Z)(function*(b,p){const{data:y}=yield h((0,U.m9)(b),p);return y.email})).apply(this,arguments)}function ie(){return(ie=(0,l.Z)(function*(b,p,y){const C=an(b),j=yield Ci(C,{returnSecureToken:!0,email:p,password:y}),ne=yield Ti._fromIdTokenResponse(C,"signIn",j);return yield C._updateCurrentUser(ne.user),ne})).apply(this,arguments)}function St(){return(St=(0,l.Z)(function*(b,p,y){const C=(0,U.m9)(b),j={requestType:"EMAIL_SIGNIN",email:p};fe(y.handleCodeInApp,C,"argument-error"),y&&Li(C,j,y),yield ye(C,j)})).apply(this,arguments)}function On(){return(On=(0,l.Z)(function*(b,p,y){const C=(0,U.m9)(b),j=Wi.credentialWithLink(p,y||mt());return fe(j._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),bt(C,j)})).apply(this,arguments)}function br(b,p){return wr.apply(this,arguments)}function wr(){return(wr=(0,l.Z)(function*(b,p){return kt(b,"POST","/v1/accounts:createAuthUri",gt(b,p))})).apply(this,arguments)}function Qr(){return(Qr=(0,l.Z)(function*(b,p){const C={identifier:p,continueUri:At()?mt():"http://localhost"},{signinMethods:j}=yield br((0,U.m9)(b),C);return j||[]})).apply(this,arguments)}function Yi(){return(Yi=(0,l.Z)(function*(b,p){const y=(0,U.m9)(b),j={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};p&&Li(y.auth,j,p);const{email:ne}=yield de(y.auth,j);ne!==b.email&&(yield b.reload())})).apply(this,arguments)}function $r(){return($r=(0,l.Z)(function*(b,p,y){const C=(0,U.m9)(b),ne={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:p};y&&Li(C.auth,ne,y);const{email:Ze}=yield Et(C.auth,ne);Ze!==b.email&&(yield b.reload())})).apply(this,arguments)}function ri(b,p){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,l.Z)(function*(b,p){return kt(b,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Vo(){return(Vo=(0,l.Z)(function*(b,{displayName:p,photoURL:y}){if(void 0===p&&void 0===y)return;const C=(0,U.m9)(b),ne={idToken:yield C.getIdToken(),displayName:p,photoUrl:y,returnSecureToken:!0},Ze=yield Er(C,ri(C.auth,ne));C.displayName=Ze.displayName||null,C.photoURL=Ze.photoUrl||null;const Dt=C.providerData.find(({providerId:Qt})=>"password"===Qt);Dt&&(Dt.displayName=C.displayName,Dt.photoURL=C.photoURL),yield C._updateTokensIfNecessary(Ze)})).apply(this,arguments)}function $a(b,p,y){return go.apply(this,arguments)}function go(){return(go=(0,l.Z)(function*(b,p,y){const{auth:C}=b,ne={idToken:yield b.getIdToken(),returnSecureToken:!0};p&&(ne.email=p),y&&(ne.password=y);const Ze=yield Er(b,ni(C,ne));yield b._updateTokensIfNecessary(Ze,!0)})).apply(this,arguments)}class Cs{constructor(p,y,C={}){this.isNewUser=p,this.providerId=y,this.profile=C}}class _a extends Cs{constructor(p,y,C,j){super(p,y,C),this.username=j}}class Mu extends Cs{constructor(p,y){super(p,"facebook.com",y)}}class sa extends _a{constructor(p,y){super(p,"github.com",y,"string"==typeof y?.login?y?.login:null)}}class mo extends Cs{constructor(p,y){super(p,"google.com",y)}}class Ea extends _a{constructor(p,y,C){super(p,"twitter.com",y,C)}}function ba(b){const{user:p,_tokenResponse:y}=b;return p.isAnonymous&&!y?{providerId:null,isNewUser:!1,profile:null}:function Ua(b){var p,y;if(!b)return null;const{providerId:C}=b,j=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},ne=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!C&&b?.idToken){const Ze=null===(y=null===(p=Kt(b.idToken))||void 0===p?void 0:p.firebase)||void 0===y?void 0:y.sign_in_provider;if(Ze)return new Cs(ne,"anonymous"!==Ze&&"custom"!==Ze?Ze:null)}if(!C)return null;switch(C){case"facebook.com":return new Mu(ne,j);case"github.com":return new sa(ne,j);case"google.com":return new mo(ne,j);case"twitter.com":return new Ea(ne,j,b.screenName||null);case"custom":case"anonymous":return new Cs(ne,null);default:return new Cs(ne,C,j)}}(y)}class io{constructor(p,y){this.type=p,this.credential=y}static _fromIdtoken(p){return new io("enroll",p)}static _fromMfaPendingCredential(p){return new io("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var y,C;if(p?.multiFactorSession){if(null!==(y=p.multiFactorSession)&&void 0!==y&&y.pendingCredential)return io._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(C=p.multiFactorSession)&&void 0!==C&&C.idToken)return io._fromIdtoken(p.multiFactorSession.idToken)}return null}}class $o{constructor(p,y,C){this.session=p,this.hints=y,this.signInResolver=C}static _fromError(p,y){const C=an(p),j=y.customData._serverResponse,ne=(j.mfaInfo||[]).map(Dt=>Gr._fromServerResponse(C,Dt));fe(j.mfaPendingCredential,C,"internal-error");const Ze=io._fromMfaPendingCredential(j.mfaPendingCredential);return new $o(Ze,ne,function(){var Dt=(0,l.Z)(function*(Qt){const En=yield Qt._process(C,Ze);delete j.mfaInfo,delete j.mfaPendingCredential;const Xn=Object.assign(Object.assign({},j),{idToken:En.idToken,refreshToken:En.refreshToken});switch(y.operationType){case"signIn":const Gn=yield Ti._fromIdTokenResponse(C,y.operationType,Xn);return yield C._updateCurrentUser(Gn.user),Gn;case"reauthenticate":return fe(y.user,C,"internal-error"),Ti._forOperation(y.user,y.operationType,Xn);default:et(C,"internal-error")}});return function(Qt){return Dt.apply(this,arguments)}}())}resolveSignIn(p){var y=this;return(0,l.Z)(function*(){return y.signInResolver(p)})()}}function Ia(b,p){return kt(b,"POST","/v2/accounts/mfaEnrollment:start",gt(b,p))}class qs{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(y=>{y.mfaInfo&&(this.enrolledFactors=y.mfaInfo.map(C=>Gr._fromServerResponse(p.auth,C)))})}static _fromUser(p){return new qs(p)}getSession(){var p=this;return(0,l.Z)(function*(){return io._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,y){var C=this;return(0,l.Z)(function*(){const j=p,ne=yield C.getSession(),Ze=yield Er(C.user,j._process(C.user.auth,ne,y));return yield C.user._updateTokensIfNecessary(Ze),C.user.reload()})()}unenroll(p){var y=this;return(0,l.Z)(function*(){var C;const j="string"==typeof p?p:p.uid,ne=yield y.user.getIdToken(),Ze=yield Er(y.user,function Da(b,p){return kt(b,"POST","/v2/accounts/mfaEnrollment:withdraw",gt(b,p))}(y.user.auth,{idToken:ne,mfaEnrollmentId:j}));y.enrolledFactors=y.enrolledFactors.filter(({uid:Dt})=>Dt!==j),yield y.user._updateTokensIfNecessary(Ze);try{yield y.user.reload()}catch(Dt){if("auth/user-token-expired"!==(null===(C=Dt)||void 0===C?void 0:C.code))throw Dt}})()}}const yo=new WeakMap,To="__sak";class Ga{constructor(p,y){this.storageRetriever=p,this.type=y}_isAvailable(){try{return this.storage?(this.storage.setItem(To,"1"),this.storage.removeItem(To),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,y){return this.storage.setItem(p,JSON.stringify(y)),Promise.resolve()}_get(p){const y=this.storage.getItem(p);return Promise.resolve(y?JSON.parse(y):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Rs=(()=>{class b extends Ga{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(y,C)=>this.onStorageEvent(y,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Bs(){const b=(0,U.z$)();return gi(b)||Oe(b)}()&&function hn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Wt(),this._shouldAllowMigration=!0}forAllChangedKeys(y){for(const C of Object.keys(this.listeners)){const j=this.storage.getItem(C),ne=this.localCache[C];j!==ne&&y(C,ne,j)}}onStorageEvent(y,C=!1){if(!y.key)return void this.forAllChangedKeys((Dt,Qt,En)=>{this.notifyListeners(Dt,En)});const j=y.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Dt=this.storage.getItem(j);if(y.newValue!==Dt)null!==y.newValue?this.storage.setItem(j,y.newValue):this.storage.removeItem(j);else if(this.localCache[j]===y.newValue&&!C)return}const ne=()=>{const Dt=this.storage.getItem(j);!C&&this.localCache[j]===Dt||this.notifyListeners(j,Dt)},Ze=this.storage.getItem(j);!function ft(){return(0,U.w1)()&&10===document.documentMode}()||Ze===y.newValue||y.newValue===y.oldValue?ne():setTimeout(ne,10)}notifyListeners(y,C){this.localCache[y]=C;const j=this.listeners[y];if(j)for(const ne of Array.from(j))ne(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((y,C,j)=>{this.onStorageEvent(new StorageEvent("storage",{key:y,oldValue:C,newValue:j}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(y,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[y]||(this.listeners[y]=new Set,this.localCache[y]=this.storage.getItem(y)),this.listeners[y].add(C)}_removeListener(y,C){this.listeners[y]&&(this.listeners[y].delete(C),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(y,C){var j=()=>super._set,ne=this;return(0,l.Z)(function*(){yield j().call(ne,y,C),ne.localCache[y]=JSON.stringify(C)})()}_get(y){var C=()=>super._get,j=this;return(0,l.Z)(function*(){const ne=yield C().call(j,y);return j.localCache[y]=JSON.stringify(ne),ne})()}_remove(y){var C=()=>super._remove,j=this;return(0,l.Z)(function*(){yield C().call(j,y),delete j.localCache[y]})()}}return b.type="LOCAL",b})(),so=(()=>{class b extends Ga{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(y,C){}_removeListener(y,C){}}return b.type="SESSION",b})();let Gl=(()=>{class b{constructor(y){this.eventTarget=y,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(y){const C=this.receivers.find(ne=>ne.isListeningto(y));if(C)return C;const j=new b(y);return this.receivers.push(j),j}isListeningto(y){return this.eventTarget===y}handleEvent(y){var C=this;return(0,l.Z)(function*(){const j=y,{eventId:ne,eventType:Ze,data:Dt}=j.data,Qt=C.handlersMap[Ze];if(!Qt?.size)return;j.ports[0].postMessage({status:"ack",eventId:ne,eventType:Ze});const En=Array.from(Qt).map(function(){var Gn=(0,l.Z)(function*(Is){return Is(j.origin,Dt)});return function(Is){return Gn.apply(this,arguments)}}()),Xn=yield function Wa(b){return Promise.all(b.map(function(){var p=(0,l.Z)(function*(y){try{return{fulfilled:!0,value:yield y}}catch(C){return{fulfilled:!1,reason:C}}});return function(y){return p.apply(this,arguments)}}()))}(En);j.ports[0].postMessage({status:"done",eventId:ne,eventType:Ze,response:Xn})})()}_subscribe(y,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[y]||(this.handlersMap[y]=new Set),this.handlersMap[y].add(C)}_unsubscribe(y,C){this.handlersMap[y]&&C&&this.handlersMap[y].delete(C),(!C||0===this.handlersMap[y].size)&&delete this.handlersMap[y],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function qa(b="",p=10){let y="";for(let C=0;C<p;C++)y+=Math.floor(10*Math.random());return b+y}class Uo{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,y,C=50){var j=this;return(0,l.Z)(function*(){const ne=typeof MessageChannel<"u"?new MessageChannel:null;if(!ne)throw new Error("connection_unavailable");let Ze,Dt;return new Promise((Qt,En)=>{const Xn=qa("",20);ne.port1.start();const Gn=setTimeout(()=>{En(new Error("unsupported_event"))},C);Dt={messageChannel:ne,onMessage(Is){const ko=Is;if(ko.data.eventId===Xn)switch(ko.data.status){case"ack":clearTimeout(Gn),Ze=setTimeout(()=>{En(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ze),Qt(ko.data.response);break;default:clearTimeout(Gn),clearTimeout(Ze),En(new Error("invalid_response"))}}},j.handlers.add(Dt),ne.port1.addEventListener("message",Dt.onMessage),j.target.postMessage({eventType:p,eventId:Xn,data:y},[ne.port2])}).finally(()=>{Dt&&j.removeMessageHandler(Dt)})})()}}function Ui(){return window}function jo(){return typeof Ui().WorkerGlobalScope<"u"&&"function"==typeof Ui().importScripts}function Vi(){return(Vi=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Js="firebaseLocalStorageDb",Ut="firebaseLocalStorage",Ei="fbase_key";class oo{constructor(p){this.request=p}toPromise(){return new Promise((p,y)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{y(this.request.error)})})}}function ws(b,p){return b.transaction([Ut],p?"readwrite":"readonly").objectStore(Ut)}function Rn(){const b=indexedDB.open(Js,1);return new Promise((p,y)=>{b.addEventListener("error",()=>{y(b.error)}),b.addEventListener("upgradeneeded",()=>{const C=b.result;try{C.createObjectStore(Ut,{keyPath:Ei})}catch(j){y(j)}}),b.addEventListener("success",(0,l.Z)(function*(){const C=b.result;C.objectStoreNames.contains(Ut)?p(C):(C.close(),yield function wn(){const b=indexedDB.deleteDatabase(Js);return new oo(b).toPromise()}(),p(yield Rn()))}))})}function oa(b,p,y){return en.apply(this,arguments)}function en(){return(en=(0,l.Z)(function*(b,p,y){const C=ws(b,!0).put({[Ei]:p,value:y});return new oo(C).toPromise()})).apply(this,arguments)}function Ot(){return(Ot=(0,l.Z)(function*(b,p){const y=ws(b,!1).get(p),C=yield new oo(y).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function bi(b,p){const y=ws(b,!0).delete(p);return new oo(y).toPromise()}const Ho=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var y=this;return(0,l.Z)(function*(){return y.db||(y.db=yield Rn()),y.db})()}_withRetries(y){var C=this;return(0,l.Z)(function*(){let j=0;for(;;)try{const ne=yield C._openDb();return yield y(ne)}catch(ne){if(j++>3)throw ne;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var y=this;return(0,l.Z)(function*(){return jo()?y.initializeReceiver():y.initializeSender()})()}initializeReceiver(){var y=this;return(0,l.Z)(function*(){y.receiver=Gl._getInstance(function Qs(){return jo()?self:null}()),y.receiver._subscribe("keyChanged",function(){var C=(0,l.Z)(function*(j,ne){return{keyProcessed:(yield y._poll()).includes(ne.key)}});return function(j,ne){return C.apply(this,arguments)}}()),y.receiver._subscribe("ping",function(){var C=(0,l.Z)(function*(j,ne){return["keyChanged"]});return function(j,ne){return C.apply(this,arguments)}}())})()}initializeSender(){var y=this;return(0,l.Z)(function*(){var C,j;if(y.activeServiceWorker=yield function ji(){return Vi.apply(this,arguments)}(),!y.activeServiceWorker)return;y.sender=new Uo(y.activeServiceWorker);const ne=yield y.sender._send("ping",{},800);!ne||(null===(C=ne[0])||void 0===C?void 0:C.fulfilled)&&(null===(j=ne[0])||void 0===j?void 0:j.value.includes("keyChanged"))&&(y.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(y){var C=this;return(0,l.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function Ys(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:y},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const y=yield Rn();return yield oa(y,To,"1"),yield bi(y,To),!0}catch{}return!1})()}_withPendingWrite(y){var C=this;return(0,l.Z)(function*(){C.pendingWrites++;try{yield y()}finally{C.pendingWrites--}})()}_set(y,C){var j=this;return(0,l.Z)(function*(){return j._withPendingWrite((0,l.Z)(function*(){return yield j._withRetries(ne=>oa(ne,y,C)),j.localCache[y]=C,j.notifyServiceWorker(y)}))})()}_get(y){var C=this;return(0,l.Z)(function*(){const j=yield C._withRetries(ne=>function wt(b,p){return Ot.apply(this,arguments)}(ne,y));return C.localCache[y]=j,j})()}_remove(y){var C=this;return(0,l.Z)(function*(){return C._withPendingWrite((0,l.Z)(function*(){return yield C._withRetries(j=>bi(j,y)),delete C.localCache[y],C.notifyServiceWorker(y)}))})()}_poll(){var y=this;return(0,l.Z)(function*(){const C=yield y._withRetries(Ze=>{const Dt=ws(Ze,!1).getAll();return new oo(Dt).toPromise()});if(!C)return[];if(0!==y.pendingWrites)return[];const j=[],ne=new Set;for(const{fbase_key:Ze,value:Dt}of C)ne.add(Ze),JSON.stringify(y.localCache[Ze])!==JSON.stringify(Dt)&&(y.notifyListeners(Ze,Dt),j.push(Ze));for(const Ze of Object.keys(y.localCache))y.localCache[Ze]&&!ne.has(Ze)&&(y.notifyListeners(Ze,null),j.push(Ze));return j})()}notifyListeners(y,C){this.localCache[y]=C;const j=this.listeners[y];if(j)for(const ne of Array.from(j))ne(C)}startPolling(){var y=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return y._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(y,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[y]||(this.listeners[y]=new Set,this._get(y)),this.listeners[y].add(C)}_removeListener(y,C){this.listeners[y]&&(this.listeners[y].delete(C),0===this.listeners[y].size&&delete this.listeners[y]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function Ya(b,p){return kt(b,"POST","/v2/accounts/mfaSignIn:start",gt(b,p))}function ua(){return(ua=(0,l.Z)(function*(b){return(yield kt(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Fu(b){return new Promise((p,y)=>{const C=document.createElement("script");C.setAttribute("src",b),C.onload=p,C.onerror=j=>{const ne=Ge("internal-error");ne.customData=j,y(ne)},C.type="text/javascript",C.charset="UTF-8",function la(){var b,p;return null!==(p=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==p?p:document}().appendChild(C)})}function Go(b){return`__${b}${Math.floor(1e6*Math.random())}`}const Za=1e12;class ii{constructor(p){this.auth=p,this.counter=Za,this._widgets=new Map}render(p,y){const C=this.counter;return this._widgets.set(C,new Un(p,this.auth.name,y||{})),this.counter++,C}reset(p){var y;const C=p||Za;null===(y=this._widgets.get(C))||void 0===y||y.delete(),this._widgets.delete(C)}getResponse(p){var y;return(null===(y=this._widgets.get(p||Za))||void 0===y?void 0:y.getResponse())||""}execute(p){var y=this;return(0,l.Z)(function*(){var C;return null===(C=y._widgets.get(p||Za))||void 0===C||C.execute(),""})()}}class Un{constructor(p,y,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const j="string"==typeof p?document.getElementById(p):p;fe(j,"argument-error",{appName:y}),this.container=j,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function zo(b){const p=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<b;C++)p.push(y.charAt(Math.floor(Math.random()*y.length)));return p.join("")}(50);const{callback:p,"expired-callback":y}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,y)try{y()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Sr=Go("rcb"),du=new De(3e4,6e4);class Xt{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Ui().grecaptcha}load(p,y=""){return fe(function vo(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(y),p,"argument-error"),this.shouldResolveImmediately(y)?Promise.resolve(Ui().grecaptcha):new Promise((C,j)=>{const ne=Ui().setTimeout(()=>{j(Ge(p,"network-request-failed"))},du.get());Ui()[Sr]=()=>{Ui().clearTimeout(ne),delete Ui()[Sr];const Dt=Ui().grecaptcha;if(!Dt)return void j(Ge(p,"internal-error"));const Qt=Dt.render;Dt.render=(En,Xn)=>{const Gn=Qt(En,Xn);return this.counter++,Gn},this.hostLanguage=y,C(Dt)},Fu(`https://www.google.com/recaptcha/api.js??${(0,U.xO)({onload:Sr,render:"explicit",hl:y})}`).catch(()=>{clearTimeout(ne),j(Ge(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!Ui().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ta{load(p){return(0,l.Z)(function*(){return new ii(p)})()}clearedOneInstance(){}}const eo="recaptcha",Ao={theme:"light",type:"image"};class T{constructor(p,y=Object.assign({},Ao),C){this.parameters=y,this.type=eo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=an(C),this.isInvisible="invisible"===this.parameters.size,fe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const j="string"==typeof p?document.getElementById(p):p;fe(j,this.auth,"argument-error"),this.container=j,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ta:new Xt,this.validateStartingState()}verify(){var p=this;return(0,l.Z)(function*(){p.assertNotDestroyed();const y=yield p.render(),C=p.getAssertedRecaptcha();return C.getResponse(y)||new Promise(ne=>{const Ze=Dt=>{!Dt||(p.tokenChangeListeners.delete(Ze),ne(Dt))};p.tokenChangeListeners.add(Ze),p.isInvisible&&C.execute(y)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){fe(!this.parameters.sitekey,this.auth,"argument-error"),fe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),fe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return y=>{if(this.tokenChangeListeners.forEach(C=>C(y)),"function"==typeof p)p(y);else if("string"==typeof p){const C=Ui()[p];"function"==typeof C&&C(y)}}}assertNotDestroyed(){fe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,l.Z)(function*(){if(yield p.init(),!p.widgetId){let y=p.container;if(!p.isInvisible){const C=document.createElement("div");y.appendChild(C),y=C}p.widgetId=p.getAssertedRecaptcha().render(y,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,l.Z)(function*(){fe(At()&&!jo(),p.auth,"internal-error"),yield function D(){let b=null;return new Promise(p=>{"complete"!==document.readyState?(b=()=>p(),window.addEventListener("load",b)):p()}).catch(p=>{throw b&&window.removeEventListener("load",b),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const y=yield function Ka(b){return ua.apply(this,arguments)}(p.auth);fe(y,p.auth,"internal-error"),p.parameters.sitekey=y})()}getAssertedRecaptcha(){return fe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class I{constructor(p,y){this.verificationId=p,this.onConfirmation=y}confirm(p){const y=zi._fromVerification(this.verificationId,p);return this.onConfirmation(y)}}function B(){return(B=(0,l.Z)(function*(b,p,y){const C=an(b),j=yield Be(C,p,(0,U.m9)(y));return new I(j,ne=>bt(C,ne))})).apply(this,arguments)}function Te(){return(Te=(0,l.Z)(function*(b,p,y){const C=(0,U.m9)(b);yield P(!1,C,"phone");const j=yield Be(C.auth,p,(0,U.m9)(y));return new I(j,ne=>pr(C,ne))})).apply(this,arguments)}function xt(){return(xt=(0,l.Z)(function*(b,p,y){const C=(0,U.m9)(b),j=yield Be(C.auth,p,(0,U.m9)(y));return new I(j,ne=>Cr(C,ne))})).apply(this,arguments)}function Be(b,p,y){return nr.apply(this,arguments)}function nr(){return(nr=(0,l.Z)(function*(b,p,y){var C;const j=yield y.verify();try{let ne;if(fe("string"==typeof j,b,"argument-error"),fe(y.type===eo,b,"argument-error"),ne="string"==typeof p?{phoneNumber:p}:p,"session"in ne){const Ze=ne.session;if("phoneNumber"in ne)return fe("enroll"===Ze.type,b,"internal-error"),(yield Ia(b,{idToken:Ze.credential,phoneEnrollmentInfo:{phoneNumber:ne.phoneNumber,recaptchaToken:j}})).phoneSessionInfo.sessionInfo;{fe("signin"===Ze.type,b,"internal-error");const Dt=(null===(C=ne.multiFactorHint)||void 0===C?void 0:C.uid)||ne.multiFactorUid;return fe(Dt,b,"missing-multi-factor-info"),(yield Ya(b,{mfaPendingCredential:Ze.credential,mfaEnrollmentId:Dt,phoneSignInInfo:{recaptchaToken:j}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ze}=yield Tt(b,{phoneNumber:ne.phoneNumber,recaptchaToken:j});return Ze}}finally{y._reset()}})).apply(this,arguments)}function zr(){return(zr=(0,l.Z)(function*(b,p){yield Fi((0,U.m9)(b),p)})).apply(this,arguments)}let sr=(()=>{class b{constructor(y){this.providerId=b.PROVIDER_ID,this.auth=an(y)}verifyPhoneNumber(y,C){return Be(this.auth,y,(0,U.m9)(C))}static credential(y,C){return zi._fromVerification(y,C)}static credentialFromResult(y){return b.credentialFromTaggedObject(y)}static credentialFromError(y){return b.credentialFromTaggedObject(y.customData||{})}static credentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{phoneNumber:C,temporaryProof:j}=y;return C&&j?zi._fromTokenResponse(C,j):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function oi(b,p){return p?se(p):(fe(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class ao extends Vr{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Or(p,this._buildIdpRequest())}_linkToIdToken(p,y){return Or(p,this._buildIdpRequest(y))}_getReauthenticationResolver(p){return Or(p,this._buildIdpRequest())}_buildIdpRequest(p){const y={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(y.idToken=p),y}}function xo(b){return je(b.auth,new ao(b),b.bypassAuthState)}function hu(b){const{auth:p,user:y}=b;return fe(y,p,"internal-error"),N(y,new ao(b),b.bypassAuthState)}function pi(b){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,l.Z)(function*(b){const{auth:p,user:y}=b;return fe(y,p,"internal-error"),Fi(y,new ao(b),b.bypassAuthState)})).apply(this,arguments)}class ll{constructor(p,y,C,j,ne=!1){this.auth=p,this.resolver=C,this.user=j,this.bypassAuthState=ne,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(y)?y:[y]}execute(){var p=this;return new Promise(function(){var y=(0,l.Z)(function*(C,j){p.pendingPromise={resolve:C,reject:j};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(ne){p.reject(ne)}});return function(C,j){return y.apply(this,arguments)}}())}onAuthEvent(p){var y=this;return(0,l.Z)(function*(){const{urlResponse:C,sessionId:j,postBody:ne,tenantId:Ze,error:Dt,type:Qt}=p;if(Dt)return void y.reject(Dt);const En={auth:y.auth,requestUri:C,sessionId:j,tenantId:Ze||void 0,postBody:ne||void 0,user:y.user,bypassAuthState:y.bypassAuthState};try{y.resolve(yield y.getIdpTask(Qt)(En))}catch(Xn){y.reject(Xn)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return xo;case"linkViaPopup":case"linkViaRedirect":return pi;case"reauthViaPopup":case"reauthViaRedirect":return hu;default:et(this.auth,"internal-error")}}resolve(p){ce(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){ce(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ts=new De(2e3,1e4);function Mo(){return(Mo=(0,l.Z)(function*(b,p,y){const C=an(b);ke(b,p,ts);const j=oi(C,y);return new Wr(C,"signInViaPopup",p,j).executeNotNull()})).apply(this,arguments)}function xi(){return(xi=(0,l.Z)(function*(b,p,y){const C=(0,U.m9)(b);ke(C.auth,p,ts);const j=oi(C.auth,y);return new Wr(C.auth,"reauthViaPopup",p,j,C).executeNotNull()})).apply(this,arguments)}function fs(){return(fs=(0,l.Z)(function*(b,p,y){const C=(0,U.m9)(b);ke(C.auth,p,ts);const j=oi(C.auth,y);return new Wr(C.auth,"linkViaPopup",p,j,C).executeNotNull()})).apply(this,arguments)}let Wr=(()=>{class b extends ll{constructor(y,C,j,ne,Ze){super(y,C,ne,Ze),this.provider=j,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var y=this;return(0,l.Z)(function*(){const C=yield y.execute();return fe(C,y.auth,"internal-error"),C})()}onExecution(){var y=this;return(0,l.Z)(function*(){ce(1===y.filter.length,"Popup operations only handle one event");const C=qa();y.authWindow=yield y.resolver._openPopup(y.auth,y.provider,y.filter[0],C),y.authWindow.associatedEvent=C,y.resolver._originValidation(y.auth).catch(j=>{y.reject(j)}),y.resolver._isIframeWebStorageSupported(y.auth,j=>{j||y.reject(Ge(y.auth,"web-storage-unsupported"))}),y.pollUserCancellation()})()}get eventId(){var y;return(null===(y=this.authWindow)||void 0===y?void 0:y.associatedEvent)||null}cancel(){this.reject(Ge(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const y=()=>{var C,j;this.pollId=null!==(j=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==j&&j.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ge(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(y,Ts.get())};y()}}return b.currentPopupAction=null,b})();const _o=new Map;class R extends ll{constructor(p,y,C=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],y,void 0,C),this.eventId=null}execute(){var p=()=>super.execute,y=this;return(0,l.Z)(function*(){let C=_o.get(y.auth._key());if(!C){try{const ne=(yield function F(b,p){return W.apply(this,arguments)}(y.resolver,y.auth))?yield p().call(y):null;C=()=>Promise.resolve(ne)}catch(j){C=()=>Promise.reject(j)}_o.set(y.auth._key(),C)}return y.bypassAuthState||_o.set(y.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(p){var y=()=>super.onAuthEvent,C=this;return(0,l.Z)(function*(){if("signInViaRedirect"===p.type)return y().call(C,p);if("unknown"!==p.type){if(p.eventId){const j=yield C.auth._redirectUserForId(p.eventId);if(j)return C.user=j,y().call(C,p);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function W(){return(W=(0,l.Z)(function*(b,p){const y=Zn(p),C=on(b);if(!(yield C._isAvailable()))return!1;const j="true"===(yield C._get(y));return yield C._remove(y),j})).apply(this,arguments)}function xe(b,p){return rt.apply(this,arguments)}function rt(){return(rt=(0,l.Z)(function*(b,p){return on(b)._set(Zn(p),"true")})).apply(this,arguments)}function Ft(b,p){_o.set(b._key(),p)}function on(b){return se(b._redirectPersistence)}function Zn(b){return rn("pendingRedirect",b.config.apiKey,b.name)}function Pn(){return(Pn=(0,l.Z)(function*(b,p,y){const C=an(b);ke(b,p,ts);const j=oi(C,y);return yield xe(j,C),j._openRedirect(C,p,"signInViaRedirect")})).apply(this,arguments)}function Ro(){return(Ro=(0,l.Z)(function*(b,p,y){const C=(0,U.m9)(b);ke(C.auth,p,ts);const j=oi(C.auth,y);yield xe(j,C.auth);const ne=yield ai(C);return j._openRedirect(C.auth,p,"reauthViaRedirect",ne)})).apply(this,arguments)}function qo(){return(qo=(0,l.Z)(function*(b,p,y){const C=(0,U.m9)(b);ke(C.auth,p,ts);const j=oi(C.auth,y);yield P(!1,C,p.providerId),yield xe(j,C.auth);const ne=yield ai(C);return j._openRedirect(C.auth,p,"linkViaRedirect",ne)})).apply(this,arguments)}function js(){return(js=(0,l.Z)(function*(b,p){return yield an(b)._initializationPromise,ss(b,p,!1)})).apply(this,arguments)}function ss(b,p){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,l.Z)(function*(b,p,y=!1){const C=an(b),j=oi(C,p),Ze=yield new R(C,j,y).execute();return Ze&&!y&&(delete Ze.user._redirectEventId,yield C._persistUserIfCurrent(Ze.user),yield C._setRedirectUser(null,p)),Ze})).apply(this,arguments)}function ai(b){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,l.Z)(function*(b){const p=qa(`${b.uid}:::`);return b._redirectEventId=p,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),p})).apply(this,arguments)}class Vu{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let y=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(p,C)&&(y=!0,this.sendToConsumer(p,C),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function uh(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Kc(b);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,y||(this.queuedRedirectEvent=p,y=!0)),y}sendToConsumer(p,y){var C;if(p.error&&!Kc(p)){const j=(null===(C=p.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";y.onError(Ge(this.auth,j))}else y.onAuthEvent(p)}isEventForConsumer(p,y){const C=null===y.eventId||!!p.eventId&&p.eventId===y.eventId;return y.filter.includes(p.type)&&C}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(da(p))}saveEventToCache(p){this.cachedEventUids.add(da(p)),this.lastProcessedEventTime=Date.now()}}function da(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(p=>p).join("-")}function Kc({type:b,error:p}){return"unknown"===b&&"auth/no-auth-event"===p?.code}function cl(b){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,l.Z)(function*(b,p={}){return kt(b,"GET","/v1/projects",p)})).apply(this,arguments)}const Bu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lh=/^https?/;function Wl(){return(Wl=(0,l.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:p}=yield cl(b);for(const y of p)try{if(Zc(y))return}catch{}et(b,"unauthorized-domain")})).apply(this,arguments)}function Zc(b){const p=mt(),{protocol:y,hostname:C}=new URL(p);if(b.startsWith("chrome-extension://")){const Ze=new URL(b);return""===Ze.hostname&&""===C?"chrome-extension:"===y&&b.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===y&&Ze.hostname===C}if(!lh.test(y))return!1;if(Bu.test(b))return C===b;const j=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+j+"|"+j+")$","i").test(C)}const gs=new De(3e4,6e4);function $u(){const b=Ui().___jsl;if(b?.H)for(const p of Object.keys(b.H))if(b.H[p].r=b.H[p].r||[],b.H[p].L=b.H[p].L||[],b.H[p].r=[...b.H[p].L],b.CP)for(let y=0;y<b.CP.length;y++)b.CP[y]=null}let ql=null;function ch(b){return ql=ql||function wi(b){return new Promise((p,y)=>{var C,j,ne;function Ze(){$u(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{$u(),y(Ge(b,"network-request-failed"))},timeout:gs.get()})}if(null!==(j=null===(C=Ui().gapi)||void 0===C?void 0:C.iframes)&&void 0!==j&&j.Iframe)p(gapi.iframes.getContext());else{if(null===(ne=Ui().gapi)||void 0===ne||!ne.load){const Dt=Go("iframefcb");return Ui()[Dt]=()=>{gapi.load?Ze():y(Ge(b,"network-request-failed"))},Fu(`https://apis.google.com/js/api.js?onload=${Dt}`).catch(Qt=>y(Qt))}Ze()}}).catch(p=>{throw ql=null,p})}(b),ql}const Oo=new De(5e3,15e3),Xc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dh(b){const p=b.config;fe(p.authDomain,b,"auth-domain-config-required");const y=p.emulator?qe(p,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,C={apiKey:p.apiKey,appName:b.name,v:Ie.SDK_VERSION},j=pl.get(b.config.apiHost);j&&(C.eid=j);const ne=b._getFrameworks();return ne.length&&(C.fw=ne.join(",")),`${y}?${(0,U.xO)(C).slice(1)}`}function Ss(){return Ss=(0,l.Z)(function*(b){const p=yield ch(b),y=Ui().gapi;return fe(y,b,"internal-error"),p.open({where:document.body,url:dh(b),messageHandlersFilter:y.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Xc,dontclear:!0},C=>new Promise(function(){var j=(0,l.Z)(function*(ne,Ze){yield C.restyle({setHideOnLeave:!1});const Dt=Ge(b,"network-request-failed"),Qt=Ui().setTimeout(()=>{Ze(Dt)},Oo.get());function En(){Ui().clearTimeout(Qt),ne(C)}C.ping(En).then(En,()=>{Ze(Dt)})});return function(ne,Ze){return j.apply(this,arguments)}}()))}),Ss.apply(this,arguments)}const Nf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Jc{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gl(b,p,y,C,j,ne){fe(b.config.authDomain,b,"auth-domain-config-required"),fe(b.config.apiKey,b,"invalid-api-key");const Ze={apiKey:b.config.apiKey,appName:b.name,authType:y,redirectUrl:C,v:Ie.SDK_VERSION,eventId:j};if(p instanceof ts){p.setDefaultLanguage(b.languageCode),Ze.providerId=p.providerId||"",(0,U.xb)(p.getCustomParameters())||(Ze.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Qt,En]of Object.entries(ne||{}))Ze[Qt]=En}if(p instanceof ki){const Qt=p.getScopes().filter(En=>""!==En);Qt.length>0&&(Ze.scopes=Qt.join(","))}b.tenantId&&(Ze.tid=b.tenantId);const Dt=Ze;for(const Qt of Object.keys(Dt))void 0===Dt[Qt]&&delete Dt[Qt];return`${function pu({config:b}){return b.emulator?qe(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,U.xO)(Dt).slice(1)}`}const Kl="webStorageSupport";class ml extends class Ma{constructor(p){this.factorId=p}_process(p,y,C){switch(y.type){case"enroll":return this._finalizeEnroll(p,y.credential,C);case"signin":return this._finalizeSignIn(p,y.credential);default:return _e("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new ml(p)}_finalizeEnroll(p,y,C){return function ja(b,p){return kt(b,"POST","/v2/accounts/mfaEnrollment:finalize",gt(b,p))}(p,{idToken:y,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,y){return function Nu(b,p){return kt(b,"POST","/v2/accounts/mfaSignIn:finalize",gt(b,p))}(p,{mfaPendingCredential:y,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Zl=(()=>{class b{constructor(){}static assertion(y){return ml._fromCredential(y)}}return b.FACTOR_ID="phone",b})();var yl="@firebase/auth";class gu{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var y=this;return(0,l.Z)(function*(){return y.assertAuthConfigured(),yield y.auth._initializationPromise,y.auth.currentUser?{accessToken:yield y.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const y=this.auth.onIdTokenChanged(C=>{var j;p((null===(j=C)||void 0===j?void 0:j.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,y),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const y=this.internalListeners.get(p);!y||(this.internalListeners.delete(p),y(),this.updateProactiveRefresh())}assertAuthConfigured(){fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Qa(){return window}function Ja(){return(Ja=(0,l.Z)(function*(b,p,y){var C;const{BuildInfo:j}=Qa();ce(p.sessionId,"AuthEvent did not contain a session ID");const ne=yield yh(p.sessionId),Ze={};return Oe()?Ze.ibi=j.packageName:Yn()?Ze.apn=j.packageName:et(b,"operation-not-supported-in-this-environment"),j.displayName&&(Ze.appDisplayName=j.displayName),Ze.sessionId=ne,gl(b,y,p.type,void 0,null!==(C=p.eventId)&&void 0!==C?C:void 0,Ze)})).apply(this,arguments)}function mh(){return(mh=(0,l.Z)(function*(b){const{BuildInfo:p}=Qa(),y={};Oe()?y.iosBundleId=p.packageName:Yn()?y.androidPackageName=p.packageName:et(b,"operation-not-supported-in-this-environment"),yield cl(b,y)})).apply(this,arguments)}function td(){return(td=(0,l.Z)(function*(b,p,y){const{cordova:C}=Qa();let j=()=>{};try{yield new Promise((ne,Ze)=>{let Dt=null;function Qt(){var Gn;ne();const Is=null===(Gn=C.plugins.browsertab)||void 0===Gn?void 0:Gn.close;"function"==typeof Is&&Is(),"function"==typeof y?.close&&y.close()}function En(){Dt||(Dt=window.setTimeout(()=>{Ze(Ge(b,"redirect-cancelled-by-user"))},2e3))}function Xn(){"visible"===document?.visibilityState&&En()}p.addPassiveListener(Qt),document.addEventListener("resume",En,!1),Yn()&&document.addEventListener("visibilitychange",Xn,!1),j=()=>{p.removePassiveListener(Qt),document.removeEventListener("resume",En,!1),document.removeEventListener("visibilitychange",Xn,!1),Dt&&window.clearTimeout(Dt)}})}finally{j()}})).apply(this,arguments)}function yh(b){return rd.apply(this,arguments)}function rd(){return(rd=(0,l.Z)(function*(b){const p=vh(b),y=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(y)).map(j=>j.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function vh(b){if(ce(/[0-9a-zA-Z]+/.test(b),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(b);const p=new ArrayBuffer(b.length),y=new Uint8Array(p);for(let C=0;C<b.length;C++)y[C]=b.charCodeAt(C);return y}!function ph(b){(0,Ie._registerComponent)(new ge.wA("auth",(p,{options:y})=>{const C=p.getProvider("app").getImmediate(),j=p.getProvider("heartbeat"),{apiKey:ne,authDomain:Ze}=C.options;return((Dt,Qt)=>{fe(ne&&!ne.includes(":"),"invalid-api-key",{appName:Dt.name}),fe(!Ze?.includes(":"),"argument-error",{appName:Dt.name});const En={apiKey:ne,authDomain:Ze,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sn(b)},Xn=new Zt(Dt,Qt,En);return function Ne(b,p){const y=p?.persistence||[],C=(Array.isArray(y)?y:[y]).map(se);p?.errorMap&&b._updateErrorMap(p.errorMap),b._initializeWithPersistence(C,p?.popupRedirectResolver)}(Xn,y),Xn})(C,j)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,y,C)=>{p.getProvider("auth-internal").initialize()})),(0,Ie._registerComponent)(new ge.wA("auth-internal",p=>{const y=an(p.getProvider("auth").getImmediate());return new gu(y)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ie.registerVersion)(yl,"0.20.4",function Po(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,Ie.registerVersion)(yl,"0.20.4","esm2017")}("Browser");class mu extends Vu{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(y=>y(p)),super.onEvent(p)}initialized(){var p=this;return(0,l.Z)(function*(){yield p.initPromise})()}}function ju(b){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,l.Z)(function*(b){const p=yield eu()._get(Ql(b));return p&&(yield eu()._remove(Ql(b))),p})).apply(this,arguments)}function Hu(){const b=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let y=0;y<20;y++){const C=Math.floor(Math.random()*p.length);b.push(p.charAt(C))}return b.join("")}function eu(){return se(Rs)}function Ql(b){return rn("authEvent",b.config.apiKey,b.name)}function Gu(b){if(!b?.includes("?"))return{};const[p,...y]=b.split("?");return(0,U.zd)(y.join("?"))}function tu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ge("no-auth-event")}}function zu(){var b;return(null===(b=self?.location)||void 0===b?void 0:b.protocol)||null}function od(b=(0,U.z$)()){return!("file:"!==zu()&&"ionic:"!==zu()&&"capacitor:"!==zu()||!b.toLowerCase().match(/iphone|ipad|ipod|android/))}function Br(){try{const b=self.localStorage,p=qa();if(b)return b.setItem(p,"1"),b.removeItem(p),!function as(b=(0,U.z$)()){return function Wu(){return(0,U.w1)()&&11===document?.documentMode}()||function jf(b=(0,U.z$)()){return/Edge\/\d+/.test(b)}(b)}()||(0,U.hl)()}catch{return Qi()&&(0,U.hl)()}return!1}function Qi(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ec(){return(function Eh(){return"http:"===zu()||"https:"===zu()}()||(0,U.ru)()||od())&&!function _u(){return(0,U.b$)()||(0,U.UG)()}()&&Br()&&!Qi()}function Pa(){return od()&&typeof document<"u"}function Hs(){return(Hs=(0,l.Z)(function*(){return!!Pa()&&new Promise(b=>{const p=setTimeout(()=>{b(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),b(!0)})})})).apply(this,arguments)}const Gs={LOCAL:"local",NONE:"none",SESSION:"session"},qu=fe,Zo="persistence";function Yu(b){return Ih.apply(this,arguments)}function Ih(){return(Ih=(0,l.Z)(function*(b){yield b._initializationPromise;const p=_r(),y=rn(Zo,b.config.apiKey,b.name);p&&p.setItem(y,b._getPersistence())})).apply(this,arguments)}function _r(){var b;try{return(null===(b=function bh(){return typeof window<"u"?window:null}())||void 0===b?void 0:b.sessionStorage)||null}catch{return null}}const Hf=fe;class Eo{constructor(){this.browserResolver=se(class xa{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=so,this._completeRedirectFn=ss,this._overrideRedirectResult=Ft}_openPopup(p,y,C,j){var ne=this;return(0,l.Z)(function*(){var Ze;ce(null===(Ze=ne.eventManagers[p._key()])||void 0===Ze?void 0:Ze.manager,"_initialize() not called before _openPopup()");const Dt=gl(p,y,C,mt(),j);return function Hg(b,p,y,C=500,j=600){const ne=Math.max((window.screen.availHeight-j)/2,0).toString(),Ze=Math.max((window.screen.availWidth-C)/2,0).toString();let Dt="";const Qt=Object.assign(Object.assign({},Nf),{width:C.toString(),height:j.toString(),top:ne,left:Ze}),En=(0,U.z$)().toLowerCase();y&&(Dt=er(En)?"_blank":y),jr(En)&&(p=p||"http://localhost",Qt.scrollbars="yes");const Xn=Object.entries(Qt).reduce((Is,[ko,wl])=>`${Is}${ko}=${wl},`,"");if(function Pe(b=(0,U.z$)()){var p;return Oe(b)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(En)&&"_self"!==Dt)return function hh(b,p){const y=document.createElement("a");y.href=b,y.target=p;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),y.dispatchEvent(C)}(p||"",Dt),new Jc(null);const Gn=window.open(p||"",Dt,Xn);fe(Gn,b,"popup-blocked");try{Gn.focus()}catch{}return new Jc(Gn)}(p,Dt,qa())})()}_openRedirect(p,y,C,j){var ne=this;return(0,l.Z)(function*(){return yield ne._originValidation(p),function So(b){Ui().location.href=b}(gl(p,y,C,mt(),j)),new Promise(()=>{})})()}_initialize(p){const y=p._key();if(this.eventManagers[y]){const{manager:j,promise:ne}=this.eventManagers[y];return j?Promise.resolve(j):(ce(ne,"If manager is not set, promise should be"),ne)}const C=this.initAndGetManager(p);return this.eventManagers[y]={promise:C},C.catch(()=>{delete this.eventManagers[y]}),C}initAndGetManager(p){var y=this;return(0,l.Z)(function*(){const C=yield function kf(b){return Ss.apply(this,arguments)}(p),j=new Vu(p);return C.register("authEvent",ne=>(fe(ne?.authEvent,p,"invalid-auth-event"),{status:j.onEvent(ne.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),y.eventManagers[p._key()]={manager:j},y.iframes[p._key()]=C,j})()}_isIframeWebStorageSupported(p,y){this.iframes[p._key()].send(Kl,{type:Kl},j=>{var ne;const Ze=null===(ne=j?.[0])||void 0===ne?void 0:ne[Kl];void 0!==Ze&&y(!!Ze),et(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const y=p._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function dl(b){return Wl.apply(this,arguments)}(p)),this.originValidationPromises[y]}get _shouldInitProactively(){return Wt()||gi()||Oe()}}),this.cordovaResolver=se(class Jl{constructor(){this._redirectPersistence=so,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ss,this._overrideRedirectResult=Ft}_initialize(p){var y=this;return(0,l.Z)(function*(){const C=p._key();let j=y.eventManagers.get(C);return j||(j=new mu(p),y.eventManagers.set(C,j),y.attachCallbackListeners(p,j)),j})()}_openPopup(p){et(p,"operation-not-supported-in-this-environment")}_openRedirect(p,y,C,j){var ne=this;return(0,l.Z)(function*(){!function nd(b){var p,y,C,j,ne,Ze,Dt,Qt,En,Xn;const Gn=Qa();fe("function"==typeof(null===(p=Gn?.universalLinks)||void 0===p?void 0:p.subscribe),b,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),fe(typeof(null===(y=Gn?.BuildInfo)||void 0===y?void 0:y.packageName)<"u",b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),fe("function"==typeof(null===(ne=null===(j=null===(C=Gn?.cordova)||void 0===C?void 0:C.plugins)||void 0===j?void 0:j.browsertab)||void 0===ne?void 0:ne.openUrl),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),fe("function"==typeof(null===(Qt=null===(Dt=null===(Ze=Gn?.cordova)||void 0===Ze?void 0:Ze.plugins)||void 0===Dt?void 0:Dt.browsertab)||void 0===Qt?void 0:Qt.isAvailable),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),fe("function"==typeof(null===(Xn=null===(En=Gn?.cordova)||void 0===En?void 0:En.InAppBrowser)||void 0===Xn?void 0:Xn.open),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const Ze=yield ne._initialize(p);yield Ze.initialized(),Ze.resetRedirect(),function dt(){_o.clear()}(),yield ne._originValidation(p);const Dt=function $f(b,p,y=null){return{type:p,eventId:y,urlResponse:null,sessionId:Hu(),postBody:null,tenantId:b.tenantId,error:Ge(b,"no-auth-event")}}(p,C,j);yield function yu(b,p){return eu()._set(Ql(b),p)}(p,Dt);const Qt=yield function ha(b,p,y){return Ja.apply(this,arguments)}(p,Dt,y),En=yield function Vf(b){const{cordova:p}=Qa();return new Promise(y=>{p.plugins.browsertab.isAvailable(C=>{let j=null;C?p.plugins.browsertab.openUrl(b):j=p.InAppBrowser.open(b,function ve(b=(0,U.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}()?"_blank":"_system","location=yes"),y(j)})})}(Qt);return function Bf(b,p,y){return td.apply(this,arguments)}(p,Ze,En)})()}_isIframeWebStorageSupported(p,y){throw new Error("Method not implemented.")}_originValidation(p){const y=p._key();return this.originValidationPromises[y]||(this.originValidationPromises[y]=function gh(b){return mh.apply(this,arguments)}(p)),this.originValidationPromises[y]}attachCallbackListeners(p,y){const{universalLinks:C,handleOpenURL:j,BuildInfo:ne}=Qa(),Ze=setTimeout((0,l.Z)(function*(){yield ju(p),y.onEvent(tu())}),500),Dt=function(){var Xn=(0,l.Z)(function*(Gn){clearTimeout(Ze);const Is=yield ju(p);let ko=null;Is&&Gn?.url&&(ko=function Ko(b,p){var y,C;const j=function os(b){const p=Gu(b),y=p.link?decodeURIComponent(p.link):void 0,C=Gu(y).link,j=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Gu(j).link||j||C||y||b}(p);if(j.includes("/__/auth/callback")){const ne=Gu(j),Ze=ne.firebaseError?function _h(b){try{return JSON.parse(b)}catch{return null}}(decodeURIComponent(ne.firebaseError)):null,Dt=null===(C=null===(y=Ze?.code)||void 0===y?void 0:y.split("auth/"))||void 0===C?void 0:C[1],Qt=Dt?Ge(Dt):null;return Qt?{type:b.type,eventId:b.eventId,tenantId:b.tenantId,error:Qt,urlResponse:null,sessionId:null,postBody:null}:{type:b.type,eventId:b.eventId,tenantId:b.tenantId,sessionId:b.sessionId,urlResponse:j,postBody:null}}return null}(Is,Gn.url)),y.onEvent(ko||tu())});return function(Is){return Xn.apply(this,arguments)}}();typeof C<"u"&&"function"==typeof C.subscribe&&C.subscribe(null,Dt);const Qt=j,En=`${ne.packageName.toLowerCase()}://`;Qa().handleOpenURL=function(){var Xn=(0,l.Z)(function*(Gn){if(Gn.toLowerCase().startsWith(En)&&Dt({url:Gn}),"function"==typeof Qt)try{Qt(Gn)}catch(Is){console.error(Is)}});return function(Gn){return Xn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=so,this._completeRedirectFn=ss,this._overrideRedirectResult=Ft}_initialize(p){var y=this;return(0,l.Z)(function*(){return yield y.selectUnderlyingResolver(),y.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,y,C,j){var ne=this;return(0,l.Z)(function*(){return yield ne.selectUnderlyingResolver(),ne.assertedUnderlyingResolver._openPopup(p,y,C,j)})()}_openRedirect(p,y,C,j){var ne=this;return(0,l.Z)(function*(){return yield ne.selectUnderlyingResolver(),ne.assertedUnderlyingResolver._openRedirect(p,y,C,j)})()}_isIframeWebStorageSupported(p,y){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,y)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Pa()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Hf(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,l.Z)(function*(){if(p.underlyingResolver)return;const y=yield function ad(){return Hs.apply(this,arguments)}();p.underlyingResolver=y?p.cordovaResolver:p.browserResolver})()}}function fa(b){return b.unwrap()}function tc(b){return nc(b)}function nc(b){const{_tokenResponse:p}=b instanceof U.ZR?b.customData:b;if(!p)return null;if(!(b instanceof U.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return sr.credentialFromResult(b);const y=p.providerId;if(!y||"password"===y)return null;let C;switch(y){case"google.com":C=_s;break;case"facebook.com":C=vi;break;case"github.com":C=us;break;case"twitter.com":C=Es;break;default:const{oauthIdToken:j,oauthAccessToken:ne,oauthTokenSecret:Ze,pendingToken:Dt,nonce:Qt}=p;return ne||Ze||j||Dt?Dt?y.startsWith("saml.")?Ls._create(y,Dt):ut._fromParams({providerId:y,signInMethod:y,pendingToken:Dt,idToken:j,accessToken:ne}):new ns(y).credential({idToken:j,accessToken:ne,rawNonce:Qt}):null}return b instanceof U.ZR?C.credentialFromError(b):C.credentialFromResult(b)}function no(b,p){return p.catch(y=>{throw y instanceof U.ZR&&function Dh(b,p){var y,C;const j=null===(y=p.customData)||void 0===y?void 0:y._tokenResponse;if("auth/multi-factor-auth-required"===(null===(C=p)||void 0===C?void 0:C.code))p.resolver=new Ch(b,function Xi(b,p){var y;const C=(0,U.m9)(b),j=p;return fe(p.customData.operationType,C,"argument-error"),fe(null===(y=j.customData._serverResponse)||void 0===y?void 0:y.mfaPendingCredential,C,"argument-error"),$o._fromError(C,j)}(b,p));else if(j){const ne=nc(p),Ze=p;ne&&(Ze.credential=ne,Ze.tenantId=j.tenantId||void 0,Ze.email=j.email||void 0,Ze.phoneNumber=j.phoneNumber||void 0)}}(b,y),y}).then(y=>{const j=y.user;return{operationType:y.operationType,credential:tc(y),additionalUserInfo:ba(y),user:Xo.getOrCreate(j)}})}function ud(b,p){return rc.apply(this,arguments)}function rc(){return(rc=(0,l.Z)(function*(b,p){const y=yield p;return{verificationId:y.verificationId,confirm:C=>no(b,y.confirm(C))}})).apply(this,arguments)}class Ch{constructor(p,y){this.resolver=y,this.auth=function El(b){return b.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return no(fa(this.auth),this.resolver.resolveSignIn(p))}}class Xo{constructor(p){this._delegate=p,this.multiFactor=function Ha(b){const p=(0,U.m9)(b);return yo.has(p)||yo.set(p,qs._fromUser(p)),yo.get(p)}(p)}static getOrCreate(p){return Xo.USER_MAP.has(p)||Xo.USER_MAP.set(p,new Xo(p)),Xo.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var y=this;return(0,l.Z)(function*(){return no(y.auth,pr(y._delegate,p))})()}linkWithPhoneNumber(p,y){var C=this;return(0,l.Z)(function*(){return ud(C.auth,function J(b,p,y){return Te.apply(this,arguments)}(C._delegate,p,y))})()}linkWithPopup(p){var y=this;return(0,l.Z)(function*(){return no(y.auth,function zl(b,p,y){return fs.apply(this,arguments)}(y._delegate,p,Eo))})()}linkWithRedirect(p){var y=this;return(0,l.Z)(function*(){return yield Yu(an(y.auth)),function lo(b,p,y){return function Wo(b,p,y){return qo.apply(this,arguments)}(b,p,y)}(y._delegate,p,Eo)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var y=this;return(0,l.Z)(function*(){return no(y.auth,Cr(y._delegate,p))})()}reauthenticateWithPhoneNumber(p,y){return ud(this.auth,function ze(b,p,y){return xt.apply(this,arguments)}(this._delegate,p,y))}reauthenticateWithPopup(p){return no(this.auth,function ca(b,p,y){return xi.apply(this,arguments)}(this._delegate,p,Eo))}reauthenticateWithRedirect(p){var y=this;return(0,l.Z)(function*(){return yield Yu(an(y.auth)),function Mi(b,p,y){return function ps(b,p,y){return Ro.apply(this,arguments)}(b,p,y)}(y._delegate,p,Eo)})()}sendEmailVerification(p){return function Kr(b,p){return Yi.apply(this,arguments)}(this._delegate,p)}unlink(p){var y=this;return(0,l.Z)(function*(){return yield function cs(b,p){return ds.apply(this,arguments)}(y._delegate,p),y})()}updateEmail(p){return function Vs(b,p){return $a((0,U.m9)(b),p,null)}(this._delegate,p)}updatePassword(p){return function Co(b,p){return $a((0,U.m9)(b),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function dn(b,p){return zr.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function rs(b,p){return Vo.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,y){return function lr(b,p,y){return $r.apply(this,arguments)}(this._delegate,p,y)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Xo.USER_MAP=new WeakMap;const bl=fe;let Th=(()=>{class b{constructor(y,C){if(this.app=y,C.isInitialized())return this._delegate=C.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:j}=y.options;bl(j,"invalid-api-key",{appName:y.name}),bl(j,"invalid-api-key",{appName:y.name});const ne=typeof window<"u"?Eo:void 0;this._delegate=C.initialize({options:{persistence:ld(j,y.name),popupRedirectResolver:ne}}),this._delegate._updateErrorMap(Ke),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Xo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(y){this._delegate.languageCode=y}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(y){this._delegate.tenantId=y}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(y,C){!function Tr(b,p,y){const C=an(b);fe(C._canInitEmulator,C,"emulator-config-failed"),fe(/^https?:\/\//.test(p),C,"invalid-emulator-scheme");const j=!!y?.disableWarnings,ne=vn(p),{host:Ze,port:Dt}=function Rr(b){const p=vn(b),y=/(\/\/)?([^?#/]+)/.exec(b.substr(p.length));if(!y)return{host:"",port:null};const C=y[2].split("@").pop()||"",j=/^(\[[^\]]+\])(:|$)/.exec(C);if(j){const ne=j[1];return{host:ne,port:ui(C.substr(ne.length+1))}}{const[ne,Ze]=C.split(":");return{host:ne,port:ui(Ze)}}}(p);C.config.emulator={url:`${ne}//${Ze}${null===Dt?"":`:${Dt}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:Ze,port:Dt,protocol:ne.replace(":",""),options:Object.freeze({disableWarnings:j})}),j||function mi(){function b(){const p=document.createElement("p"),y=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",y.position="fixed",y.width="100%",y.backgroundColor="#ffffff",y.border=".1em solid #000000",y.color="#b50000",y.bottom="0px",y.left="0px",y.margin="0px",y.zIndex="10000",y.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}(this._delegate,y,C)}applyActionCode(y){return function Do(b,p){return E.apply(this,arguments)}(this._delegate,y)}checkActionCode(y){return h(this._delegate,y)}confirmPasswordReset(y,C){return function bs(b,p,y){return Io.apply(this,arguments)}(this._delegate,y,C)}createUserWithEmailAndPassword(y,C){var j=this;return(0,l.Z)(function*(){return no(j._delegate,function O(b,p,y){return ie.apply(this,arguments)}(j._delegate,y,C))})()}fetchProvidersForEmail(y){return this.fetchSignInMethodsForEmail(y)}fetchSignInMethodsForEmail(y){return function Fr(b,p){return Qr.apply(this,arguments)}(this._delegate,y)}isSignInWithEmailLink(y){return function mn(b,p){return"EMAIL_SIGNIN"===Oi.parseLink(p)?.operation}(0,y)}getRedirectResult(){var y=this;return(0,l.Z)(function*(){bl(ec(),y._delegate,"operation-not-supported-in-this-environment");const C=yield function to(b,p){return js.apply(this,arguments)}(y._delegate,Eo);return C?no(y._delegate,Promise.resolve(C)):{credential:null,user:null}})()}addFrameworkForLogging(y){!function Gg(b,p){an(b)._logFramework(p)}(this._delegate,y)}onAuthStateChanged(y,C,j){const{next:ne,error:Ze,complete:Dt}=Ku(y,C,j);return this._delegate.onAuthStateChanged(ne,Ze,Dt)}onIdTokenChanged(y,C,j){const{next:ne,error:Ze,complete:Dt}=Ku(y,C,j);return this._delegate.onIdTokenChanged(ne,Ze,Dt)}sendSignInLinkToEmail(y,C){return function Rt(b,p,y){return St.apply(this,arguments)}(this._delegate,y,C)}sendPasswordResetEmail(y,C){return function hs(b,p,y){return Cn.apply(this,arguments)}(this._delegate,y,C||void 0)}setPersistence(y){var C=this;return(0,l.Z)(function*(){let j;switch(function wh(b,p){qu(Object.values(Gs).includes(p),b,"invalid-persistence-type"),(0,U.b$)()?qu(p!==Gs.SESSION,b,"unsupported-persistence-type"):(0,U.UG)()?qu(p===Gs.NONE,b,"unsupported-persistence-type"):Qi()?qu(p===Gs.NONE||p===Gs.LOCAL&&(0,U.hl)(),b,"unsupported-persistence-type"):qu(p===Gs.NONE||Br(),b,"unsupported-persistence-type")}(C._delegate,y),y){case Gs.SESSION:j=so;break;case Gs.LOCAL:j=(yield se(Ho)._isAvailable())?Ho:Rs;break;case Gs.NONE:j=Ln;break;default:return et("argument-error",{appName:C._delegate.name})}return C._delegate.setPersistence(j)})()}signInAndRetrieveDataWithCredential(y){return this.signInWithCredential(y)}signInAnonymously(){return no(this._delegate,function $i(b){return qi.apply(this,arguments)}(this._delegate))}signInWithCredential(y){return no(this._delegate,bt(this._delegate,y))}signInWithCustomToken(y){return no(this._delegate,function Xr(b,p){return fi.apply(this,arguments)}(this._delegate,y))}signInWithEmailAndPassword(y,C){return no(this._delegate,function nt(b,p,y){return bt((0,U.m9)(b),Wi.credential(p,y))}(this._delegate,y,C))}signInWithEmailLink(y,C){return no(this._delegate,function pn(b,p,y){return On.apply(this,arguments)}(this._delegate,y,C))}signInWithPhoneNumber(y,C){return ud(this._delegate,function M(b,p,y){return B.apply(this,arguments)}(this._delegate,y,C))}signInWithPopup(y){var C=this;return(0,l.Z)(function*(){return bl(ec(),C._delegate,"operation-not-supported-in-this-environment"),no(C._delegate,function uo(b,p,y){return Mo.apply(this,arguments)}(C._delegate,y,Eo))})()}signInWithRedirect(y){var C=this;return(0,l.Z)(function*(){return bl(ec(),C._delegate,"operation-not-supported-in-this-environment"),yield Yu(C._delegate),function cr(b,p,y){return function vr(b,p,y){return Pn.apply(this,arguments)}(b,p,y)}(C._delegate,y,Eo)})()}updateCurrentUser(y){return this._delegate.updateCurrentUser(y)}verifyPasswordResetCode(y){return function f(b,p){return _.apply(this,arguments)}(this._delegate,y)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return b.Persistence=Gs,b})();function Ku(b,p,y){let C=b;"function"!=typeof b&&({next:C,error:p,complete:y}=b);const j=C;return{next:Ze=>j(Ze&&Xo.getOrCreate(Ze)),error:p,complete:y}}function ld(b,p){const y=function _l(b,p){const y=_r();if(!y)return[];const C=rn(Zo,b,p);switch(y.getItem(C)){case Gs.NONE:return[Ln];case Gs.LOCAL:return[Ho,so];case Gs.SESSION:return[so];default:return[]}}(b,p);if(typeof self<"u"&&!y.includes(Ho)&&y.push(Ho),typeof window<"u")for(const C of[Rs,so])y.includes(C)||y.push(C);return y.includes(Ln)||y.push(Ln),y}class cd{constructor(){this.providerId="phone",this._delegate=new sr(fa(L.Z.auth()))}static credential(p,y){return sr.credential(p,y)}verifyPhoneNumber(p,y){return this._delegate.verifyPhoneNumber(p,y)}unwrap(){return this._delegate}}cd.PHONE_SIGN_IN_METHOD=sr.PHONE_SIGN_IN_METHOD,cd.PROVIDER_ID=sr.PROVIDER_ID;const Os=fe;class zs{constructor(p,y,C=L.Z.app()){var j;Os(null===(j=C.options)||void 0===j?void 0:j.apiKey,"invalid-api-key",{appName:C.name}),this._delegate=new T(p,y,C.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Zu(b){b.INTERNAL.registerComponent(new ge.wA("auth-compat",p=>{const y=p.getProvider("app-compat").getImmediate(),C=p.getProvider("auth");return new Th(y,C)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Wi,FacebookAuthProvider:vi,GithubAuthProvider:us,GoogleAuthProvider:_s,OAuthProvider:ns,SAMLAuthProvider:Di,PhoneAuthProvider:cd,PhoneMultiFactorGenerator:Zl,RecaptchaVerifier:zs,TwitterAuthProvider:Es,Auth:Th,AuthCredential:Vr,Error:U.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),b.registerVersion("@firebase/auth-compat","0.2.17")}(L.Z)},591:(zt,st,k)=>{"use strict";k.d(st,{X:()=>U});var l=k(8929),L=k(5279);class U extends l.xQ{constructor(be){super(),this._value=be}get value(){return this.getValue()}_subscribe(be){const re=super._subscribe(be);return re&&!re.closed&&be.next(this._value),re}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new L.N;return this._value}next(be){super.next(this._value=be)}}},2916:(zt,st,k)=>{"use strict";k.d(st,{y:()=>X});var l=k(3489),U=k(7668),Ie=k(3292),re=k(3821),ge=k(5379);var Q=k(2830);let X=(()=>{class G{constructor(Ke){this._isScalar=!1,Ke&&(this._subscribe=Ke)}lift(Ke){const ue=new G;return ue.source=this,ue.operator=Ke,ue}subscribe(Ke,ue,le){const{operator:Se}=this,Ae=function be(G,Re,Ke){if(G){if(G instanceof l.L)return G;if(G[U.b])return G[U.b]()}return G||Re||Ke?new l.L(G,Re,Ke):new l.L(Ie.c)}(Ke,ue,le);if(Ae.add(Se?Se.call(Ae,this.source):this.source||Q.v.useDeprecatedSynchronousErrorHandling&&!Ae.syncErrorThrowable?this._subscribe(Ae):this._trySubscribe(Ae)),Q.v.useDeprecatedSynchronousErrorHandling&&Ae.syncErrorThrowable&&(Ae.syncErrorThrowable=!1,Ae.syncErrorThrown))throw Ae.syncErrorValue;return Ae}_trySubscribe(Ke){try{return this._subscribe(Ke)}catch(ue){Q.v.useDeprecatedSynchronousErrorHandling&&(Ke.syncErrorThrown=!0,Ke.syncErrorValue=ue),function L(G){for(;G;){const{closed:Re,destination:Ke,isStopped:ue}=G;if(Re||ue)return!1;G=Ke&&Ke instanceof l.L?Ke:null}return!0}(Ke)?Ke.error(ue):console.warn(ue)}}forEach(Ke,ue){return new(ue=te(ue))((le,Se)=>{let Ae;Ae=this.subscribe(z=>{try{Ke(z)}catch(et){Se(et),Ae&&Ae.unsubscribe()}},Se,le)})}_subscribe(Ke){const{source:ue}=this;return ue&&ue.subscribe(Ke)}[re.L](){return this}pipe(...Ke){return 0===Ke.length?this:function ae(G){return 0===G.length?ge.y:1===G.length?G[0]:function(Ke){return G.reduce((ue,le)=>le(ue),Ke)}}(Ke)(this)}toPromise(Ke){return new(Ke=te(Ke))((ue,le)=>{let Se;this.subscribe(Ae=>Se=Ae,Ae=>le(Ae),()=>ue(Se))})}}return G.create=Re=>new G(Re),G})();function te(G){if(G||(G=Q.v.Promise||Promise),!G)throw new Error("no Promise impl found");return G}},3292:(zt,st,k)=>{"use strict";k.d(st,{c:()=>U});var l=k(2830),L=k(2782);const U={closed:!0,next(Ie){},error(Ie){if(l.v.useDeprecatedSynchronousErrorHandling)throw Ie;(0,L.z)(Ie)},complete(){}}},8929:(zt,st,k)=>{"use strict";k.d(st,{Yc:()=>ge,xQ:()=>we});var l=k(2916),L=k(3489),U=k(2654),Ie=k(5279),be=k(5283),re=k(7668);class ge extends L.L{constructor(X){super(X),this.destination=X}}let we=(()=>{class Q extends l.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[re.b](){return new ge(this)}lift(te){const G=new ae(this,this);return G.operator=te,G}next(te){if(this.closed)throw new Ie.N;if(!this.isStopped){const{observers:G}=this,Re=G.length,Ke=G.slice();for(let ue=0;ue<Re;ue++)Ke[ue].next(te)}}error(te){if(this.closed)throw new Ie.N;this.hasError=!0,this.thrownError=te,this.isStopped=!0;const{observers:G}=this,Re=G.length,Ke=G.slice();for(let ue=0;ue<Re;ue++)Ke[ue].error(te);this.observers.length=0}complete(){if(this.closed)throw new Ie.N;this.isStopped=!0;const{observers:te}=this,G=te.length,Re=te.slice();for(let Ke=0;Ke<G;Ke++)Re[Ke].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(te){if(this.closed)throw new Ie.N;return super._trySubscribe(te)}_subscribe(te){if(this.closed)throw new Ie.N;return this.hasError?(te.error(this.thrownError),U.w.EMPTY):this.isStopped?(te.complete(),U.w.EMPTY):(this.observers.push(te),new be.W(this,te))}asObservable(){const te=new l.y;return te.source=this,te}}return Q.create=(X,te)=>new ae(X,te),Q})();class ae extends we{constructor(X,te){super(),this.destination=X,this.source=te}next(X){const{destination:te}=this;te&&te.next&&te.next(X)}error(X){const{destination:te}=this;te&&te.error&&this.destination.error(X)}complete(){const{destination:X}=this;X&&X.complete&&this.destination.complete()}_subscribe(X){const{source:te}=this;return te?this.source.subscribe(X):U.w.EMPTY}}},5283:(zt,st,k)=>{"use strict";k.d(st,{W:()=>L});var l=k(2654);class L extends l.w{constructor(Ie,be){super(),this.subject=Ie,this.subscriber=be,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const Ie=this.subject,be=Ie.observers;if(this.subject=null,!be||0===be.length||Ie.isStopped||Ie.closed)return;const re=be.indexOf(this.subscriber);-1!==re&&be.splice(re,1)}}},3489:(zt,st,k)=>{"use strict";k.d(st,{L:()=>ge});var l=k(7043),L=k(3292),U=k(2654),Ie=k(7668),be=k(2830),re=k(2782);class ge extends U.w{constructor(Q,X,te){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=L.c;break;case 1:if(!Q){this.destination=L.c;break}if("object"==typeof Q){Q instanceof ge?(this.syncErrorThrowable=Q.syncErrorThrowable,this.destination=Q,Q.add(this)):(this.syncErrorThrowable=!0,this.destination=new we(this,Q));break}default:this.syncErrorThrowable=!0,this.destination=new we(this,Q,X,te)}}[Ie.b](){return this}static create(Q,X,te){const G=new ge(Q,X,te);return G.syncErrorThrowable=!1,G}next(Q){this.isStopped||this._next(Q)}error(Q){this.isStopped||(this.isStopped=!0,this._error(Q))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(Q){this.destination.next(Q)}_error(Q){this.destination.error(Q),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:Q}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=Q,this}}class we extends ge{constructor(Q,X,te,G){super(),this._parentSubscriber=Q;let Re,Ke=this;(0,l.m)(X)?Re=X:X&&(Re=X.next,te=X.error,G=X.complete,X!==L.c&&(Ke=Object.create(X),(0,l.m)(Ke.unsubscribe)&&this.add(Ke.unsubscribe.bind(Ke)),Ke.unsubscribe=this.unsubscribe.bind(this))),this._context=Ke,this._next=Re,this._error=te,this._complete=G}next(Q){if(!this.isStopped&&this._next){const{_parentSubscriber:X}=this;be.v.useDeprecatedSynchronousErrorHandling&&X.syncErrorThrowable?this.__tryOrSetError(X,this._next,Q)&&this.unsubscribe():this.__tryOrUnsub(this._next,Q)}}error(Q){if(!this.isStopped){const{_parentSubscriber:X}=this,{useDeprecatedSynchronousErrorHandling:te}=be.v;if(this._error)te&&X.syncErrorThrowable?(this.__tryOrSetError(X,this._error,Q),this.unsubscribe()):(this.__tryOrUnsub(this._error,Q),this.unsubscribe());else if(X.syncErrorThrowable)te?(X.syncErrorValue=Q,X.syncErrorThrown=!0):(0,re.z)(Q),this.unsubscribe();else{if(this.unsubscribe(),te)throw Q;(0,re.z)(Q)}}}complete(){if(!this.isStopped){const{_parentSubscriber:Q}=this;if(this._complete){const X=()=>this._complete.call(this._context);be.v.useDeprecatedSynchronousErrorHandling&&Q.syncErrorThrowable?(this.__tryOrSetError(Q,X),this.unsubscribe()):(this.__tryOrUnsub(X),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(Q,X){try{Q.call(this._context,X)}catch(te){if(this.unsubscribe(),be.v.useDeprecatedSynchronousErrorHandling)throw te;(0,re.z)(te)}}__tryOrSetError(Q,X,te){if(!be.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{X.call(this._context,te)}catch(G){return be.v.useDeprecatedSynchronousErrorHandling?(Q.syncErrorValue=G,Q.syncErrorThrown=!0,!0):((0,re.z)(G),!0)}return!1}_unsubscribe(){const{_parentSubscriber:Q}=this;this._context=null,this._parentSubscriber=null,Q.unsubscribe()}}},2654:(zt,st,k)=>{"use strict";k.d(st,{w:()=>re});var l=k(6688),L=k(7830),U=k(7043);const be=(()=>{function we(ae){return Error.call(this),this.message=ae?`${ae.length} errors occurred during unsubscription:\n${ae.map((Q,X)=>`${X+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ae,this}return we.prototype=Object.create(Error.prototype),we})();class re{constructor(ae){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,ae&&(this._ctorUnsubscribe=!0,this._unsubscribe=ae)}unsubscribe(){let ae;if(this.closed)return;let{_parentOrParents:Q,_ctorUnsubscribe:X,_unsubscribe:te,_subscriptions:G}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,Q instanceof re)Q.remove(this);else if(null!==Q)for(let Re=0;Re<Q.length;++Re)Q[Re].remove(this);if((0,U.m)(te)){X&&(this._unsubscribe=void 0);try{te.call(this)}catch(Re){ae=Re instanceof be?ge(Re.errors):[Re]}}if((0,l.k)(G)){let Re=-1,Ke=G.length;for(;++Re<Ke;){const ue=G[Re];if((0,L.K)(ue))try{ue.unsubscribe()}catch(le){ae=ae||[],le instanceof be?ae=ae.concat(ge(le.errors)):ae.push(le)}}}if(ae)throw new be(ae)}add(ae){let Q=ae;if(!ae)return re.EMPTY;switch(typeof ae){case"function":Q=new re(ae);case"object":if(Q===this||Q.closed||"function"!=typeof Q.unsubscribe)return Q;if(this.closed)return Q.unsubscribe(),Q;if(!(Q instanceof re)){const G=Q;Q=new re,Q._subscriptions=[G]}break;default:throw new Error("unrecognized teardown "+ae+" added to Subscription.")}let{_parentOrParents:X}=Q;if(null===X)Q._parentOrParents=this;else if(X instanceof re){if(X===this)return Q;Q._parentOrParents=[X,this]}else{if(-1!==X.indexOf(this))return Q;X.push(this)}const te=this._subscriptions;return null===te?this._subscriptions=[Q]:te.push(Q),Q}remove(ae){const Q=this._subscriptions;if(Q){const X=Q.indexOf(ae);-1!==X&&Q.splice(X,1)}}}var we;function ge(we){return we.reduce((ae,Q)=>ae.concat(Q instanceof be?Q.errors:Q),[])}re.EMPTY=((we=new re).closed=!0,we)},2830:(zt,st,k)=>{"use strict";k.d(st,{v:()=>L});let l=!1;const L={Promise:void 0,set useDeprecatedSynchronousErrorHandling(U){if(U){const Ie=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+Ie.stack)}else l&&console.log("RxJS: Back to a better error behavior. Thank you. <3");l=U},get useDeprecatedSynchronousErrorHandling(){return l}}},1177:(zt,st,k)=>{"use strict";k.d(st,{Ds:()=>re,IY:()=>Ie,ft:()=>we});var l=k(3489),L=k(2916),U=k(9249);class Ie extends l.L{constructor(Q){super(),this.parent=Q}_next(Q){this.parent.notifyNext(Q)}_error(Q){this.parent.notifyError(Q),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class re extends l.L{notifyNext(Q){this.destination.next(Q)}notifyError(Q){this.destination.error(Q)}notifyComplete(){this.destination.complete()}}function we(ae,Q){if(Q.closed)return;if(ae instanceof L.y)return ae.subscribe(Q);let X;try{X=(0,U.s)(ae)(Q)}catch(te){Q.error(te)}return X}},1762:(zt,st,k)=>{"use strict";k.d(st,{N:()=>re,c:()=>be});var l=k(8929),L=k(2916),U=k(2654),Ie=k(4327);class be extends L.y{constructor(X,te){super(),this.source=X,this.subjectFactory=te,this._refCount=0,this._isComplete=!1}_subscribe(X){return this.getSubject().subscribe(X)}getSubject(){const X=this._subject;return(!X||X.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let X=this._connection;return X||(this._isComplete=!1,X=this._connection=new U.w,X.add(this.source.subscribe(new ge(this.getSubject(),this))),X.closed&&(this._connection=null,X=U.w.EMPTY)),X}refCount(){return(0,Ie.x)()(this)}}const re=(()=>{const Q=be.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:Q._subscribe},_isComplete:{value:Q._isComplete,writable:!0},getSubject:{value:Q.getSubject},connect:{value:Q.connect},refCount:{value:Q.refCount}}})();class ge extends l.Yc{constructor(X,te){super(X),this.connectable=te}_error(X){this._unsubscribe(),super._error(X)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const X=this.connectable;if(X){this.connectable=null;const te=X._connection;X._refCount=0,X._subject=null,X._connection=null,te&&te.unsubscribe()}}}},1221:(zt,st,k)=>{"use strict";k.d(st,{z:()=>Ie});var l=k(1086),L=k(9146);function Ie(...be){return function U(){return(0,L.J)(1)}()((0,l.of)(...be))}},8896:(zt,st,k)=>{"use strict";k.d(st,{E:()=>L,c:()=>U});var l=k(2916);const L=new l.y(be=>be.complete());function U(be){return be?function Ie(be){return new l.y(re=>be.schedule(()=>re.complete()))}(be):L}},5254:(zt,st,k)=>{"use strict";k.d(st,{D:()=>Ke});var l=k(2916),L=k(9249),U=k(2654),Ie=k(3821),ge=k(6454),we=k(5430),X=k(8955),te=k(8515);function Ke(ue,le){return le?function Re(ue,le){if(null!=ue){if(function Q(ue){return ue&&"function"==typeof ue[Ie.L]}(ue))return function be(ue,le){return new l.y(Se=>{const Ae=new U.w;return Ae.add(le.schedule(()=>{const z=ue[Ie.L]();Ae.add(z.subscribe({next(et){Ae.add(le.schedule(()=>Se.next(et)))},error(et){Ae.add(le.schedule(()=>Se.error(et)))},complete(){Ae.add(le.schedule(()=>Se.complete()))}}))})),Ae})}(ue,le);if((0,X.t)(ue))return function re(ue,le){return new l.y(Se=>{const Ae=new U.w;return Ae.add(le.schedule(()=>ue.then(z=>{Ae.add(le.schedule(()=>{Se.next(z),Ae.add(le.schedule(()=>Se.complete()))}))},z=>{Ae.add(le.schedule(()=>Se.error(z)))}))),Ae})}(ue,le);if((0,te.z)(ue))return(0,ge.r)(ue,le);if(function G(ue){return ue&&"function"==typeof ue[we.hZ]}(ue)||"string"==typeof ue)return function ae(ue,le){if(!ue)throw new Error("Iterable cannot be null");return new l.y(Se=>{const Ae=new U.w;let z;return Ae.add(()=>{z&&"function"==typeof z.return&&z.return()}),Ae.add(le.schedule(()=>{z=ue[we.hZ](),Ae.add(le.schedule(function(){if(Se.closed)return;let et,Ge;try{const lt=z.next();et=lt.value,Ge=lt.done}catch(lt){return void Se.error(lt)}Ge?Se.complete():(Se.next(et),this.schedule())}))})),Ae})}(ue,le)}throw new TypeError((null!==ue&&typeof ue||ue)+" is not observable")}(ue,le):ue instanceof l.y?ue:new l.y((0,L.s)(ue))}},3009:(zt,st,k)=>{"use strict";k.d(st,{n:()=>Ie});var l=k(2916),L=k(3650),U=k(6454);function Ie(be,re){return re?(0,U.r)(be,re):new l.y((0,L.V)(be))}},6787:(zt,st,k)=>{"use strict";k.d(st,{T:()=>be});var l=k(2916),L=k(2866),U=k(9146),Ie=k(3009);function be(...re){let ge=Number.POSITIVE_INFINITY,we=null,ae=re[re.length-1];return(0,L.K)(ae)?(we=re.pop(),re.length>1&&"number"==typeof re[re.length-1]&&(ge=re.pop())):"number"==typeof ae&&(ge=re.pop()),null===we&&1===re.length&&re[0]instanceof l.y?re[0]:(0,U.J)(ge)((0,Ie.n)(re,we))}},1086:(zt,st,k)=>{"use strict";k.d(st,{of:()=>Ie});var l=k(2866),L=k(3009),U=k(6454);function Ie(...be){let re=be[be.length-1];return(0,l.K)(re)?(be.pop(),(0,U.r)(be,re)):(0,L.n)(be)}},1737:(zt,st,k)=>{"use strict";k.d(st,{_:()=>L});var l=k(2916);function L(Ie,be){return new l.y(be?re=>be.schedule(U,0,{error:Ie,subscriber:re}):re=>re.error(Ie))}function U({error:Ie,subscriber:be}){be.error(Ie)}},7314:(zt,st,k)=>{"use strict";k.d(st,{d:()=>L});var l=k(3489);function L(be=null){return re=>re.lift(new U(be))}class U{constructor(re){this.defaultValue=re}call(re,ge){return ge.subscribe(new Ie(re,this.defaultValue))}}class Ie extends l.L{constructor(re,ge){super(re),this.defaultValue=ge,this.isEmpty=!0}_next(re){this.isEmpty=!1,this.destination.next(re)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},5778:(zt,st,k)=>{"use strict";k.d(st,{x:()=>L});var l=k(3489);function L(be,re){return ge=>ge.lift(new U(be,re))}class U{constructor(re,ge){this.compare=re,this.keySelector=ge}call(re,ge){return ge.subscribe(new Ie(re,this.compare,this.keySelector))}}class Ie extends l.L{constructor(re,ge,we){super(re),this.keySelector=we,this.hasKey=!1,"function"==typeof ge&&(this.compare=ge)}compare(re,ge){return re===ge}_next(re){let ge;try{const{keySelector:ae}=this;ge=ae?ae(re):re}catch(ae){return this.destination.error(ae)}let we=!1;if(this.hasKey)try{const{compare:ae}=this;we=ae(this.key,ge)}catch(ae){return this.destination.error(ae)}else this.hasKey=!0;we||(this.key=ge,this.destination.next(re))}}},2198:(zt,st,k)=>{"use strict";k.d(st,{h:()=>L});var l=k(3489);function L(be,re){return function(we){return we.lift(new U(be,re))}}class U{constructor(re,ge){this.predicate=re,this.thisArg=ge}call(re,ge){return ge.subscribe(new Ie(re,this.predicate,this.thisArg))}}class Ie extends l.L{constructor(re,ge,we){super(re),this.predicate=ge,this.thisArg=we,this.count=0}_next(re){let ge;try{ge=this.predicate.call(this.thisArg,re,this.count++)}catch(we){return void this.destination.error(we)}ge&&this.destination.next(re)}}},7224:(zt,st,k)=>{"use strict";k.d(st,{P:()=>ge});var l=k(4450),L=k(2198),U=k(2986),Ie=k(7314),be=k(4907),re=k(5379);function ge(we,ae){const Q=arguments.length>=2;return X=>X.pipe(we?(0,L.h)((te,G)=>we(te,G,X)):re.y,(0,U.q)(1),Q?(0,Ie.d)(ae):(0,be.T)(()=>new l.K))}},4850:(zt,st,k)=>{"use strict";k.d(st,{U:()=>L});var l=k(3489);function L(be,re){return function(we){if("function"!=typeof be)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return we.lift(new U(be,re))}}class U{constructor(re,ge){this.project=re,this.thisArg=ge}call(re,ge){return ge.subscribe(new Ie(re,this.project,this.thisArg))}}class Ie extends l.L{constructor(re,ge,we){super(re),this.project=ge,this.count=0,this.thisArg=we||this}_next(re){let ge;try{ge=this.project.call(this.thisArg,re,this.count++)}catch(we){return void this.destination.error(we)}this.destination.next(ge)}}},9146:(zt,st,k)=>{"use strict";k.d(st,{J:()=>U});var l=k(1709),L=k(5379);function U(Ie=Number.POSITIVE_INFINITY){return(0,l.zg)(L.y,Ie)}},1709:(zt,st,k)=>{"use strict";k.d(st,{zg:()=>Ie});var l=k(4850),L=k(5254),U=k(1177);function Ie(we,ae,Q=Number.POSITIVE_INFINITY){return"function"==typeof ae?X=>X.pipe(Ie((te,G)=>(0,L.D)(we(te,G)).pipe((0,l.U)((Re,Ke)=>ae(te,Re,G,Ke))),Q)):("number"==typeof ae&&(Q=ae),X=>X.lift(new be(we,Q)))}class be{constructor(ae,Q=Number.POSITIVE_INFINITY){this.project=ae,this.concurrent=Q}call(ae,Q){return Q.subscribe(new re(ae,this.project,this.concurrent))}}class re extends U.Ds{constructor(ae,Q,X=Number.POSITIVE_INFINITY){super(ae),this.project=Q,this.concurrent=X,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(ae){this.active<this.concurrent?this._tryNext(ae):this.buffer.push(ae)}_tryNext(ae){let Q;const X=this.index++;try{Q=this.project(ae,X)}catch(te){return void this.destination.error(te)}this.active++,this._innerSub(Q)}_innerSub(ae){const Q=new U.IY(this),X=this.destination;X.add(Q);const te=(0,U.ft)(ae,Q);te!==Q&&X.add(te)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(ae){this.destination.next(ae)}notifyComplete(){const ae=this.buffer;this.active--,ae.length>0?this._next(ae.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},2102:(zt,st,k)=>{"use strict";k.d(st,{ht:()=>ae,QV:()=>ge});var l=k(3489),L=k(8896),U=k(1086),Ie=k(1737);class re{constructor(te,G,Re){this.kind=te,this.value=G,this.error=Re,this.hasValue="N"===te}observe(te){switch(this.kind){case"N":return te.next&&te.next(this.value);case"E":return te.error&&te.error(this.error);case"C":return te.complete&&te.complete()}}do(te,G,Re){switch(this.kind){case"N":return te&&te(this.value);case"E":return G&&G(this.error);case"C":return Re&&Re()}}accept(te,G,Re){return te&&"function"==typeof te.next?this.observe(te):this.do(te,G,Re)}toObservable(){switch(this.kind){case"N":return(0,U.of)(this.value);case"E":return(0,Ie._)(this.error);case"C":return(0,L.c)()}throw new Error("unexpected notification kind value")}static createNext(te){return typeof te<"u"?new re("N",te):re.undefinedValueNotification}static createError(te){return new re("E",void 0,te)}static createComplete(){return re.completeNotification}}function ge(X,te=0){return function(Re){return Re.lift(new we(X,te))}}re.completeNotification=new re("C"),re.undefinedValueNotification=new re("N",void 0);class we{constructor(te,G=0){this.scheduler=te,this.delay=G}call(te,G){return G.subscribe(new ae(te,this.scheduler,this.delay))}}class ae extends l.L{constructor(te,G,Re=0){super(te),this.scheduler=G,this.delay=Re}static dispatch(te){const{notification:G,destination:Re}=te;G.observe(Re),this.unsubscribe()}scheduleMessage(te){this.destination.add(this.scheduler.schedule(ae.dispatch,this.delay,new Q(te,this.destination)))}_next(te){this.scheduleMessage(re.createNext(te))}_error(te){this.scheduleMessage(re.createError(te)),this.unsubscribe()}_complete(){this.scheduleMessage(re.createComplete()),this.unsubscribe()}}class Q{constructor(te,G){this.notification=te,this.destination=G}}},4327:(zt,st,k)=>{"use strict";k.d(st,{x:()=>L});var l=k(3489);function L(){return function(re){return re.lift(new U(re))}}class U{constructor(re){this.connectable=re}call(re,ge){const{connectable:we}=this;we._refCount++;const ae=new Ie(re,we),Q=ge.subscribe(ae);return ae.closed||(ae.connection=we.connect()),Q}}class Ie extends l.L{constructor(re,ge){super(re),this.connectable=ge}_unsubscribe(){const{connectable:re}=this;if(!re)return void(this.connection=null);this.connectable=null;const ge=re._refCount;if(ge<=0)return void(this.connection=null);if(re._refCount=ge-1,ge>1)return void(this.connection=null);const{connection:we}=this,ae=re._connection;this.connection=null,ae&&(!we||ae===we)&&ae.unsubscribe()}}},2014:(zt,st,k)=>{"use strict";k.d(st,{R:()=>L});var l=k(3489);function L(be,re){let ge=!1;return arguments.length>=2&&(ge=!0),function(ae){return ae.lift(new U(be,re,ge))}}class U{constructor(re,ge,we=!1){this.accumulator=re,this.seed=ge,this.hasSeed=we}call(re,ge){return ge.subscribe(new Ie(re,this.accumulator,this.seed,this.hasSeed))}}class Ie extends l.L{constructor(re,ge,we,ae){super(re),this.accumulator=ge,this._seed=we,this.hasSeed=ae,this.index=0}get seed(){return this._seed}set seed(re){this.hasSeed=!0,this._seed=re}_next(re){if(this.hasSeed)return this._tryNext(re);this.seed=re,this.destination.next(re)}_tryNext(re){const ge=this.index++;let we;try{we=this.accumulator(this.seed,re,ge)}catch(ae){this.destination.error(ae)}this.seed=we,this.destination.next(we)}}},1059:(zt,st,k)=>{"use strict";k.d(st,{O:()=>U});var l=k(1221),L=k(2866);function U(...Ie){const be=Ie[Ie.length-1];return(0,L.K)(be)?(Ie.pop(),re=>(0,l.z)(Ie,re,be)):re=>(0,l.z)(Ie,re)}},8915:(zt,st,k)=>{"use strict";k.d(st,{R:()=>le});var l=k(2916);let L=1;const U=Promise.resolve(),Ie={};function be(Ae){return Ae in Ie&&(delete Ie[Ae],!0)}const re={setImmediate(Ae){const z=L++;return Ie[z]=!0,U.then(()=>be(z)&&Ae()),z},clearImmediate(Ae){be(Ae)}};var we=k(6686),Q=k(2268);const G=new class X extends Q.v{flush(z){this.active=!0,this.scheduled=void 0;const{actions:et}=this;let Ge,lt=-1,ke=et.length;z=z||et.shift();do{if(Ge=z.execute(z.state,z.delay))break}while(++lt<ke&&(z=et.shift()));if(this.active=!1,Ge){for(;++lt<ke&&(z=et.shift());)z.unsubscribe();throw Ge}}}(class ae extends we.o{constructor(z,et){super(z,et),this.scheduler=z,this.work=et}requestAsyncId(z,et,Ge=0){return null!==Ge&&Ge>0?super.requestAsyncId(z,et,Ge):(z.actions.push(this),z.scheduled||(z.scheduled=re.setImmediate(z.flush.bind(z,null))))}recycleAsyncId(z,et,Ge=0){if(null!==Ge&&Ge>0||null===Ge&&this.delay>0)return super.recycleAsyncId(z,et,Ge);0===z.actions.length&&(re.clearImmediate(et),z.scheduled=void 0)}});var Re=k(6688);class ue extends l.y{constructor(z,et=0,Ge=G){super(),this.source=z,this.delayTime=et,this.scheduler=Ge,(!function Ke(Ae){return!(0,Re.k)(Ae)&&Ae-parseFloat(Ae)+1>=0}(et)||et<0)&&(this.delayTime=0),(!Ge||"function"!=typeof Ge.schedule)&&(this.scheduler=G)}static create(z,et=0,Ge=G){return new ue(z,et,Ge)}static dispatch(z){const{source:et,subscriber:Ge}=z;return this.add(et.subscribe(Ge))}_subscribe(z){return this.scheduler.schedule(ue.dispatch,this.delayTime,{source:this.source,subscriber:z})}}function le(Ae,z=0){return function(Ge){return Ge.lift(new Se(Ae,z))}}class Se{constructor(z,et){this.scheduler=z,this.delay=et}call(z,et){return new ue(et,this.delay,this.scheduler).subscribe(z)}}},7545:(zt,st,k)=>{"use strict";k.d(st,{w:()=>Ie});var l=k(4850),L=k(5254),U=k(1177);function Ie(ge,we){return"function"==typeof we?ae=>ae.pipe(Ie((Q,X)=>(0,L.D)(ge(Q,X)).pipe((0,l.U)((te,G)=>we(Q,te,X,G))))):ae=>ae.lift(new be(ge))}class be{constructor(we){this.project=we}call(we,ae){return ae.subscribe(new re(we,this.project))}}class re extends U.Ds{constructor(we,ae){super(we),this.project=ae,this.index=0}_next(we){let ae;const Q=this.index++;try{ae=this.project(we,Q)}catch(X){return void this.destination.error(X)}this._innerSub(ae)}_innerSub(we){const ae=this.innerSubscription;ae&&ae.unsubscribe();const Q=new U.IY(this),X=this.destination;X.add(Q),this.innerSubscription=(0,U.ft)(we,Q),this.innerSubscription!==Q&&X.add(this.innerSubscription)}_complete(){const{innerSubscription:we}=this;(!we||we.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(we){this.destination.next(we)}}},2986:(zt,st,k)=>{"use strict";k.d(st,{q:()=>Ie});var l=k(3489),L=k(4231),U=k(8896);function Ie(ge){return we=>0===ge?(0,U.c)():we.lift(new be(ge))}class be{constructor(we){if(this.total=we,this.total<0)throw new L.W}call(we,ae){return ae.subscribe(new re(we,this.total))}}class re extends l.L{constructor(we,ae){super(we),this.total=ae,this.count=0}_next(we){const ae=this.total,Q=++this.count;Q<=ae&&(this.destination.next(we),Q===ae&&(this.destination.complete(),this.unsubscribe()))}}},2868:(zt,st,k)=>{"use strict";k.d(st,{b:()=>Ie});var l=k(3489);function L(){}var U=k(7043);function Ie(ge,we,ae){return function(X){return X.lift(new be(ge,we,ae))}}class be{constructor(we,ae,Q){this.nextOrObserver=we,this.error=ae,this.complete=Q}call(we,ae){return ae.subscribe(new re(we,this.nextOrObserver,this.error,this.complete))}}class re extends l.L{constructor(we,ae,Q,X){super(we),this._tapNext=L,this._tapError=L,this._tapComplete=L,this._tapError=Q||L,this._tapComplete=X||L,(0,U.m)(ae)?(this._context=this,this._tapNext=ae):ae&&(this._context=ae,this._tapNext=ae.next||L,this._tapError=ae.error||L,this._tapComplete=ae.complete||L)}_next(we){try{this._tapNext.call(this._context,we)}catch(ae){return void this.destination.error(ae)}this.destination.next(we)}_error(we){try{this._tapError.call(this._context,we)}catch(ae){return void this.destination.error(ae)}this.destination.error(we)}_complete(){try{this._tapComplete.call(this._context)}catch(we){return void this.destination.error(we)}return this.destination.complete()}}},4907:(zt,st,k)=>{"use strict";k.d(st,{T:()=>U});var l=k(4450),L=k(3489);function U(ge=re){return we=>we.lift(new Ie(ge))}class Ie{constructor(we){this.errorFactory=we}call(we,ae){return ae.subscribe(new be(we,this.errorFactory))}}class be extends L.L{constructor(we,ae){super(we),this.errorFactory=ae,this.hasValue=!1}_next(we){this.hasValue=!0,this.destination.next(we)}_complete(){if(this.hasValue)return this.destination.complete();{let we;try{we=this.errorFactory()}catch(ae){we=ae}this.destination.error(we)}}}function re(){return new l.K}},6454:(zt,st,k)=>{"use strict";k.d(st,{r:()=>U});var l=k(2916),L=k(2654);function U(Ie,be){return new l.y(re=>{const ge=new L.w;let we=0;return ge.add(be.schedule(function(){we!==Ie.length?(re.next(Ie[we++]),re.closed||ge.add(this.schedule())):re.complete()})),ge})}},6686:(zt,st,k)=>{"use strict";k.d(st,{o:()=>U});var l=k(2654);class L extends l.w{constructor(be,re){super()}schedule(be,re=0){return this}}class U extends L{constructor(be,re){super(be,re),this.scheduler=be,this.work=re,this.pending=!1}schedule(be,re=0){if(this.closed)return this;this.state=be;const ge=this.id,we=this.scheduler;return null!=ge&&(this.id=this.recycleAsyncId(we,ge,re)),this.pending=!0,this.delay=re,this.id=this.id||this.requestAsyncId(we,this.id,re),this}requestAsyncId(be,re,ge=0){return setInterval(be.flush.bind(be,this),ge)}recycleAsyncId(be,re,ge=0){if(null!==ge&&this.delay===ge&&!1===this.pending)return re;clearInterval(re)}execute(be,re){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ge=this._execute(be,re);if(ge)return ge;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(be,re){let we,ge=!1;try{this.work(be)}catch(ae){ge=!0,we=!!ae&&ae||new Error(ae)}if(ge)return this.unsubscribe(),we}_unsubscribe(){const be=this.id,re=this.scheduler,ge=re.actions,we=ge.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==we&&ge.splice(we,1),null!=be&&(this.id=this.recycleAsyncId(re,be,null)),this.delay=null}}},2268:(zt,st,k)=>{"use strict";k.d(st,{v:()=>L});let l=(()=>{class U{constructor(be,re=U.now){this.SchedulerAction=be,this.now=re}schedule(be,re=0,ge){return new this.SchedulerAction(this,be).schedule(ge,re)}}return U.now=()=>Date.now(),U})();class L extends l{constructor(Ie,be=l.now){super(Ie,()=>L.delegate&&L.delegate!==this?L.delegate.now():be()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(Ie,be=0,re){return L.delegate&&L.delegate!==this?L.delegate.schedule(Ie,be,re):super.schedule(Ie,be,re)}flush(Ie){const{actions:be}=this;if(this.active)return void be.push(Ie);let re;this.active=!0;do{if(re=Ie.execute(Ie.state,Ie.delay))break}while(Ie=be.shift());if(this.active=!1,re){for(;Ie=be.shift();)Ie.unsubscribe();throw re}}}},353:(zt,st,k)=>{"use strict";k.d(st,{P:()=>Ie,z:()=>U});var l=k(6686);const U=new(k(2268).v)(l.o),Ie=U},341:(zt,st,k)=>{"use strict";k.d(st,{c:()=>re,N:()=>be});var l=k(6686),U=k(2268);const be=new class Ie extends U.v{}(class L extends l.o{constructor(we,ae){super(we,ae),this.scheduler=we,this.work=ae}schedule(we,ae=0){return ae>0?super.schedule(we,ae):(this.delay=ae,this.state=we,this.scheduler.flush(this),this)}execute(we,ae){return ae>0||this.closed?super.execute(we,ae):this._execute(we,ae)}requestAsyncId(we,ae,Q=0){return null!==Q&&Q>0||null===Q&&this.delay>0?super.requestAsyncId(we,ae,Q):we.flush(this)}}),re=be},5430:(zt,st,k)=>{"use strict";k.d(st,{hZ:()=>L});const L=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3821:(zt,st,k)=>{"use strict";k.d(st,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},7668:(zt,st,k)=>{"use strict";k.d(st,{b:()=>l});const l="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},4231:(zt,st,k)=>{"use strict";k.d(st,{W:()=>L});const L=(()=>{function U(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return U.prototype=Object.create(Error.prototype),U})()},4450:(zt,st,k)=>{"use strict";k.d(st,{K:()=>L});const L=(()=>{function U(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return U.prototype=Object.create(Error.prototype),U})()},5279:(zt,st,k)=>{"use strict";k.d(st,{N:()=>L});const L=(()=>{function U(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return U.prototype=Object.create(Error.prototype),U})()},2782:(zt,st,k)=>{"use strict";function l(L){setTimeout(()=>{throw L},0)}k.d(st,{z:()=>l})},5379:(zt,st,k)=>{"use strict";function l(L){return L}k.d(st,{y:()=>l})},6688:(zt,st,k)=>{"use strict";k.d(st,{k:()=>l});const l=Array.isArray||(L=>L&&"number"==typeof L.length)},8515:(zt,st,k)=>{"use strict";k.d(st,{z:()=>l});const l=L=>L&&"number"==typeof L.length&&"function"!=typeof L},7043:(zt,st,k)=>{"use strict";function l(L){return"function"==typeof L}k.d(st,{m:()=>l})},7830:(zt,st,k)=>{"use strict";function l(L){return null!==L&&"object"==typeof L}k.d(st,{K:()=>l})},8955:(zt,st,k)=>{"use strict";function l(L){return!!L&&"function"!=typeof L.subscribe&&"function"==typeof L.then}k.d(st,{t:()=>l})},2866:(zt,st,k)=>{"use strict";function l(L){return L&&"function"==typeof L.schedule}k.d(st,{K:()=>l})},9249:(zt,st,k)=>{"use strict";k.d(st,{s:()=>X});var l=k(3650),L=k(2782),Ie=k(5430),re=k(3821),we=k(8515),ae=k(8955),Q=k(7830);const X=te=>{if(te&&"function"==typeof te[re.L])return(te=>G=>{const Re=te[re.L]();if("function"!=typeof Re.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return Re.subscribe(G)})(te);if((0,we.z)(te))return(0,l.V)(te);if((0,ae.t)(te))return(te=>G=>(te.then(Re=>{G.closed||(G.next(Re),G.complete())},Re=>G.error(Re)).then(null,L.z),G))(te);if(te&&"function"==typeof te[Ie.hZ])return(te=>G=>{const Re=te[Ie.hZ]();for(;;){let Ke;try{Ke=Re.next()}catch(ue){return G.error(ue),G}if(Ke.done){G.complete();break}if(G.next(Ke.value),G.closed)break}return"function"==typeof Re.return&&G.add(()=>{Re.return&&Re.return()}),G})(te);{const Re=`You provided ${(0,Q.K)(te)?"an invalid object":`'${te}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(Re)}}},3650:(zt,st,k)=>{"use strict";k.d(st,{V:()=>l});const l=L=>U=>{for(let Ie=0,be=L.length;Ie<be&&!U.closed;Ie++)U.next(L[Ie]);U.complete()}},863:(zt,st,k)=>{var l={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,53],"./ion-avatar_3.entry.js":[4753,8592,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,8592,5652],"./ion-card_5.entry.js":[388,8592,388],"./ion-checkbox.entry.js":[9922,8592,9922],"./ion-chip.entry.js":[657,8592,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime_3.entry.js":[4959,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,8034],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,2933],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,8592,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,8592,3804],"./ion-progress-bar.entry.js":[4174,8592,4174],"./ion-radio_2.entry.js":[4432,8592,4432],"./ion-range.entry.js":[3545,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,3326],"./ion-reorder_2.entry.js":[3583,8592,3583],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,8592,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,8592,2773],"./ion-slide_2.entry.js":[1650,1650],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,8592,1536],"./ion-text.entry.js":[4376,8592,4376],"./ion-textarea.entry.js":[6560,8592,6560],"./ion-toast.entry.js":[6120,8592,6120],"./ion-toggle.entry.js":[5168,8592,5168],"./ion-virtual-scroll.entry.js":[2289,2289]};function L(U){if(!k.o(l,U))return Promise.resolve().then(()=>{var re=new Error("Cannot find module '"+U+"'");throw re.code="MODULE_NOT_FOUND",re});var Ie=l[U],be=Ie[0];return Promise.all(Ie.slice(1).map(k.e)).then(()=>k(be))}L.keys=()=>Object.keys(l),L.id=863,zt.exports=L},655:(zt,st,k)=>{"use strict";function Ie(ce,ee){var se={};for(var Me in ce)Object.prototype.hasOwnProperty.call(ce,Me)&&ee.indexOf(Me)<0&&(se[Me]=ce[Me]);if(null!=ce&&"function"==typeof Object.getOwnPropertySymbols){var Ne=0;for(Me=Object.getOwnPropertySymbols(ce);Ne<Me.length;Ne++)ee.indexOf(Me[Ne])<0&&Object.prototype.propertyIsEnumerable.call(ce,Me[Ne])&&(se[Me[Ne]]=ce[Me[Ne]])}return se}function be(ce,ee,se,Me){var At,Ne=arguments.length,mt=Ne<3?ee:null===Me?Me=Object.getOwnPropertyDescriptor(ee,se):Me;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)mt=Reflect.decorate(ce,ee,se,Me);else for(var tt=ce.length-1;tt>=0;tt--)(At=ce[tt])&&(mt=(Ne<3?At(mt):Ne>3?At(ee,se,mt):At(ee,se))||mt);return Ne>3&&mt&&Object.defineProperty(ee,se,mt),mt}function we(ce,ee,se,Me){return new(se||(se=Promise))(function(mt,At){function tt(De){try{We(Me.next(De))}catch(qe){At(qe)}}function ct(De){try{We(Me.throw(De))}catch(qe){At(qe)}}function We(De){De.done?mt(De.value):function Ne(mt){return mt instanceof se?mt:new se(function(At){At(mt)})}(De.value).then(tt,ct)}We((Me=Me.apply(ce,ee||[])).next())})}k.d(st,{_T:()=>Ie,gn:()=>be,mG:()=>we})},6895:(zt,st,k)=>{"use strict";k.d(st,{Do:()=>et,EM:()=>Si,HT:()=>be,JF:()=>Ms,K0:()=>ge,Mx:()=>ni,O5:()=>Ve,Ov:()=>nn,PM:()=>hi,S$:()=>le,V_:()=>Q,Ye:()=>Ge,b0:()=>z,bD:()=>Di,ez:()=>ci,mk:()=>Mr,q:()=>U,sg:()=>Yr,tP:()=>yr,uU:()=>yi,w_:()=>re});var l=k(5062);let L=null;function U(){return L}function be(P){L||(L=P)}class re{}const ge=new l.OlP("DocumentToken");let we=(()=>{class P{historyGo(N){throw new Error("Not implemented")}}return P.\u0275fac=function(N){return new(N||P)},P.\u0275prov=l.Yz7({token:P,factory:function(){return function ae(){return(0,l.LFG)(X)}()},providedIn:"platform"}),P})();const Q=new l.OlP("Location Initialized");let X=(()=>{class P extends we{constructor(N){super(),this._doc=N,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return U().getBaseHref(this._doc)}onPopState(N){const Z=U().getGlobalEventTarget(this._doc,"window");return Z.addEventListener("popstate",N,!1),()=>Z.removeEventListener("popstate",N)}onHashChange(N){const Z=U().getGlobalEventTarget(this._doc,"window");return Z.addEventListener("hashchange",N,!1),()=>Z.removeEventListener("hashchange",N)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(N){this.location.pathname=N}pushState(N,Z,je){te()?this._history.pushState(N,Z,je):this.location.hash=je}replaceState(N,Z,je){te()?this._history.replaceState(N,Z,je):this.location.hash=je}forward(){this._history.forward()}back(){this._history.back()}historyGo(N=0){this._history.go(N)}getState(){return this._history.state}}return P.\u0275fac=function(N){return new(N||P)(l.LFG(ge))},P.\u0275prov=l.Yz7({token:P,factory:function(){return function G(){return new X((0,l.LFG)(ge))}()},providedIn:"platform"}),P})();function te(){return!!window.history.pushState}function Re(P,Y){if(0==P.length)return Y;if(0==Y.length)return P;let N=0;return P.endsWith("/")&&N++,Y.startsWith("/")&&N++,2==N?P+Y.substring(1):1==N?P+Y:P+"/"+Y}function Ke(P){const Y=P.match(/#|\?|$/),N=Y&&Y.index||P.length;return P.slice(0,N-("/"===P[N-1]?1:0))+P.slice(N)}function ue(P){return P&&"?"!==P[0]?"?"+P:P}let le=(()=>{class P{historyGo(N){throw new Error("Not implemented")}}return P.\u0275fac=function(N){return new(N||P)},P.\u0275prov=l.Yz7({token:P,factory:function(){return function Se(){const P=(0,l.LFG)(ge).location;return new z((0,l.LFG)(we),P&&P.origin||"")}()},providedIn:"root"}),P})();const Ae=new l.OlP("appBaseHref");let z=(()=>{class P extends le{constructor(N,Z){if(super(),this._platformLocation=N,this._removeListenerFns=[],null==Z&&(Z=this._platformLocation.getBaseHrefFromDOM()),null==Z)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=Z}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}prepareExternalUrl(N){return Re(this._baseHref,N)}path(N=!1){const Z=this._platformLocation.pathname+ue(this._platformLocation.search),je=this._platformLocation.hash;return je&&N?`${Z}${je}`:Z}pushState(N,Z,je,pt){const bt=this.prepareExternalUrl(je+ue(pt));this._platformLocation.pushState(N,Z,bt)}replaceState(N,Z,je,pt){const bt=this.prepareExternalUrl(je+ue(pt));this._platformLocation.replaceState(N,Z,bt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){this._platformLocation.historyGo?.(N)}}return P.\u0275fac=function(N){return new(N||P)(l.LFG(we),l.LFG(Ae,8))},P.\u0275prov=l.Yz7({token:P,factory:P.\u0275fac}),P})(),et=(()=>{class P extends le{constructor(N,Z){super(),this._platformLocation=N,this._baseHref="",this._removeListenerFns=[],null!=Z&&(this._baseHref=Z)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(N){this._removeListenerFns.push(this._platformLocation.onPopState(N),this._platformLocation.onHashChange(N))}getBaseHref(){return this._baseHref}path(N=!1){let Z=this._platformLocation.hash;return null==Z&&(Z="#"),Z.length>0?Z.substring(1):Z}prepareExternalUrl(N){const Z=Re(this._baseHref,N);return Z.length>0?"#"+Z:Z}pushState(N,Z,je,pt){let bt=this.prepareExternalUrl(je+ue(pt));0==bt.length&&(bt=this._platformLocation.pathname),this._platformLocation.pushState(N,Z,bt)}replaceState(N,Z,je,pt){let bt=this.prepareExternalUrl(je+ue(pt));0==bt.length&&(bt=this._platformLocation.pathname),this._platformLocation.replaceState(N,Z,bt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(N=0){this._platformLocation.historyGo?.(N)}}return P.\u0275fac=function(N){return new(N||P)(l.LFG(we),l.LFG(Ae,8))},P.\u0275prov=l.Yz7({token:P,factory:P.\u0275fac}),P})(),Ge=(()=>{class P{constructor(N){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=N;const Z=this._locationStrategy.getBaseHref();this._baseHref=Ke(ot(Z)),this._locationStrategy.onPopState(je=>{this._subject.emit({url:this.path(!0),pop:!0,state:je.state,type:je.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(N=!1){return this.normalize(this._locationStrategy.path(N))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(N,Z=""){return this.path()==this.normalize(N+ue(Z))}normalize(N){return P.stripTrailingSlash(function ke(P,Y){return P&&Y.startsWith(P)?Y.substring(P.length):Y}(this._baseHref,ot(N)))}prepareExternalUrl(N){return N&&"/"!==N[0]&&(N="/"+N),this._locationStrategy.prepareExternalUrl(N)}go(N,Z="",je=null){this._locationStrategy.pushState(je,"",N,Z),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+ue(Z)),je)}replaceState(N,Z="",je=null){this._locationStrategy.replaceState(je,"",N,Z),this._notifyUrlChangeListeners(this.prepareExternalUrl(N+ue(Z)),je)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(N=0){this._locationStrategy.historyGo?.(N)}onUrlChange(N){return this._urlChangeListeners.push(N),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Z=>{this._notifyUrlChangeListeners(Z.url,Z.state)})),()=>{const Z=this._urlChangeListeners.indexOf(N);this._urlChangeListeners.splice(Z,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(N="",Z){this._urlChangeListeners.forEach(je=>je(N,Z))}subscribe(N,Z,je){return this._subject.subscribe({next:N,error:Z,complete:je})}}return P.normalizeQueryParams=ue,P.joinWithSlash=Re,P.stripTrailingSlash=Ke,P.\u0275fac=function(N){return new(N||P)(l.LFG(le))},P.\u0275prov=l.Yz7({token:P,factory:function(){return function lt(){return new Ge((0,l.LFG)(le))}()},providedIn:"root"}),P})();function ot(P){return P.replace(/\/index.html$/,"")}var ee=(()=>((ee=ee||{})[ee.Format=0]="Format",ee[ee.Standalone=1]="Standalone",ee))(),se=(()=>((se=se||{})[se.Narrow=0]="Narrow",se[se.Abbreviated=1]="Abbreviated",se[se.Wide=2]="Wide",se[se.Short=3]="Short",se))(),Me=(()=>((Me=Me||{})[Me.Short=0]="Short",Me[Me.Medium=1]="Medium",Me[Me.Long=2]="Long",Me[Me.Full=3]="Full",Me))(),Ne=(()=>((Ne=Ne||{})[Ne.Decimal=0]="Decimal",Ne[Ne.Group=1]="Group",Ne[Ne.List=2]="List",Ne[Ne.PercentSign=3]="PercentSign",Ne[Ne.PlusSign=4]="PlusSign",Ne[Ne.MinusSign=5]="MinusSign",Ne[Ne.Exponential=6]="Exponential",Ne[Ne.SuperscriptingExponent=7]="SuperscriptingExponent",Ne[Ne.PerMille=8]="PerMille",Ne[Ne.Infinity=9]="Infinity",Ne[Ne.NaN=10]="NaN",Ne[Ne.TimeSeparator=11]="TimeSeparator",Ne[Ne.CurrencyDecimal=12]="CurrencyDecimal",Ne[Ne.CurrencyGroup=13]="CurrencyGroup",Ne))();function at(P,Y){return An((0,l.cg1)(P)[l.wAp.DateFormat],Y)}function Ct(P,Y){return An((0,l.cg1)(P)[l.wAp.TimeFormat],Y)}function gt(P,Y){return An((0,l.cg1)(P)[l.wAp.DateTimeFormat],Y)}function kt(P,Y){const N=(0,l.cg1)(P),Z=N[l.wAp.NumberSymbols][Y];if(typeof Z>"u"){if(Y===Ne.CurrencyDecimal)return N[l.wAp.NumberSymbols][Ne.Decimal];if(Y===Ne.CurrencyGroup)return N[l.wAp.NumberSymbols][Ne.Group]}return Z}function jn(P){if(!P[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${P[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function An(P,Y){for(let N=Y;N>-1;N--)if(typeof P[N]<"u")return P[N];throw new Error("Locale data API: locale data undefined")}function zn(P){const[Y,N]=P.split(":");return{hours:+Y,minutes:+N}}const bn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,mr={},Bt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Wn=(()=>((Wn=Wn||{})[Wn.Short=0]="Short",Wn[Wn.ShortGMT=1]="ShortGMT",Wn[Wn.Long=2]="Long",Wn[Wn.Extended=3]="Extended",Wn))(),Kt=(()=>((Kt=Kt||{})[Kt.FullYear=0]="FullYear",Kt[Kt.Month=1]="Month",Kt[Kt.Date=2]="Date",Kt[Kt.Hours=3]="Hours",Kt[Kt.Minutes=4]="Minutes",Kt[Kt.Seconds=5]="Seconds",Kt[Kt.FractionalSeconds=6]="FractionalSeconds",Kt[Kt.Day=7]="Day",Kt))(),sn=(()=>((sn=sn||{})[sn.DayPeriods=0]="DayPeriods",sn[sn.Days=1]="Days",sn[sn.Months=2]="Months",sn[sn.Eras=3]="Eras",sn))();function Er(P,Y,N,Z){let je=function gi(P){if(xr(P))return P;if("number"==typeof P&&!isNaN(P))return new Date(P);if("string"==typeof P){if(P=P.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(P)){const[je,pt=1,bt=1]=P.split("-").map(cn=>+cn);return Lr(je,pt-1,bt)}const N=parseFloat(P);if(!isNaN(P-N))return new Date(N);let Z;if(Z=P.match(bn))return function er(P){const Y=new Date(0);let N=0,Z=0;const je=P[8]?Y.setUTCFullYear:Y.setFullYear,pt=P[8]?Y.setUTCHours:Y.setHours;P[9]&&(N=Number(P[9]+P[10]),Z=Number(P[9]+P[11])),je.call(Y,Number(P[1]),Number(P[2])-1,Number(P[3]));const bt=Number(P[4]||0)-N,cn=Number(P[5]||0)-Z,pr=Number(P[6]||0),dr=Math.floor(1e3*parseFloat("0."+(P[7]||0)));return pt.call(Y,bt,cn,pr,dr),Y}(Z)}const Y=new Date(P);if(!xr(Y))throw new Error(`Unable to convert "${P}" into a date`);return Y}(P);Y=kn(N,Y)||Y;let cn,bt=[];for(;Y;){if(cn=Bt.exec(Y),!cn){bt.push(Y);break}{bt=bt.concat(cn.slice(1));const Cr=bt.pop();if(!Cr)break;Y=Cr}}let pr=je.getTimezoneOffset();Z&&(pr=rr(Z,pr),je=function jr(P,Y,N){const Z=N?-1:1,je=P.getTimezoneOffset();return function ar(P,Y){return(P=new Date(P.getTime())).setMinutes(P.getMinutes()+Y),P}(P,Z*(rr(Y,je)-je))}(je,Z,!0));let dr="";return bt.forEach(Cr=>{const Kn=function rn(P){if(Ln[P])return Ln[P];let Y;switch(P){case"G":case"GG":case"GGG":Y=Ce(sn.Eras,se.Abbreviated);break;case"GGGG":Y=Ce(sn.Eras,se.Wide);break;case"GGGGG":Y=Ce(sn.Eras,se.Narrow);break;case"y":Y=Nn(Kt.FullYear,1,0,!1,!0);break;case"yy":Y=Nn(Kt.FullYear,2,0,!0,!0);break;case"yyy":Y=Nn(Kt.FullYear,3,0,!1,!0);break;case"yyyy":Y=Nn(Kt.FullYear,4,0,!1,!0);break;case"Y":Y=Fn(1);break;case"YY":Y=Fn(2,!0);break;case"YYY":Y=Fn(3);break;case"YYYY":Y=Fn(4);break;case"M":case"L":Y=Nn(Kt.Month,1,1);break;case"MM":case"LL":Y=Nn(Kt.Month,2,1);break;case"MMM":Y=Ce(sn.Months,se.Abbreviated);break;case"MMMM":Y=Ce(sn.Months,se.Wide);break;case"MMMMM":Y=Ce(sn.Months,se.Narrow);break;case"LLL":Y=Ce(sn.Months,se.Abbreviated,ee.Standalone);break;case"LLLL":Y=Ce(sn.Months,se.Wide,ee.Standalone);break;case"LLLLL":Y=Ce(sn.Months,se.Narrow,ee.Standalone);break;case"w":Y=un(1);break;case"ww":Y=un(2);break;case"W":Y=un(1,!0);break;case"d":Y=Nn(Kt.Date,1);break;case"dd":Y=Nn(Kt.Date,2);break;case"c":case"cc":Y=Nn(Kt.Day,1);break;case"ccc":Y=Ce(sn.Days,se.Abbreviated,ee.Standalone);break;case"cccc":Y=Ce(sn.Days,se.Wide,ee.Standalone);break;case"ccccc":Y=Ce(sn.Days,se.Narrow,ee.Standalone);break;case"cccccc":Y=Ce(sn.Days,se.Short,ee.Standalone);break;case"E":case"EE":case"EEE":Y=Ce(sn.Days,se.Abbreviated);break;case"EEEE":Y=Ce(sn.Days,se.Wide);break;case"EEEEE":Y=Ce(sn.Days,se.Narrow);break;case"EEEEEE":Y=Ce(sn.Days,se.Short);break;case"a":case"aa":case"aaa":Y=Ce(sn.DayPeriods,se.Abbreviated);break;case"aaaa":Y=Ce(sn.DayPeriods,se.Wide);break;case"aaaaa":Y=Ce(sn.DayPeriods,se.Narrow);break;case"b":case"bb":case"bbb":Y=Ce(sn.DayPeriods,se.Abbreviated,ee.Standalone,!0);break;case"bbbb":Y=Ce(sn.DayPeriods,se.Wide,ee.Standalone,!0);break;case"bbbbb":Y=Ce(sn.DayPeriods,se.Narrow,ee.Standalone,!0);break;case"B":case"BB":case"BBB":Y=Ce(sn.DayPeriods,se.Abbreviated,ee.Format,!0);break;case"BBBB":Y=Ce(sn.DayPeriods,se.Wide,ee.Format,!0);break;case"BBBBB":Y=Ce(sn.DayPeriods,se.Narrow,ee.Format,!0);break;case"h":Y=Nn(Kt.Hours,1,-12);break;case"hh":Y=Nn(Kt.Hours,2,-12);break;case"H":Y=Nn(Kt.Hours,1);break;case"HH":Y=Nn(Kt.Hours,2);break;case"m":Y=Nn(Kt.Minutes,1);break;case"mm":Y=Nn(Kt.Minutes,2);break;case"s":Y=Nn(Kt.Seconds,1);break;case"ss":Y=Nn(Kt.Seconds,2);break;case"S":Y=Nn(Kt.FractionalSeconds,1);break;case"SS":Y=Nn(Kt.FractionalSeconds,2);break;case"SSS":Y=Nn(Kt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":Y=Le(Wn.Short);break;case"ZZZZZ":Y=Le(Wn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":Y=Le(Wn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":Y=Le(Wn.Long);break;default:return null}return Ln[P]=Y,Y}(Cr);dr+=Kn?Kn(je,N,pr):"''"===Cr?"'":Cr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),dr}function Lr(P,Y,N){const Z=new Date(0);return Z.setFullYear(P,Y,N),Z.setHours(0,0,0),Z}function kn(P,Y){const N=function At(P){return(0,l.cg1)(P)[l.wAp.LocaleId]}(P);if(mr[N]=mr[N]||{},mr[N][Y])return mr[N][Y];let Z="";switch(Y){case"shortDate":Z=at(P,Me.Short);break;case"mediumDate":Z=at(P,Me.Medium);break;case"longDate":Z=at(P,Me.Long);break;case"fullDate":Z=at(P,Me.Full);break;case"shortTime":Z=Ct(P,Me.Short);break;case"mediumTime":Z=Ct(P,Me.Medium);break;case"longTime":Z=Ct(P,Me.Long);break;case"fullTime":Z=Ct(P,Me.Full);break;case"short":const je=kn(P,"shortTime"),pt=kn(P,"shortDate");Z=qn(gt(P,Me.Short),[je,pt]);break;case"medium":const bt=kn(P,"mediumTime"),cn=kn(P,"mediumDate");Z=qn(gt(P,Me.Medium),[bt,cn]);break;case"long":const pr=kn(P,"longTime"),dr=kn(P,"longDate");Z=qn(gt(P,Me.Long),[pr,dr]);break;case"full":const Cr=kn(P,"fullTime"),Kn=kn(P,"fullDate");Z=qn(gt(P,Me.Full),[Cr,Kn])}return Z&&(mr[N][Y]=Z),Z}function qn(P,Y){return Y&&(P=P.replace(/\{([^}]+)}/g,function(N,Z){return null!=Y&&Z in Y?Y[Z]:N})),P}function hr(P,Y,N="-",Z,je){let pt="";(P<0||je&&P<=0)&&(je?P=1-P:(P=-P,pt=N));let bt=String(P);for(;bt.length<Y;)bt="0"+bt;return Z&&(bt=bt.slice(bt.length-Y)),pt+bt}function Nn(P,Y,N=0,Z=!1,je=!1){return function(pt,bt){let cn=function Fe(P,Y){switch(P){case Kt.FullYear:return Y.getFullYear();case Kt.Month:return Y.getMonth();case Kt.Date:return Y.getDate();case Kt.Hours:return Y.getHours();case Kt.Minutes:return Y.getMinutes();case Kt.Seconds:return Y.getSeconds();case Kt.FractionalSeconds:return Y.getMilliseconds();case Kt.Day:return Y.getDay();default:throw new Error(`Unknown DateType value "${P}".`)}}(P,pt);if((N>0||cn>-N)&&(cn+=N),P===Kt.Hours)0===cn&&-12===N&&(cn=12);else if(P===Kt.FractionalSeconds)return function Pr(P,Y){return hr(P,3).substring(0,Y)}(cn,Y);const pr=kt(bt,Ne.MinusSign);return hr(cn,Y,pr,Z,je)}}function Ce(P,Y,N=ee.Format,Z=!1){return function(je,pt){return function Je(P,Y,N,Z,je,pt){switch(N){case sn.Months:return function We(P,Y,N){const Z=(0,l.cg1)(P),pt=An([Z[l.wAp.MonthsFormat],Z[l.wAp.MonthsStandalone]],Y);return An(pt,N)}(Y,je,Z)[P.getMonth()];case sn.Days:return function ct(P,Y,N){const Z=(0,l.cg1)(P),pt=An([Z[l.wAp.DaysFormat],Z[l.wAp.DaysStandalone]],Y);return An(pt,N)}(Y,je,Z)[P.getDay()];case sn.DayPeriods:const bt=P.getHours(),cn=P.getMinutes();if(pt){const dr=function Qn(P){const Y=(0,l.cg1)(P);return jn(Y),(Y[l.wAp.ExtraData][2]||[]).map(Z=>"string"==typeof Z?zn(Z):[zn(Z[0]),zn(Z[1])])}(Y),Cr=function gn(P,Y,N){const Z=(0,l.cg1)(P);jn(Z);const pt=An([Z[l.wAp.ExtraData][0],Z[l.wAp.ExtraData][1]],Y)||[];return An(pt,N)||[]}(Y,je,Z),Kn=dr.findIndex(Hr=>{if(Array.isArray(Hr)){const[$n,Xr]=Hr,fi=bt>=$n.hours&&cn>=$n.minutes,Gr=bt<Xr.hours||bt===Xr.hours&&cn<Xr.minutes;if($n.hours<Xr.hours){if(fi&&Gr)return!0}else if(fi||Gr)return!0}else if(Hr.hours===bt&&Hr.minutes===cn)return!0;return!1});if(-1!==Kn)return Cr[Kn]}return function tt(P,Y,N){const Z=(0,l.cg1)(P),pt=An([Z[l.wAp.DayPeriodsFormat],Z[l.wAp.DayPeriodsStandalone]],Y);return An(pt,N)}(Y,je,Z)[bt<12?0:1];case sn.Eras:return function De(P,Y){return An((0,l.cg1)(P)[l.wAp.Eras],Y)}(Y,Z)[P.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${N}`)}}(je,pt,P,Y,N,Z)}}function Le(P){return function(Y,N,Z){const je=-1*Z,pt=kt(N,Ne.MinusSign),bt=je>0?Math.floor(je/60):Math.ceil(je/60);switch(P){case Wn.Short:return(je>=0?"+":"")+hr(bt,2,pt)+hr(Math.abs(je%60),2,pt);case Wn.ShortGMT:return"GMT"+(je>=0?"+":"")+hr(bt,1,pt);case Wn.Long:return"GMT"+(je>=0?"+":"")+hr(bt,2,pt)+":"+hr(Math.abs(je%60),2,pt);case Wn.Extended:return 0===Z?"Z":(je>=0?"+":"")+hr(bt,2,pt)+":"+hr(Math.abs(je%60),2,pt);default:throw new Error(`Unknown zone width "${P}"`)}}}function $t(P){return Lr(P.getFullYear(),P.getMonth(),P.getDate()+(4-P.getDay()))}function un(P,Y=!1){return function(N,Z){let je;if(Y){const pt=new Date(N.getFullYear(),N.getMonth(),1).getDay()-1,bt=N.getDate();je=1+Math.floor((bt+pt)/7)}else{const pt=$t(N),bt=function Mt(P){const Y=Lr(P,0,1).getDay();return Lr(P,0,1+(Y<=4?4:11)-Y)}(pt.getFullYear()),cn=pt.getTime()-bt.getTime();je=1+Math.round(cn/6048e5)}return hr(je,P,kt(Z,Ne.MinusSign))}}function Fn(P,Y=!1){return function(N,Z){return hr($t(N).getFullYear(),P,kt(Z,Ne.MinusSign),Y)}}const Ln={};function rr(P,Y){P=P.replace(/:/g,"");const N=Date.parse("Jan 01, 1970 00:00:00 "+P)/6e4;return isNaN(N)?Y:N}function xr(P){return P instanceof Date&&!isNaN(P.valueOf())}function ni(P,Y){Y=encodeURIComponent(Y);for(const N of P.split(";")){const Z=N.indexOf("="),[je,pt]=-1==Z?[N,""]:[N.slice(0,Z),N.slice(Z+1)];if(je.trim()===Y)return decodeURIComponent(pt)}return null}let Mr=(()=>{class P{constructor(N,Z,je,pt){this._iterableDiffers=N,this._keyValueDiffers=Z,this._ngEl=je,this._renderer=pt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(N){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof N?N.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(N){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof N?N.split(/\s+/):N,this._rawClass&&((0,l.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const N=this._iterableDiffer.diff(this._rawClass);N&&this._applyIterableChanges(N)}else if(this._keyValueDiffer){const N=this._keyValueDiffer.diff(this._rawClass);N&&this._applyKeyValueChanges(N)}}_applyKeyValueChanges(N){N.forEachAddedItem(Z=>this._toggleClass(Z.key,Z.currentValue)),N.forEachChangedItem(Z=>this._toggleClass(Z.key,Z.currentValue)),N.forEachRemovedItem(Z=>{Z.previousValue&&this._toggleClass(Z.key,!1)})}_applyIterableChanges(N){N.forEachAddedItem(Z=>{if("string"!=typeof Z.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,l.AaK)(Z.item)}`);this._toggleClass(Z.item,!0)}),N.forEachRemovedItem(Z=>this._toggleClass(Z.item,!1))}_applyClasses(N){N&&(Array.isArray(N)||N instanceof Set?N.forEach(Z=>this._toggleClass(Z,!0)):Object.keys(N).forEach(Z=>this._toggleClass(Z,!!N[Z])))}_removeClasses(N){N&&(Array.isArray(N)||N instanceof Set?N.forEach(Z=>this._toggleClass(Z,!1)):Object.keys(N).forEach(Z=>this._toggleClass(Z,!1)))}_toggleClass(N,Z){(N=N.trim())&&N.split(/\s+/g).forEach(je=>{Z?this._renderer.addClass(this._ngEl.nativeElement,je):this._renderer.removeClass(this._ngEl.nativeElement,je)})}}return P.\u0275fac=function(N){return new(N||P)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},P.\u0275dir=l.lG2({type:P,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),P})();class Ii{constructor(Y,N,Z,je){this.$implicit=Y,this.ngForOf=N,this.index=Z,this.count=je}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Yr=(()=>{class P{constructor(N,Z,je){this._viewContainer=N,this._template=Z,this._differs=je,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(N){this._ngForOf=N,this._ngForOfDirty=!0}set ngForTrackBy(N){this._trackByFn=N}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(N){N&&(this._template=N)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const N=this._ngForOf;!this._differ&&N&&(this._differ=this._differs.find(N).create(this.ngForTrackBy))}if(this._differ){const N=this._differ.diff(this._ngForOf);N&&this._applyChanges(N)}}_applyChanges(N){const Z=this._viewContainer;N.forEachOperation((je,pt,bt)=>{if(null==je.previousIndex)Z.createEmbeddedView(this._template,new Ii(je.item,this._ngForOf,-1,-1),null===bt?void 0:bt);else if(null==bt)Z.remove(null===pt?void 0:pt);else if(null!==pt){const cn=Z.get(pt);Z.move(cn,bt),q(cn,je)}});for(let je=0,pt=Z.length;je<pt;je++){const cn=Z.get(je).context;cn.index=je,cn.count=pt,cn.ngForOf=this._ngForOf}N.forEachIdentityChange(je=>{q(Z.get(je.currentIndex),je)})}static ngTemplateContextGuard(N,Z){return!0}}return P.\u0275fac=function(N){return new(N||P)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},P.\u0275dir=l.lG2({type:P,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),P})();function q(P,Y){P.context.$implicit=Y.item}let Ve=(()=>{class P{constructor(N,Z){this._viewContainer=N,this._context=new Xe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Z}set ngIf(N){this._context.$implicit=this._context.ngIf=N,this._updateView()}set ngIfThen(N){he("ngIfThen",N),this._thenTemplateRef=N,this._thenViewRef=null,this._updateView()}set ngIfElse(N){he("ngIfElse",N),this._elseTemplateRef=N,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(N,Z){return!0}}return P.\u0275fac=function(N){return new(N||P)(l.Y36(l.s_b),l.Y36(l.Rgc))},P.\u0275dir=l.lG2({type:P,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),P})();class Xe{constructor(){this.$implicit=null,this.ngIf=null}}function he(P,Y){if(Y&&!Y.createEmbeddedView)throw new Error(`${P} must be a TemplateRef, but received '${(0,l.AaK)(Y)}'.`)}let yr=(()=>{class P{constructor(N){this._viewContainerRef=N,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(N){if(N.ngTemplateOutlet||N.ngTemplateOutletInjector){const Z=this._viewContainerRef;if(this._viewRef&&Z.remove(Z.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:je,ngTemplateOutletContext:pt,ngTemplateOutletInjector:bt}=this;this._viewRef=Z.createEmbeddedView(je,pt,bt?{injector:bt}:void 0)}else this._viewRef=null}else this._viewRef&&N.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return P.\u0275fac=function(N){return new(N||P)(l.Y36(l.s_b))},P.\u0275dir=l.lG2({type:P,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[l.TTD]}),P})();function $e(P,Y){return new l.vHH(2100,!1)}class Ue{createSubscription(Y,N){return Y.subscribe({next:N,error:Z=>{throw Z}})}dispose(Y){Y.unsubscribe()}}class ut{createSubscription(Y,N){return Y.then(N,Z=>{throw Z})}dispose(Y){}}const Tt=new ut,Lt=new Ue;let nn=(()=>{class P{constructor(N){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=N}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(N){return this._obj?N!==this._obj?(this._dispose(),this.transform(N)):this._latestValue:(N&&this._subscribe(N),this._latestValue)}_subscribe(N){this._obj=N,this._strategy=this._selectStrategy(N),this._subscription=this._strategy.createSubscription(N,Z=>this._updateLatestValue(N,Z))}_selectStrategy(N){if((0,l.QGY)(N))return Tt;if((0,l.F4k)(N))return Lt;throw $e()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(N,Z){N===this._obj&&(this._latestValue=Z,this._ref.markForCheck())}}return P.\u0275fac=function(N){return new(N||P)(l.Y36(l.sBO,16))},P.\u0275pipe=l.Yjl({name:"async",type:P,pure:!1}),P})();const Ds=new l.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let yi=(()=>{class P{constructor(N,Z){this.locale=N,this.defaultTimezone=Z}transform(N,Z="mediumDate",je,pt){if(null==N||""===N||N!=N)return null;try{return Er(N,Z,pt||this.locale,je??this.defaultTimezone??void 0)}catch(bt){throw $e()}}}return P.\u0275fac=function(N){return new(N||P)(l.Y36(l.soG,16),l.Y36(Ds,24))},P.\u0275pipe=l.Yjl({name:"date",type:P,pure:!0}),P})(),ci=(()=>{class P{}return P.\u0275fac=function(N){return new(N||P)},P.\u0275mod=l.oAB({type:P}),P.\u0275inj=l.cJS({}),P})();const Di="browser";function hi(P){return"server"===P}let Si=(()=>{class P{}return P.\u0275prov=(0,l.Yz7)({token:P,providedIn:"root",factory:()=>new ls((0,l.LFG)(ge),window)}),P})();class ls{constructor(Y,N){this.document=Y,this.window=N,this.offset=()=>[0,0]}setOffset(Y){this.offset=Array.isArray(Y)?()=>Y:Y}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(Y){this.supportsScrolling()&&this.window.scrollTo(Y[0],Y[1])}scrollToAnchor(Y){if(!this.supportsScrolling())return;const N=function ds(P,Y){const N=P.getElementById(Y)||P.getElementsByName(Y)[0];if(N)return N;if("function"==typeof P.createTreeWalker&&P.body&&(P.body.createShadowRoot||P.body.attachShadow)){const Z=P.createTreeWalker(P.body,NodeFilter.SHOW_ELEMENT);let je=Z.currentNode;for(;je;){const pt=je.shadowRoot;if(pt){const bt=pt.getElementById(Y)||pt.querySelector(`[name="${Y}"]`);if(bt)return bt}je=Z.nextNode()}}return null}(this.document,Y);N&&(this.scrollToElement(N),N.focus())}setHistoryScrollRestoration(Y){if(this.supportScrollRestoration()){const N=this.window.history;N&&N.scrollRestoration&&(N.scrollRestoration=Y)}}scrollToElement(Y){const N=Y.getBoundingClientRect(),Z=N.left+this.window.pageXOffset,je=N.top+this.window.pageYOffset,pt=this.offset();this.window.scrollTo(Z-pt[0],je-pt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const Y=cs(this.window.history)||cs(Object.getPrototypeOf(this.window.history));return!(!Y||!Y.writable&&!Y.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function cs(P){return Object.getOwnPropertyDescriptor(P,"scrollRestoration")}class Ms{}},5062:(zt,st,k)=>{"use strict";k.d(st,{deG:()=>M,tb:()=>HE,AFp:()=>$E,ip1:()=>BE,CZH:()=>Py,hGG:()=>tD,z2F:()=>Ny,sBO:()=>BI,Sil:()=>_I,_Vd:()=>Fg,EJc:()=>yI,Xts:()=>Fh,SBq:()=>Lg,lqb:()=>ms,qLn:()=>fa,vpe:()=>al,XFs:()=>Vt,OlP:()=>I,zs3:()=>ga,ZZ4:()=>G_,aQg:()=>z_,soG:()=>ky,YKP:()=>z0,h0i:()=>sh,PXZ:()=>RI,R0b:()=>Ba,FiY:()=>Bu,Lbi:()=>pI,g9A:()=>jE,Qsj:()=>uw,FYo:()=>q0,JOm:()=>Qo,tp0:()=>dl,Rgc:()=>Ug,dDg:()=>SI,eoX:()=>YE,q4F:()=>K0,GfV:()=>Y0,s_b:()=>My,ifc:()=>kn,MMx:()=>E_,hM9:()=>yw,eFA:()=>XE,G48:()=>VI,Gpc:()=>ue,f3M:()=>Xa,X6Q:()=>LI,_c5:()=>eD,c2e:()=>gI,zSh:()=>cp,wAp:()=>t,vHH:()=>z,lri:()=>WE,rWj:()=>qE,D6c:()=>nD,cg1:()=>Af,kL8:()=>l_,dqk:()=>qn,sIi:()=>mf,CqO:()=>ry,QGY:()=>Ef,QP$:()=>Of,F4k:()=>Bc,RDi:()=>ds,AaK:()=>G,qOj:()=>Xs,TTD:()=>us,_Bn:()=>H0,xp6:()=>md,uIk:()=>Xm,ekj:()=>bf,Suo:()=>mE,Xpm:()=>un,lG2:()=>er,Yz7:()=>Jt,cJS:()=>Ht,oAB:()=>ar,Yjl:()=>xr,Y36:()=>Ml,_UZ:()=>_f,GkF:()=>Vc,qZA:()=>Kd,TgZ:()=>au,EpF:()=>Xd,n5z:()=>ii,LFG:()=>ai,$8M:()=>du,$Z:()=>vm,NdJ:()=>$c,CRH:()=>yE,oxw:()=>dg,ALo:()=>oE,lcZ:()=>aE,xi3:()=>uE,Hsn:()=>Au,F$t:()=>jc,Q6J:()=>qd,DdM:()=>Q0,VKq:()=>J0,WLB:()=>eE,iGM:()=>pE,MAs:()=>ty,KtG:()=>Rt,CHM:()=>nt,LSH:()=>ad,YNc:()=>ey,_uU:()=>Df,Oqu:()=>wg,hij:()=>Cf,Gf:()=>gE});var l=k(8929),L=k(2654),U=k(2916),Ie=k(6787),be=k(1762);class ge{constructor(r,s){this.subjectFactory=r,this.selector=s}call(r,s){const{selector:u}=this,d=this.subjectFactory(),m=u(d).subscribe(r);return m.add(s.subscribe(d)),m}}var we=k(4327);function ae(){return new l.xQ}function X(n){for(let r in n)if(n[r]===X)return r;throw Error("Could not find renamed property on target object.")}function te(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function G(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(G).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Re(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const Ke=X({__forward_ref__:X});function ue(n){return n.__forward_ref__=ue,n.toString=function(){return G(this())},n}function le(n){return Se(n)?n():n}function Se(n){return"function"==typeof n&&n.hasOwnProperty(Ke)&&n.__forward_ref__===ue}class z extends Error{constructor(r,s){super(function et(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}(r,s)),this.code=r}}function Ge(n){return"string"==typeof n?n:null==n?"":String(n)}function _e(n,r){throw new z(-201,!1)}function at(n,r){null==n&&function Ct(n,r,s,u){throw new Error(`ASSERTION ERROR: ${n}`+(null==u?"":` [Expected=> ${s} ${u} ${r} <=Actual]`))}(r,n,null,"!=")}function Jt(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ht(n){return{providers:n.providers||[],imports:n.imports||[]}}function _n(n){return Ar(n,Dn)||Ar(n,zn)}function Ar(n,r){return n.hasOwnProperty(r)?n[r]:null}function gn(n){return n&&(n.hasOwnProperty(An)||n.hasOwnProperty(Vn))?n[An]:null}const Dn=X({\u0275prov:X}),An=X({\u0275inj:X}),zn=X({ngInjectableDef:X}),Vn=X({ngInjectorDef:X});var Vt=(()=>((Vt=Vt||{})[Vt.Default=0]="Default",Vt[Vt.Host=1]="Host",Vt[Vt.Self=2]="Self",Vt[Vt.SkipSelf=4]="SkipSelf",Vt[Vt.Optional=8]="Optional",Vt))();let or;function mr(n){const r=or;return or=n,r}function Bt(n,r,s){const u=_n(n);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:s&Vt.Optional?null:void 0!==r?r:void _e(G(n))}function Kt(n){return{toString:n}.toString()}var sn=(()=>((sn=sn||{})[sn.OnPush=0]="OnPush",sn[sn.Default=1]="Default",sn))(),kn=(()=>{return(n=kn||(kn={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",kn;var n})();const qn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Nn={},Fe=[],Ce=X({\u0275cmp:X}),Je=X({\u0275dir:X}),Le=X({\u0275pipe:X}),Ee=X({\u0275mod:X}),yt=X({\u0275fac:X}),Mt=X({__NG_ELEMENT_ID__:X});let $t=0;function un(n){return Kt(()=>{const s=!0===n.standalone,u={},d={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===sn.OnPush,directiveDefs:null,pipeDefs:null,standalone:s,dependencies:s&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Fe,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||kn.Emulated,id:"c"+$t++,styles:n.styles||Fe,_:null,setInput:null,schemas:n.schemas||null,tView:null},m=n.dependencies,w=n.features;return d.inputs=gi(n.inputs,u),d.outputs=gi(n.outputs),w&&w.forEach(S=>S(d)),d.directiveDefs=m?()=>("function"==typeof m?m():m).map(Ln).filter(rn):null,d.pipeDefs=m?()=>("function"==typeof m?m():m).map(it).filter(rn):null,d})}function Ln(n){return Yn(n)||kr(n)}function rn(n){return null!==n}const rr={};function ar(n){return Kt(()=>{const r={type:n.type,bootstrap:n.bootstrap||Fe,declarations:n.declarations||Fe,imports:n.imports||Fe,exports:n.exports||Fe,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(rr[n.id]=n.type),r})}function gi(n,r){if(null==n)return Nn;const s={};for(const u in n)if(n.hasOwnProperty(u)){let d=n[u],m=d;Array.isArray(d)&&(m=d[1],d=d[0]),s[d]=u,r&&(r[d]=m)}return s}const er=un;function xr(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Yn(n){return n[Ce]||null}function kr(n){return n[Je]||null}function it(n){return n[Le]||null}function Oe(n,r){const s=n[Ee]||null;if(!s&&!0===r)throw new Error(`Type ${G(n)} does not have '\u0275mod' property.`);return s}function Et(n){return Array.isArray(n)&&"object"==typeof n[1]}function _t(n){return Array.isArray(n)&&!0===n[1]}function It(n){return 0!=(8&n.flags)}function qt(n){return 2==(2&n.flags)}function fn(n){return 1==(1&n.flags)}function ln(n){return null!==n.template}function yr(n){return 0!=(256&n[2])}function vi(n,r){return n.hasOwnProperty(yt)?n[yt]:null}class _s{constructor(r,s,u){this.previousValue=r,this.currentValue=s,this.firstChange=u}isFirstChange(){return this.firstChange}}function us(){return xs}function xs(n){return n.type.prototype.ngOnChanges&&(n.setInput=ci),Ls}function Ls(){const n=Es(this),r=n?.current;if(r){const s=n.previous;if(s===Nn)n.previous=r;else for(let u in r)s[u]=r[u];n.current=null,this.ngOnChanges(r)}}function ci(n,r,s,u){const d=Es(n)||function Ci(n,r){return n[Di]=r}(n,{previous:Nn,current:null}),m=d.current||(d.current={}),w=d.previous,S=this.declaredInputs[s],x=w[S];m[S]=new _s(x&&x.currentValue,r,w===Nn),n[u]=r}us.ngInherit=!0;const Di="__ngSimpleChanges__";function Es(n){return n[Di]||null}let cs;function ds(n){cs=n}function P(n){return!!n.listen}const Z={createRenderer:(n,r)=>{throw new Error("Renderer3 disabled")}};function pt(n){for(;Array.isArray(n);)n=n[0];return n}function pr(n,r){return pt(r[n])}function dr(n,r){return pt(r[n.index])}function Kn(n,r){return n.data[r]}function Hr(n,r){return n[r]}function $n(n,r){const s=r[n];return Et(s)?s:s[0]}function Xr(n){return 4==(4&n[2])}function fi(n){return 64==(64&n[2])}function Ai(n,r){return null==r?null:n[r]}function Li(n){n[18]=0}function hs(n,r){n[5]+=r;let s=n,u=n[3];for(;null!==u&&(1===r&&1===s[5]||-1===r&&0===s[5]);)u[5]+=r,s=u,u=u[3]}const Cn={lFrame:ba(null),bindingsEnabled:!0};function a(){return Cn.bindingsEnabled}function O(){return Cn.lFrame.lView}function ie(){return Cn.lFrame.tView}function nt(n){return Cn.lFrame.contextLView=n,n[8]}function Rt(n){return Cn.lFrame.contextLView=null,n}function St(){let n=mn();for(;null!==n&&64===n.type;)n=n.parent;return n}function mn(){return Cn.lFrame.currentTNode}function On(n,r){const s=Cn.lFrame;s.currentTNode=n,s.isParent=r}function br(){return Cn.lFrame.isParent}function wr(){Cn.lFrame.isParent=!1}function lr(){const n=Cn.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function Ki(){return Cn.lFrame.bindingIndex++}function Co(n,r){const s=Cn.lFrame;s.bindingIndex=s.bindingRootIndex=n,go(r)}function go(n){Cn.lFrame.currentDirectiveIndex=n}function Cs(){return Cn.lFrame.currentQueryIndex}function _a(n){Cn.lFrame.currentQueryIndex=n}function Mu(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function sa(n,r,s){if(s&Vt.SkipSelf){let d=r,m=n;for(;!(d=d.parent,null!==d||s&Vt.Host||(d=Mu(m),null===d||(m=m[15],10&d.type))););if(null===d)return!1;r=d,n=m}const u=Cn.lFrame=Ea();return u.currentTNode=r,u.lView=n,!0}function mo(n){const r=Ea(),s=n[1];Cn.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function Ea(){const n=Cn.lFrame,r=null===n?null:n.child;return null===r?ba(n):r}function ba(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function cu(){const n=Cn.lFrame;return Cn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const ul=cu;function Bo(){const n=cu();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Zi(){return Cn.lFrame.selectedIndex}function ro(n){Cn.lFrame.selectedIndex=n}function _i(){const n=Cn.lFrame;return Kn(n.tView,n.selectedIndex)}function Da(n,r){for(let s=r.directiveStart,u=r.directiveEnd;s<u;s++){const m=n.data[s].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:S,ngAfterViewInit:x,ngAfterViewChecked:$,ngOnDestroy:K}=m;w&&(n.contentHooks||(n.contentHooks=[])).push(-s,w),S&&((n.contentHooks||(n.contentHooks=[])).push(s,S),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,S)),x&&(n.viewHooks||(n.viewHooks=[])).push(-s,x),$&&((n.viewHooks||(n.viewHooks=[])).push(s,$),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,$)),null!=K&&(n.destroyHooks||(n.destroyHooks=[])).push(s,K)}}function qs(n,r,s){To(n,r,3,s)}function yo(n,r,s,u){(3&n[2])===s&&To(n,r,s,u)}function Ha(n,r){let s=n[2];(3&s)===r&&(s&=2047,s+=1,n[2]=s)}function To(n,r,s,u){const m=u??-1,w=r.length-1;let S=0;for(let x=void 0!==u?65535&n[18]:0;x<w;x++)if("number"==typeof r[x+1]){if(S=r[x],null!=u&&S>=u)break}else r[x]<0&&(n[18]+=65536),(S<m||-1==m)&&(Ga(n,s,r,x),n[18]=(4294901760&n[18])+x+2),x++}function Ga(n,r,s,u){const d=s[u]<0,m=s[u+1],S=n[d?-s[u]:s[u]];if(d){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{m.call(S)}finally{}}}else try{m.call(S)}finally{}}class is{constructor(r,s,u){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=u}}function Uo(n,r,s){const u=P(n);let d=0;for(;d<s.length;){const m=s[d];if("number"==typeof m){if(0!==m)break;d++;const w=s[d++],S=s[d++],x=s[d++];u?n.setAttribute(r,S,x,w):r.setAttributeNS(w,S,x)}else{const w=m,S=s[++d];So(w)?u&&n.setProperty(r,w,S):u?n.setAttribute(r,w,S):r.setAttribute(w,S),d++}}return d}function Ui(n){return 3===n||4===n||6===n}function So(n){return 64===n.charCodeAt(0)}function jo(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let u=0;u<r.length;u++){const d=r[u];"number"==typeof d?s=d:0===s||ji(n,s,d,null,-1===s||2===s?r[++u]:null)}}return n}function ji(n,r,s,u,d){let m=0,w=n.length;if(-1===r)w=-1;else for(;m<n.length;){const S=n[m++];if("number"==typeof S){if(S===r){w=-1;break}if(S>r){w=m-1;break}}}for(;m<n.length;){const S=n[m];if("number"==typeof S)break;if(S===s){if(null===u)return void(null!==d&&(n[m+1]=d));if(u===n[m+1])return void(n[m+2]=d)}m++,null!==u&&m++,null!==d&&m++}-1!==w&&(n.splice(w,0,r),m=w+1),n.splice(m++,0,s),null!==u&&n.splice(m++,0,u),null!==d&&n.splice(m++,0,d)}function Vi(n){return-1!==n}function Ys(n){return 32767&n}function Js(n,r){let s=function Qs(n){return n>>16}(n),u=r;for(;s>0;)u=u[15],s--;return u}let Ca=!0;function Ut(n){const r=Ca;return Ca=n,r}let wn=0;const Rn={};function en(n,r){const s=Ot(n,r);if(-1!==s)return s;const u=r[1];u.firstCreatePass&&(n.injectorIndex=r.length,wt(u.data,n),wt(r,null),wt(u.blueprint,null));const d=bi(n,r),m=n.injectorIndex;if(Vi(d)){const w=Ys(d),S=Js(d,r),x=S[1].data;for(let $=0;$<8;$++)r[m+$]=S[w+$]|x[w+$]}return r[m+8]=d,m}function wt(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Ot(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function bi(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,u=null,d=r;for(;null!==d;){if(u=Sr(d),null===u)return-1;if(s++,d=d[15],-1!==u.injectorIndex)return u.injectorIndex|s<<16}return-1}function aa(n,r,s){!function oa(n,r,s){let u;"string"==typeof s?u=s.charCodeAt(0)||0:s.hasOwnProperty(Mt)&&(u=s[Mt]),null==u&&(u=s[Mt]=wn++);const d=255&u;r.data[n+(d>>5)]|=1<<d}(n,r,s)}function ku(n,r,s){if(s&Vt.Optional)return n;_e()}function Ho(n,r,s,u){if(s&Vt.Optional&&void 0===u&&(u=null),0==(s&(Vt.Self|Vt.Host))){const d=n[9],m=mr(void 0);try{return d?d.get(r,u,s&Vt.Optional):Bt(r,u,s&Vt.Optional)}finally{mr(m)}}return ku(u,0,s)}function Ya(n,r,s,u=Vt.Default,d){if(null!==n){if(1024&r[2]){const w=function zo(n,r,s,u,d){let m=n,w=r;for(;null!==m&&null!==w&&1024&w[2]&&!(256&w[2]);){const S=Nu(m,w,s,u|Vt.Self,Rn);if(S!==Rn)return S;let x=m.parent;if(!x){const $=w[21];if($){const K=$.get(s,Rn,u);if(K!==Rn)return K}x=Sr(w),w=w[15]}m=x}return d}(n,r,s,u,Rn);if(w!==Rn)return w}const m=Nu(n,r,s,u,Rn);if(m!==Rn)return m}return Ho(r,s,u,d)}function Nu(n,r,s,u,d){const m=function Fu(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Mt)?n[Mt]:void 0;return"number"==typeof r?r>=0?255&r:Za:r}(s);if("function"==typeof m){if(!sa(r,n,u))return u&Vt.Host?ku(d,0,u):Ho(r,s,u,d);try{const w=m(u);if(null!=w||u&Vt.Optional)return w;_e()}finally{ul()}}else if("number"==typeof m){let w=null,S=Ot(n,r),x=-1,$=u&Vt.Host?r[16][6]:null;for((-1===S||u&Vt.SkipSelf)&&(x=-1===S?bi(n,r):r[S+8],-1!==x&&gr(u,!1)?(w=r[1],S=Ys(x),r=Js(x,r)):S=-1);-1!==S;){const K=r[1];if(Go(m,S,K.data)){const pe=Ka(S,r,s,w,u,$);if(pe!==Rn)return pe}x=r[S+8],-1!==x&&gr(u,r[1].data[S+8]===$)&&Go(m,S,r)?(w=K,S=Ys(x),r=Js(x,r)):S=-1}}return d}function Ka(n,r,s,u,d,m){const w=r[1],S=w.data[n+8],K=ua(S,w,s,null==u?qt(S)&&Ca:u!=w&&0!=(3&S.type),d&Vt.Host&&m===S);return null!==K?la(r,w,K,S):Rn}function ua(n,r,s,u,d){const m=n.providerIndexes,w=r.data,S=1048575&m,x=n.directiveStart,K=m>>20,Ye=d?S+K:n.directiveEnd;for(let ht=u?S:S+K;ht<Ye;ht++){const Nt=w[ht];if(ht<x&&s===Nt||ht>=x&&Nt.type===s)return ht}if(d){const ht=w[x];if(ht&&ln(ht)&&ht.type===s)return x}return null}function la(n,r,s,u){let d=n[s];const m=r.data;if(function Ou(n){return n instanceof is}(d)){const w=d;w.resolving&&function ke(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new z(-200,`Circular dependency in DI detected for ${n}${s}`)}(function lt(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ge(n)}(m[s]));const S=Ut(w.canSeeViewProviders);w.resolving=!0;const x=w.injectImpl?mr(w.injectImpl):null;sa(n,u,Vt.Default);try{d=n[s]=w.factory(void 0,m,n,u),r.firstCreatePass&&s>=u.directiveStart&&function ja(n,r,s){const{ngOnChanges:u,ngOnInit:d,ngDoCheck:m}=r.type.prototype;if(u){const w=xs(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,w),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,w)}d&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,d),m&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,m),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,m))}(s,m[s],r)}finally{null!==x&&mr(x),Ut(S),w.resolving=!1,ul()}}return d}function Go(n,r,s){return!!(s[r+(n>>5)]&1<<n)}function gr(n,r){return!(n&Vt.Self||n&Vt.Host&&r)}class Us{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,u){return Ya(this._tNode,this._lView,r,u,s)}}function Za(){return new Us(St(),O())}function ii(n){return Kt(()=>{const r=n.prototype.constructor,s=r[yt]||Un(r),u=Object.prototype;let d=Object.getPrototypeOf(n.prototype).constructor;for(;d&&d!==u;){const m=d[yt]||Un(d);if(m&&m!==s)return m;d=Object.getPrototypeOf(d)}return m=>new m})}function Un(n){return Se(n)?()=>{const r=Un(le(n));return r&&r()}:vi(n)}function Sr(n){const r=n[1],s=r.type;return 2===s?r.declTNode:1===s?n[6]:null}function du(n){return function Pu(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const u=s.length;let d=0;for(;d<u;){const m=s[d];if(Ui(m))break;if(0===m)d+=2;else if("number"==typeof m)for(d++;d<u&&"string"==typeof s[d];)d++;else{if(m===r)return s[d+1];d+=2}}}return null}(St(),n)}const Xt="__parameters__";function Ao(n,r,s){return Kt(()=>{const u=function eo(n){return function(...s){if(n){const u=n(...s);for(const d in u)this[d]=u[d]}}}(r);function d(...m){if(this instanceof d)return u.apply(this,m),this;const w=new d(...m);return S.annotation=w,S;function S(x,$,K){const pe=x.hasOwnProperty(Xt)?x[Xt]:Object.defineProperty(x,Xt,{value:[]})[Xt];for(;pe.length<=K;)pe.push(null);return(pe[K]=pe[K]||[]).push(w),x}}return s&&(d.prototype=Object.create(s.prototype)),d.prototype.ngMetadataName=n,d.annotationCls=d,d})}class I{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Jt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const M=new I("AnalyzeForEntryComponents");function pi(n,r){void 0===r&&(r=n);for(let s=0;s<n.length;s++){let u=n[s];Array.isArray(u)?(r===n&&(r=n.slice(0,s)),pi(u,r)):r!==n&&r.push(u)}return r}function Ks(n,r){n.forEach(s=>Array.isArray(s)?Ks(s,r):r(s))}function ll(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function Ts(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function uo(n,r){const s=[];for(let u=0;u<n;u++)s.push(r);return s}function Zs(n,r,s){let u=R(n,r);return u>=0?n[1|u]=s:(u=~u,function xi(n,r,s,u){let d=n.length;if(d==r)n.push(s,u);else if(1===d)n.push(u,n[0]),n[0]=s;else{for(d--,n.push(n[d-1],n[d]);d>r;)n[d]=n[d-2],d--;n[r]=s,n[r+1]=u}}(n,u,r,s)),u}function _o(n,r){const s=R(n,r);if(s>=0)return n[1|s]}function R(n,r){return function W(n,r,s){let u=0,d=n.length>>s;for(;d!==u;){const m=u+(d-u>>1),w=n[m<<s];if(r===w)return m<<s;w>r?d=m:u=m+1}return~(d<<s)}(n,r,1)}const Mi={},ps="__NG_DI_FLAG__",Ro="ngTempTokenPath",Wo=/\n/gm,to="__source";let js;function ss(n){const r=js;return js=n,r}function Yo(n,r=Vt.Default){if(void 0===js)throw new z(-203,!1);return null===js?Bt(n,void 0,r):js.get(n,r&Vt.Optional?null:void 0,r)}function ai(n,r=Vt.Default){return(function bn(){return or}()||Yo)(le(n),r)}function Xa(n,r=Vt.Default){return ai(n,r)}function Vu(n){const r=[];for(let s=0;s<n.length;s++){const u=le(n[s]);if(Array.isArray(u)){if(0===u.length)throw new z(900,!1);let d,m=Vt.Default;for(let w=0;w<u.length;w++){const S=u[w],x=Kc(S);"number"==typeof x?-1===x?d=S.token:m|=x:d=S}r.push(ai(d,m))}else r.push(ai(u))}return r}function da(n,r){return n[ps]=r,n.prototype[ps]=r,n}function Kc(n){return n[ps]}const Bu=da(Ao("Optional"),8),dl=da(Ao("SkipSelf"),4);class gu{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ha(n){return n instanceof gu?n.changingThisBreaksApplicationSecurity:n}const mu=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,yu=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Qi=(()=>((Qi=Qi||{})[Qi.NONE=0]="NONE",Qi[Qi.HTML=1]="HTML",Qi[Qi.STYLE=2]="STYLE",Qi[Qi.SCRIPT=3]="SCRIPT",Qi[Qi.URL=4]="URL",Qi[Qi.RESOURCE_URL=5]="RESOURCE_URL",Qi))();function ad(n){const r=function _l(){const n=O();return n&&n[12]}();return r?r.sanitize(Qi.URL,n)||"":function Ja(n,r){const s=function gh(n){return n instanceof gu&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}(n,"URL")?ha(n):function ju(n){return(n=String(n)).match(mu)||n.match(yu)?n:"unsafe:"+n}(Ge(n))}function Eo(n){return n.ngOriginalError}class fa{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&Eo(r);for(;s&&Eo(s);)s=Eo(s);return s||null}}const Xo=new Map;let bl=0;const b="__ngContext__";function p(n,r){Et(r)?(n[b]=r[20],function Ku(n){Xo.set(n[20],n)}(r)):n[b]=r}function y(n){const r=n[b];return"number"==typeof r?function ld(n){return Xo.get(n)||null}(r):r||null}function C(n){const r=y(n);return r?Et(r)?r:r.lView:null}const ko=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(qn))();function pa(n){return n instanceof Function?n():n}var Qo=(()=>((Qo=Qo||{})[Qo.Important=1]="Important",Qo[Qo.DashCase=2]="DashCase",Qo))();function dd(n,r){return undefined(n,r)}function ac(n){const r=n[3];return _t(r)?r[3]:r}function qf(n){return Wg(n[13])}function Yf(n){return Wg(n[4])}function Wg(n){for(;null!==n&&!_t(n);)n=n[4];return n}function uc(n,r,s,u,d){if(null!=u){let m,w=!1;_t(u)?m=u:Et(u)&&(w=!0,u=u[0]);const S=pt(u);0===n&&null!==s?null==d?Mh(r,s,S):bu(r,s,S,d||null,!0):1===n&&null!==s?bu(r,s,S,d||null,!0):2===n?function Zg(n,r,s){const u=fd(n,r);u&&function Yg(n,r,s,u){P(n)?n.removeChild(r,s,u):r.removeChild(s)}(n,u,r,s)}(r,S,w):3===n&&r.destroyNode(S),null!=m&&function Dl(n,r,s,u,d){const m=s[7];m!==pt(s)&&uc(r,n,u,m,d);for(let S=10;S<s.length;S++){const x=s[S];dc(x[1],x,n,r,u,m)}}(r,n,m,s,d)}}function Zf(n,r,s){if(P(n))return n.createElement(r,s);{const u=null!==s?function ls(n){const r=n.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(s):null;return null===u?n.createElement(r):n.createElementNS(u,r)}}function Xf(n,r){const s=n[9],u=s.indexOf(r),d=r[3];512&r[2]&&(r[2]&=-513,hs(d,-1)),s.splice(u,1)}function Qf(n,r){if(n.length<=10)return;const s=10+r,u=n[s];if(u){const d=u[17];null!==d&&d!==n&&Xf(d,u),r>0&&(n[s-1][4]=u[4]);const m=Ts(n,10+r);!function $y(n,r){dc(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(u[1],u);const w=m[19];null!==w&&w.detachView(m[1]),u[3]=null,u[4]=null,u[2]&=-65}return u}function Jf(n,r){if(!(128&r[2])){const s=r[11];P(s)&&s.destroyNode&&dc(n,r,s,3,null,null),function Hy(n){let r=n[13];if(!r)return Ah(n[1],n);for(;r;){let s=null;if(Et(r))s=r[13];else{const u=r[10];u&&(s=u)}if(!s){for(;r&&!r[4]&&r!==n;)Et(r)&&Ah(r[1],r),r=r[3];null===r&&(r=n),Et(r)&&Ah(r[1],r),s=r&&r[4]}r=s}}(r)}}function Ah(n,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function ep(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let u=0;u<s.length;u+=2){const d=r[s[u]];if(!(d instanceof is)){const m=s[u+1];if(Array.isArray(m))for(let w=0;w<m.length;w+=2){const S=d[m[w]],x=m[w+1];try{x.call(S)}finally{}}else try{m.call(d)}finally{}}}}(n,r),function Wy(n,r){const s=n.cleanup,u=r[7];let d=-1;if(null!==s)for(let m=0;m<s.length-1;m+=2)if("string"==typeof s[m]){const w=s[m+1],S="function"==typeof w?w(r):pt(r[w]),x=u[d=s[m+2]],$=s[m+3];"boolean"==typeof $?S.removeEventListener(s[m],x,$):$>=0?u[d=$]():u[d=-$].unsubscribe(),m+=2}else{const w=u[d=s[m+1]];s[m].call(w)}if(null!==u){for(let m=d+1;m<u.length;m++)u[m]();r[7]=null}}(n,r),1===r[1].type&&P(r[11])&&r[11].destroy();const s=r[17];if(null!==s&&_t(r[3])){s!==r[3]&&Xf(s,r);const u=r[19];null!==u&&u.detachView(n)}!function cd(n){Xo.delete(n[20])}(r)}}function Ws(n,r,s){return function xh(n,r,s){let u=r;for(;null!==u&&40&u.type;)u=(r=u).parent;if(null===u)return s[0];if(2&u.flags){const d=n.data[u.directiveStart].encapsulation;if(d===kn.None||d===kn.Emulated)return null}return dr(u,s)}(n,r.parent,s)}function bu(n,r,s,u,d){P(n)?n.insertBefore(r,s,u,d):(Kg(r)?r.content:r).insertBefore(s,u,d)}function Mh(n,r,s){P(n)?n.appendChild(r,s):(Kg(r)?r.content:r).appendChild(s)}function wu(n,r,s,u,d){null!==u?bu(n,r,s,u,d):Mh(n,r,s)}function Kg(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}function fd(n,r){return P(n)?n.parentNode(r):r.parentNode}function Qu(n,r,s){return el(n,r,s)}let el=function Ju(n,r,s){return 40&n.type?dr(n,s):null};function lc(n,r,s,u){const d=Ws(n,u,r),m=r[11],S=Qu(u.parent||r[6],u,r);if(null!=d)if(Array.isArray(s))for(let x=0;x<s.length;x++)wu(m,d,s[x],S,!1);else wu(m,d,s,S,!1)}function cc(n,r){if(null!==r){const s=r.type;if(3&s)return dr(r,n);if(4&s)return Oh(-1,n[r.index]);if(8&s){const u=r.child;if(null!==u)return cc(n,u);{const d=n[r.index];return _t(d)?Oh(-1,d):pt(d)}}if(32&s)return dd(r,n)()||pt(n[r.index]);{const u=np(n,r);return null!==u?Array.isArray(u)?u[0]:cc(ac(n[16]),u):cc(n,r.next)}}return null}function np(n,r){return null!==r?n[16][6].projection[r.projection]:null}function Oh(n,r){const s=10+n+1;if(s<r.length){const u=r[s],d=u[1].firstChild;if(null!==d)return cc(u,d)}return r[7]}function Ph(n,r,s,u,d,m,w){for(;null!=s;){const S=u[s.index],x=s.type;if(w&&0===r&&(S&&p(pt(S),u),s.flags|=4),64!=(64&s.flags))if(8&x)Ph(n,r,s.child,u,d,m,!1),uc(r,n,d,S,m);else if(32&x){const $=dd(s,u);let K;for(;K=$();)uc(r,n,d,K,m);uc(r,n,d,S,m)}else 16&x?hc(n,r,u,s,d,m):uc(r,n,d,S,m);s=w?s.projectionNext:s.next}}function dc(n,r,s,u,d,m){Ph(s,u,n.firstChild,r,d,m,!1)}function hc(n,r,s,u,d,m){const w=s[16],x=w[6].projection[u.projection];if(Array.isArray(x))for(let $=0;$<x.length;$++)uc(r,n,d,x[$],m);else Ph(n,r,x,w[3],d,m,!0)}function rp(n,r,s){P(n)?n.setAttribute(r,"style",s):r.style.cssText=s}function ip(n,r,s){P(n)?""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s):r.className=s}function Xg(n,r,s){let u=n.length;for(;;){const d=n.indexOf(r,s);if(-1===d)return d;if(0===d||n.charCodeAt(d-1)<=32){const m=r.length;if(d+m===u||n.charCodeAt(d+m)<=32)return d}s=d+1}}const fc="ng-template";function Cl(n,r,s){let u=0;for(;u<n.length;){let d=n[u++];if(s&&"class"===d){if(d=n[u],-1!==Xg(d.toLowerCase(),r,0))return!0}else if(1===d){for(;u<n.length&&"string"==typeof(d=n[u++]);)if(d.toLowerCase()===r)return!0;return!1}}return!1}function tl(n){return 4===n.type&&n.value!==fc}function Qg(n,r,s){return r===(4!==n.type||s?n.value:fc)}function Yy(n,r,s){let u=4;const d=n.attrs||[],m=function Jg(n){for(let r=0;r<n.length;r++)if(Ui(n[r]))return r;return n.length}(d);let w=!1;for(let S=0;S<r.length;S++){const x=r[S];if("number"!=typeof x){if(!w)if(4&u){if(u=2|1&u,""!==x&&!Qg(n,x,s)||""===x&&1===r.length){if(Na(u))return!1;w=!0}}else{const $=8&u?x:r[++S];if(8&u&&null!==n.attrs){if(!Cl(n.attrs,$,s)){if(Na(u))return!1;w=!0}continue}const pe=sp(8&u?"class":x,d,tl(n),s);if(-1===pe){if(Na(u))return!1;w=!0;continue}if(""!==$){let Ye;Ye=pe>m?"":d[pe+1].toLowerCase();const ht=8&u?Ye:null;if(ht&&-1!==Xg(ht,$,0)||2&u&&$!==Ye){if(Na(u))return!1;w=!0}}}}else{if(!w&&!Na(u)&&!Na(x))return!1;if(w&&Na(x))continue;w=!1,u=x|1&u}}return Na(u)||w}function Na(n){return 0==(1&n)}function sp(n,r,s,u){if(null===r)return-1;let d=0;if(u||!s){let m=!1;for(;d<r.length;){const w=r[d];if(w===n)return d;if(3===w||6===w)m=!0;else{if(1===w||2===w){let S=r[++d];for(;"string"==typeof S;)S=r[++d];continue}if(4===w)break;if(0===w){d+=4;continue}}d+=m?1:2}return-1}return function gd(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const u=n[s];if("number"==typeof u)return-1;if(u===r)return s;s++}return-1}(r,n)}function pd(n,r,s=!1){for(let u=0;u<r.length;u++)if(Yy(n,r[u],s))return!0;return!1}function Nh(n,r){e:for(let s=0;s<r.length;s++){const u=r[s];if(n.length===u.length){for(let d=0;d<n.length;d++)if(n[d]!==u[d])continue e;return!0}}return!1}function pc(n,r){return n?":not("+r.trim()+")":r}function em(n){let r=n[0],s=1,u=2,d="",m=!1;for(;s<n.length;){let w=n[s];if("string"==typeof w)if(2&u){const S=n[++s];d+="["+w+(S.length>0?'="'+S+'"':"")+"]"}else 8&u?d+="."+w:4&u&&(d+=" "+w);else""!==d&&!Na(w)&&(r+=pc(m,d),d=""),u=w,m=m||!Na(u);s++}return""!==d&&(r+=pc(m,d)),r}const Ir={};function md(n){yd(ie(),O(),Zi()+n,!1)}function yd(n,r,s,u){if(!u)if(3==(3&r[2])){const m=n.preOrderCheckHooks;null!==m&&qs(r,m,s)}else{const m=n.preOrderHooks;null!==m&&yo(r,m,0,s)}ro(s)}const Fh=new I("ENVIRONMENT_INITIALIZER"),im=new I("INJECTOR_DEF_TYPES");function Zy(...n){return{\u0275providers:sm(0,n)}}function sm(n,...r){const s=[],u=new Set;let d;return Ks(r,m=>{const w=m;yc(w,s,[],u)&&(d||(d=[]),d.push(w))}),void 0!==d&&om(d,s),s}function om(n,r){for(let s=0;s<n.length;s++){const{providers:d}=n[s];Ks(d,m=>{r.push(m)})}}function yc(n,r,s,u){if(!(n=le(n)))return!1;let d=null,m=gn(n);const w=!m&&Yn(n);if(m||w){if(w&&!w.standalone)return!1;d=n}else{const x=n.ngModule;if(m=gn(x),!m)return!1;d=x}const S=u.has(d);if(w){if(S)return!1;if(u.add(d),w.dependencies){const x="function"==typeof w.dependencies?w.dependencies():w.dependencies;for(const $ of x)yc($,r,s,u)}}else{if(!m)return!1;{if(null!=m.imports&&!S){let $;u.add(d);try{Ks(m.imports,K=>{yc(K,r,s,u)&&($||($=[]),$.push(K))})}finally{}void 0!==$&&om($,r)}if(!S){const $=vi(d)||(()=>new d);r.push({provide:d,useFactory:$,deps:Fe},{provide:im,useValue:d,multi:!0},{provide:Fh,useValue:()=>ai(d),multi:!0})}const x=m.providers;null==x||S||Ks(x,K=>{r.push(K)})}}return d!==n&&void 0!==n.providers}const Qy=X({provide:String,useValue:X});function Lh(n){return null!==n&&"object"==typeof n&&Qy in n}function Jo(n){return"function"==typeof n}const Vh=new I("INJECTOR",-1);class lp{get(r,s=Mi){if(s===Mi){const u=new Error(`NullInjectorError: No provider for ${G(r)}!`);throw u.name="NullInjectorError",u}return s}}const cp=new I("Set Injector scope."),_d={},Jy={};let dp;function Ed(){return void 0===dp&&(dp=new lp),dp}class ms{}class um extends ms{constructor(r,s,u,d){super(),this.parent=s,this.source=u,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,bd(r,w=>this.processProvider(w)),this.records.set(Vh,vc(void 0,this)),d.has("environment")&&this.records.set(ms,vc(void 0,this));const m=this.records.get(cp);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(im.multi,Fe,Vt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}get(r,s=Mi,u=Vt.Default){this.assertNotDestroyed();const d=ss(this),m=mr(void 0);try{if(!(u&Vt.SkipSelf)){let S=this.records.get(r);if(void 0===S){const x=function lm(n){return"function"==typeof n||"object"==typeof n&&n instanceof I}(r)&&_n(r);S=x&&this.injectableDefInScope(x)?vc(hp(r),_d):null,this.records.set(r,S)}if(null!=S)return this.hydrate(r,S)}return(u&Vt.Self?Ed():this.parent).get(r,s=u&Vt.Optional&&s===Mi?null:s)}catch(w){if("NullInjectorError"===w.name){if((w[Ro]=w[Ro]||[]).unshift(G(r)),d)throw w;return function uh(n,r,s,u){const d=n[Ro];throw r[to]&&d.unshift(r[to]),n.message=function cl(n,r,s,u=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let d=G(r);if(Array.isArray(r))d=r.map(G).join(" -> ");else if("object"==typeof r){let m=[];for(let w in r)if(r.hasOwnProperty(w)){let S=r[w];m.push(w+":"+("string"==typeof S?JSON.stringify(S):G(S)))}d=`{${m.join(", ")}}`}return`${s}${u?"("+u+")":""}[${d}]: ${n.replace(Wo,"\n  ")}`}("\n"+n.message,d,s,u),n.ngTokenPath=d,n[Ro]=null,n}(w,r,"R3InjectorError",this.source)}throw w}finally{mr(m),ss(d)}}resolveInjectorInitializers(){const r=ss(this),s=mr(void 0);try{const u=this.get(Fh.multi,Fe,Vt.Self);for(const d of u)d()}finally{ss(r),mr(s)}}toString(){const r=[],s=this.records;for(const u of s.keys())r.push(G(u));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new z(205,!1)}processProvider(r){let s=Jo(r=le(r))?r:le(r&&r.provide);const u=function tv(n){return Lh(n)?vc(void 0,n.useValue):vc(fp(n),_d)}(r);if(Jo(r)||!0!==r.multi)this.records.get(s);else{let d=this.records.get(s);d||(d=vc(void 0,_d,!0),d.factory=()=>Vu(d.multi),this.records.set(s,d)),s=r,d.multi.push(r)}this.records.set(s,u)}hydrate(r,s){return s.value===_d&&(s.value=Jy,s.value=s.factory()),"object"==typeof s.value&&s.value&&function nv(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=le(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function hp(n){const r=_n(n),s=null!==r?r.factory:vi(n);if(null!==s)return s;if(n instanceof I)throw new z(204,!1);if(n instanceof Function)return function ev(n){const r=n.length;if(r>0)throw uo(r,"?"),new z(204,!1);const s=function jn(n){const r=n&&(n[Dn]||n[zn]);if(r){const s=function Qn(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new z(204,!1)}function fp(n,r,s){let u;if(Jo(n)){const d=le(n);return vi(d)||hp(d)}if(Lh(n))u=()=>le(n.useValue);else if(function up(n){return!(!n||!n.useFactory)}(n))u=()=>n.useFactory(...Vu(n.deps||[]));else if(function am(n){return!(!n||!n.useExisting)}(n))u=()=>ai(le(n.useExisting));else{const d=le(n&&(n.useClass||n.provide));if(!function Bh(n){return!!n.deps}(n))return vi(d)||hp(d);u=()=>new d(...Vu(n.deps))}return u}function vc(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function pp(n){return!!n.\u0275providers}function bd(n,r){for(const s of n)Array.isArray(s)?bd(s,r):pp(s)?bd(s.\u0275providers,r):r(s)}function _c(n,r=null,s=null,u){const d=wd(n,r,s,u);return d.resolveInjectorInitializers(),d}function wd(n,r=null,s=null,u,d=new Set){const m=[s||Fe,Zy(n)];return u=u||("object"==typeof n?void 0:G(n)),new um(m,r||Ed(),u||null,d)}let ga=(()=>{class n{static create(s,u){if(Array.isArray(s))return _c({name:""},u,s,"");{const d=s.name??"";return _c({name:d},s.parent,s.providers,d)}}}return n.THROW_IF_NOT_FOUND=Mi,n.NULL=new lp,n.\u0275prov=Jt({token:n,providedIn:"any",factory:()=>ai(Vh)}),n.__NG_ELEMENT_ID__=-1,n})();function Ml(n,r=Vt.Default){const s=O();return null===s?ai(n,r):Ya(St(),s,le(n),r)}function vm(){throw new Error("invalid")}function wc(n,r){return n<<17|r<<2}function Fo(n){return n>>17&32767}function zh(n){return 2|n}function La(n){return(131068&n)>>2}function Td(n,r){return-131069&n|r<<2}function Wh(n){return 1|n}function Om(n,r){const s=n.contentQueries;if(null!==s)for(let u=0;u<s.length;u+=2){const d=s[u],m=s[u+1];if(-1!==m){const w=n.data[m];_a(d),w.contentQueries(2,r[m],m)}}}function Ac(n,r,s,u,d,m,w,S,x,$,K){const pe=r.blueprint.slice();return pe[0]=d,pe[2]=76|u,(null!==K||n&&1024&n[2])&&(pe[2]|=1024),Li(pe),pe[3]=pe[15]=n,pe[8]=s,pe[10]=w||n&&n[10],pe[11]=S||n&&n[11],pe[12]=x||n&&n[12]||null,pe[9]=$||n&&n[9]||null,pe[6]=m,pe[20]=function Th(){return bl++}(),pe[21]=K,pe[16]=2==r.type?n[16]:pe,pe}function Pl(n,r,s,u,d){let m=n.data[r];if(null===m)m=function Qh(n,r,s,u,d){const m=mn(),w=br(),x=n.data[r]=function Iv(n,r,s,u,d,m){return{type:s,index:u,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?m:m&&m.parent,s,r,u,d);return null===n.firstChild&&(n.firstChild=x),null!==m&&(w?null==m.child&&null!==x.parent&&(m.child=x):null===m.next&&(m.next=x)),x}(n,r,s,u,d),function Vo(){return Cn.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=s,m.value=u,m.attrs=d;const w=function pn(){const n=Cn.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();m.injectorIndex=null===w?-1:w.injectorIndex}return On(m,!0),m}function kl(n,r,s,u){if(0===s)return-1;const d=r.length;for(let m=0;m<s;m++)r.push(u),n.blueprint.push(u),n.data.push(null);return d}function kd(n,r,s){mo(r);try{const u=n.viewQuery;null!==u&&Ud(1,u,s);const d=n.template;null!==d&&km(n,r,d,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Om(n,r),n.staticViewQueries&&Ud(2,n.viewQuery,s);const m=n.components;null!==m&&function _v(n,r){for(let s=0;s<r.length;s++)xv(n,r[s])}(r,m)}catch(u){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),u}finally{r[2]&=-5,Bo()}}function xc(n,r,s,u){const d=r[2];if(128!=(128&d)){mo(r);try{Li(r),function ri(n){return Cn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&km(n,r,s,2,u);const w=3==(3&d);if(w){const $=n.preOrderCheckHooks;null!==$&&qs(r,$,null)}else{const $=n.preOrderHooks;null!==$&&yo(r,$,0,null),Ha(r,0)}if(function Bp(n){for(let r=qf(n);null!==r;r=Yf(r)){if(!r[2])continue;const s=r[9];for(let u=0;u<s.length;u++){const d=s[u],m=d[3];0==(512&d[2])&&hs(m,1),d[2]|=512}}}(r),function $m(n){for(let r=qf(n);null!==r;r=Yf(r))for(let s=10;s<r.length;s++){const u=r[s],d=u[1];fi(u)&&xc(d,u,d.template,u[8])}}(r),null!==n.contentQueries&&Om(n,r),w){const $=n.contentCheckHooks;null!==$&&qs(r,$)}else{const $=n.contentHooks;null!==$&&yo(r,$,1),Ha(r,1)}!function Mp(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let u=0;u<s.length;u++){const d=s[u];if(d<0)ro(~d);else{const m=d,w=s[++u],S=s[++u];Co(w,m),S(2,r[m])}}}finally{ro(-1)}}(n,r);const S=n.components;null!==S&&function Pm(n,r){for(let s=0;s<r.length;s++)Um(n,r[s])}(r,S);const x=n.viewQuery;if(null!==x&&Ud(2,x,u),w){const $=n.viewCheckHooks;null!==$&&qs(r,$)}else{const $=n.viewHooks;null!==$&&yo(r,$,2),Ha(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,hs(r[3],-1))}finally{Bo()}}}function Ev(n,r,s,u){const d=r[10],w=Xr(r);try{!w&&d.begin&&d.begin(),w&&kd(n,r,u),xc(n,r,s,u)}finally{!w&&d.end&&d.end()}}function km(n,r,s,u,d){const m=Zi(),w=2&u;try{ro(-1),w&&r.length>22&&yd(n,r,22,!1),s(u,d)}finally{ro(m)}}function Jh(n,r,s){if(It(r)){const d=r.directiveEnd;for(let m=r.directiveStart;m<d;m++){const w=n.data[m];w.contentQueries&&w.contentQueries(1,s[m],m)}}}function Nd(n,r,s){!a()||(function Np(n,r,s,u){const d=s.directiveStart,m=s.directiveEnd;n.firstCreatePass||en(s,r),p(u,r);const w=s.initialInputs;for(let S=d;S<m;S++){const x=n.data[S],$=ln(x);$&&Lp(r,s,x);const K=la(r,n,S,s);p(K,r),null!==w&&Av(0,S-d,K,x,0,w),$&&($n(s.index,r)[8]=K)}}(n,r,s,dr(s,r)),128==(128&s.flags)&&function Tv(n,r,s){const u=s.directiveStart,d=s.directiveEnd,m=s.index,w=function $a(){return Cn.lFrame.currentDirectiveIndex}();try{ro(m);for(let S=u;S<d;S++){const x=n.data[S],$=r[S];go(S),(null!==x.hostBindings||0!==x.hostVars||null!==x.hostAttrs)&&rf(x,$)}}finally{ro(-1),go(w)}}(n,r,s))}function Fd(n,r,s=dr){const u=r.localNames;if(null!==u){let d=r.index+1;for(let m=0;m<u.length;m+=2){const w=u[m+1],S=-1===w?s(r,n):n[w];n[d++]=S}}}function Nm(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Mc(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Mc(n,r,s,u,d,m,w,S,x,$){const K=22+u,pe=K+d,Ye=function bv(n,r){const s=[];for(let u=0;u<r;u++)s.push(u<n?null:Ir);return s}(K,pe),ht="function"==typeof $?$():$;return Ye[1]={type:n,blueprint:Ye,template:s,queries:null,viewQuery:S,declTNode:r,data:Ye.slice().fill(null,K),bindingStartIndex:K,expandoStartIndex:pe,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:x,consts:ht,incompleteFirstPass:!1}}function Rp(n,r,s,u){const d=jm(r);null===s?d.push(u):(d.push(s),n.firstCreatePass&&Hm(n).push(u,d.length-1))}function nf(n,r,s){for(let u in n)if(n.hasOwnProperty(u)){const d=n[u];(s=null===s?{}:s).hasOwnProperty(u)?s[u].push(r,d):s[u]=[r,d]}return s}function Ld(n,r,s,u){let d=!1;if(a()){const m=function Du(n,r,s){const u=n.directiveRegistry;let d=null;if(u)for(let m=0;m<u.length;m++){const w=u[m];pd(s,w.selectors,!1)&&(d||(d=[]),aa(en(s,r),n,w.type),ln(w)?(sf(n,s),d.unshift(w)):d.push(w))}return d}(n,r,s),w=null===u?null:{"":-1};if(null!==m){d=!0,Vm(s,n.data.length,m.length);for(let K=0;K<m.length;K++){const pe=m[K];pe.providersResolver&&pe.providersResolver(pe)}let S=!1,x=!1,$=kl(n,r,m.length,null);for(let K=0;K<m.length;K++){const pe=m[K];s.mergedAttrs=jo(s.mergedAttrs,pe.hostAttrs),Bm(n,s,r,$,pe),Fp($,pe,w),null!==pe.contentQueries&&(s.flags|=8),(null!==pe.hostBindings||null!==pe.hostAttrs||0!==pe.hostVars)&&(s.flags|=128);const Ye=pe.type.prototype;!S&&(Ye.ngOnChanges||Ye.ngOnInit||Ye.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),S=!0),!x&&(Ye.ngOnChanges||Ye.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),x=!0),$++}!function Dv(n,r){const u=r.directiveEnd,d=n.data,m=r.attrs,w=[];let S=null,x=null;for(let $=r.directiveStart;$<u;$++){const K=d[$],pe=K.inputs,Ye=null===m||tl(r)?null:Vp(pe,m);w.push(Ye),S=nf(pe,$,S),x=nf(K.outputs,$,x)}null!==S&&(S.hasOwnProperty("class")&&(r.flags|=16),S.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=w,r.inputs=S,r.outputs=x}(n,s)}w&&function Sv(n,r,s){if(r){const u=n.localNames=[];for(let d=0;d<r.length;d+=2){const m=s[r[d+1]];if(null==m)throw new z(-301,!1);u.push(r[d],m)}}}(s,u,w)}return s.mergedAttrs=jo(s.mergedAttrs,s.attrs),d}function Nl(n,r,s,u,d,m){const w=m.hostBindings;if(w){let S=n.hostBindingOpCodes;null===S&&(S=n.hostBindingOpCodes=[]);const x=~r.index;(function Lm(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(S)!=x&&S.push(x),S.push(u,d,w)}}function rf(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function sf(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function Fp(n,r,s){if(s){if(r.exportAs)for(let u=0;u<r.exportAs.length;u++)s[r.exportAs[u]]=n;ln(r)&&(s[""]=n)}}function Vm(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}function Bm(n,r,s,u,d){n.data[u]=d;const m=d.factory||(d.factory=vi(d.type)),w=new is(m,ln(d),Ml);n.blueprint[u]=w,s[u]=w,Nl(n,r,0,u,kl(n,s,d.hostVars,Ir),d)}function Lp(n,r,s){const u=dr(r,n),d=Nm(s),m=n[10],w=uf(n,Ac(n,d,null,s.onPush?32:16,u,r,m,m.createRenderer(u,s),null,null,null));n[r.index]=w}function iu(n,r,s,u,d,m){const w=dr(n,r);!function Vd(n,r,s,u,d,m,w){if(null==m)P(n)?n.removeAttribute(r,d,s):r.removeAttribute(d);else{const S=null==w?Ge(m):w(m,u||"",d);P(n)?n.setAttribute(r,d,S,s):s?r.setAttributeNS(s,d,S):r.setAttribute(d,S)}}(r[11],w,m,n.value,s,u,d)}function Av(n,r,s,u,d,m){const w=m[r];if(null!==w){const S=u.setInput;for(let x=0;x<w.length;){const $=w[x++],K=w[x++],pe=w[x++];null!==S?u.setInput(s,pe,$,K):s[K]=pe}}}function Vp(n,r){let s=null,u=0;for(;u<r.length;){const d=r[u];if(0!==d)if(5!==d){if("number"==typeof d)break;n.hasOwnProperty(d)&&(null===s&&(s=[]),s.push(d,n[d],r[u+1])),u+=2}else u+=2;else u+=4}return s}function af(n,r,s,u){return new Array(n,!0,!1,r,null,0,u,s,null,null)}function Um(n,r){const s=$n(r,n);if(fi(s)){const u=s[1];48&s[2]?xc(u,s,u.template,s[8]):s[5]>0&&$p(s)}}function $p(n){for(let u=qf(n);null!==u;u=Yf(u))for(let d=10;d<u.length;d++){const m=u[d];if(512&m[2]){const w=m[1];xc(w,m,w.template,m[8])}else m[5]>0&&$p(m)}const s=n[1].components;if(null!==s)for(let u=0;u<s.length;u++){const d=$n(s[u],n);fi(d)&&d[5]>0&&$p(d)}}function xv(n,r){const s=$n(r,n),u=s[1];(function Up(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(u,s),kd(u,s,s[8])}function uf(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function Bd(n){for(;n;){n[2]|=32;const r=ac(n);if(yr(n)&&!r)return n;n=r}return null}function Gp(n){!function $d(n){for(let r=0;r<n.components.length;r++){const s=n.components[r],u=C(s);if(null!==u){const d=u[1];Ev(d,u,d.template,s)}}}(n[8])}function Ud(n,r,s){_a(0),r(n,s)}const lf=(()=>Promise.resolve(null))();function jm(n){return n[7]||(n[7]=[])}function Hm(n){return n.cleanup||(n.cleanup=[])}function zm(n,r){const s=n[9],u=s?s.get(fa,null):null;u&&u.handleError(r)}function zp(n,r,s,u,d){for(let m=0;m<s.length;){const w=s[m++],S=s[m++],x=r[w],$=n.data[w];null!==$.setInput?$.setInput(x,d,u,S):x[S]=d}}function Va(n,r,s){const u=pr(r,n);!function qg(n,r,s){P(n)?n.setValue(r,s):r.textContent=s}(n[11],u,s)}function jd(n,r,s){let u=s?n.styles:null,d=s?n.classes:null,m=0;if(null!==r)for(let w=0;w<r.length;w++){const S=r[w];"number"==typeof S?m=S:1==m?d=Re(d,S):2==m&&(u=Re(u,S+": "+r[++w]+";"))}s?n.styles=u:n.stylesWithoutHost=u,s?n.classes=d:n.classesWithoutHost=d}function Hd(){const n=St();Da(O()[1],n)}function Xs(n){let r=function Hi(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const u=[n];for(;r;){let d;if(ln(n))d=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new z(903,!1);d=r.\u0275dir}if(d){if(s){u.push(d);const w=n;w.inputs=ff(n.inputs),w.declaredInputs=ff(n.declaredInputs),w.outputs=ff(n.outputs);const S=d.hostBindings;S&&Km(n,S);const x=d.viewQuery,$=d.contentQueries;if(x&&Vv(n,x),$&&pf(n,$),te(n.inputs,d.inputs),te(n.declaredInputs,d.declaredInputs),te(n.outputs,d.outputs),ln(d)&&d.data.animation){const K=n.data;K.animation=(K.animation||[]).concat(d.data.animation)}}const m=d.features;if(m)for(let w=0;w<m.length;w++){const S=m[w];S&&S.ngInherit&&S(n),S===Xs&&(s=!1)}}r=Object.getPrototypeOf(r)}!function su(n){let r=0,s=null;for(let u=n.length-1;u>=0;u--){const d=n[u];d.hostVars=r+=d.hostVars,d.hostAttrs=jo(d.hostAttrs,s=jo(s,d.hostAttrs))}}(u)}function ff(n){return n===Nn?{}:n===Fe?[]:n}function Vv(n,r){const s=n.viewQuery;n.viewQuery=s?(u,d)=>{r(u,d),s(u,d)}:r}function pf(n,r){const s=n.contentQueries;n.contentQueries=s?(u,d,m)=>{r(u,d,m),s(u,d,m)}:r}function Km(n,r){const s=n.hostBindings;n.hostBindings=s?(u,d)=>{r(u,d),s(u,d)}:r}let gf=null;function Fl(){if(!gf){const n=qn.Symbol;if(n&&n.iterator)gf=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const u=r[s];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(gf=u)}}}return gf}function mf(n){return!!yf(n)&&(Array.isArray(n)||!(n instanceof Map)&&Fl()in n)}function yf(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function ou(n,r,s){return n[r]=s}function co(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function Xm(n,r,s,u){const d=O();return co(d,Ki(),r)&&(ie(),iu(_i(),d,n,r,s,u)),Xm}function ey(n,r,s,u,d,m,w,S){const x=O(),$=ie(),K=n+22,pe=$.firstCreatePass?function ag(n,r,s,u,d,m,w,S,x){const $=r.consts,K=Pl(r,n,4,w||null,Ai($,S));Ld(r,s,K,Ai($,x)),Da(r,K);const pe=K.tViews=Mc(2,K,u,d,m,r.directiveRegistry,r.pipeRegistry,null,r.schemas,$);return null!==r.queries&&(r.queries.template(r,K),pe.queries=r.queries.embeddedTView(K)),K}(K,$,x,r,s,u,d,m,w):$.data[K];On(pe,!1);const Ye=x[11].createComment("");lc($,x,Ye,pe),p(Ye,x),uf(x,x[K]=af(Ye,x,Ye,pe)),fn(pe)&&Nd($,x,pe),null!=w&&Fd(x,pe,S)}function ty(n){return Hr(function Qr(){return Cn.lFrame.contextLView}(),22+n)}function qd(n,r,s){const u=O();return co(u,Ki(),r)&&function ta(n,r,s,u,d,m,w,S){const x=dr(r,s);let K,$=r.inputs;!S&&null!=$&&(K=$[u])?(zp(n,s,K,u,d),qt(r)&&function Pp(n,r){const s=$n(r,n);16&s[2]||(s[2]|=32)}(s,r.index)):3&r.type&&(u=function Op(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(u),d=null!=w?w(d,r.value||"",u):d,P(m)?m.setProperty(x,u,d):So(u)||(x.setProperty?x.setProperty(u,d):x[u]=d))}(ie(),_i(),u,n,r,u[11],s,!1),qd}function Yd(n,r,s,u,d){const w=d?"class":"style";zp(n,s,r.inputs[w],w,u)}function au(n,r,s,u){const d=O(),m=ie(),w=22+n,S=d[11],x=d[w]=Zf(S,r,function Ia(){return Cn.lFrame.currentNamespace}()),$=m.firstCreatePass?function ny(n,r,s,u,d,m,w){const S=r.consts,$=Pl(r,n,2,d,Ai(S,m));return Ld(r,s,$,Ai(S,w)),null!==$.attrs&&jd($,$.attrs,!1),null!==$.mergedAttrs&&jd($,$.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,$),$}(w,m,d,0,r,s,u):m.data[w];On($,!0);const K=$.mergedAttrs;null!==K&&Uo(S,x,K);const pe=$.classes;null!==pe&&ip(S,x,pe);const Ye=$.styles;return null!==Ye&&rp(S,x,Ye),64!=(64&$.flags)&&lc(m,d,x,$),0===function Do(){return Cn.lFrame.elementDepthCount}()&&p(x,d),function E(){Cn.lFrame.elementDepthCount++}(),fn($)&&(Nd(m,d,$),Jh(m,$,d)),null!==u&&Fd(d,$),au}function Kd(){let n=St();br()?wr():(n=n.parent,On(n,!1));const r=n;!function h(){Cn.lFrame.elementDepthCount--}();const s=ie();return s.firstCreatePass&&(Da(s,n),It(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function so(n){return 0!=(16&n.flags)}(r)&&Yd(s,r,O(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Wa(n){return 0!=(32&n.flags)}(r)&&Yd(s,r,O(),r.stylesWithoutHost,!1),Kd}function _f(n,r,s,u){return au(n,r,s,u),Kd(),_f}function Zd(n,r,s){const u=O(),d=ie(),m=n+22,w=d.firstCreatePass?function ug(n,r,s,u,d){const m=r.consts,w=Ai(m,u),S=Pl(r,n,8,"ng-container",w);return null!==w&&jd(S,w,!0),Ld(r,s,S,Ai(m,d)),null!==r.queries&&r.queries.elementStart(r,S),S}(m,d,u,r,s):d.data[m];On(w,!0);const S=u[m]=u[11].createComment("");return lc(d,u,S,w),p(S,u),fn(w)&&(Nd(d,u,w),Jh(d,w,u)),null!=s&&Fd(u,w),Zd}function lg(){let n=St();const r=ie();return br()?wr():(n=n.parent,On(n,!1)),r.firstCreatePass&&(Da(r,n),It(n)&&r.queries.elementEnd(n)),lg}function Vc(n,r,s){return Zd(n,r,s),lg(),Vc}function Xd(){return O()}function Ef(n){return!!n&&"function"==typeof n.then}function Bc(n){return!!n&&"function"==typeof n.subscribe}const ry=Bc;function $c(n,r,s,u){const d=O(),m=ie(),w=St();return function Uc(n,r,s,u,d,m,w,S){const x=fn(u),K=n.firstCreatePass&&Hm(n),pe=r[8],Ye=jm(r);let ht=!0;if(3&u.type||S){const yn=dr(u,r),Mn=S?S(yn):yn,fr=Ye.length,Gt=S?Jn=>S(pt(Jn[u.index])):u.index;if(P(s)){let Jn=null;if(!S&&x&&(Jn=function Tu(n,r,s,u){const d=n.cleanup;if(null!=d)for(let m=0;m<d.length-1;m+=2){const w=d[m];if(w===s&&d[m+1]===u){const S=r[7],x=d[m+2];return S.length>x?S[x]:null}"string"==typeof w&&(m+=2)}return null}(n,r,d,u.index)),null!==Jn)(Jn.__ngLastListenerFn__||Jn).__ngNextListenerFn__=m,Jn.__ngLastListenerFn__=m,ht=!1;else{m=cg(u,r,pe,m,!1);const ti=s.listen(Mn,d,m);Ye.push(m,ti),K&&K.push(d,Gt,fr,fr+1)}}else m=cg(u,r,pe,m,!0),Mn.addEventListener(d,m,w),Ye.push(m),K&&K.push(d,Gt,fr,w)}else m=cg(u,r,pe,m,!1);const Nt=u.outputs;let Yt;if(ht&&null!==Nt&&(Yt=Nt[d])){const yn=Yt.length;if(yn)for(let Mn=0;Mn<yn;Mn+=2){const vs=r[Yt[Mn]][Yt[Mn+1]].subscribe(m),ah=Ye.length;Ye.push(m,vs),K&&K.push(d,u.index,ah,-(ah+1))}}}(m,d,d[11],w,n,r,!!s,u),$c}function Su(n,r,s,u){try{return!1!==s(u)}catch(d){return zm(n,d),!1}}function cg(n,r,s,u,d){return function m(w){if(w===Function)return u;Bd(2&n.flags?$n(n.index,r):r);let x=Su(r,0,u,w),$=m.__ngNextListenerFn__;for(;$;)x=Su(r,0,$,w)&&x,$=$.__ngNextListenerFn__;return d&&!1===x&&(w.preventDefault(),w.returnValue=!1),x}}function dg(n=1){return function Ru(n){return(Cn.lFrame.contextLView=function Yc(n,r){for(;n>0;)r=r[15],n--;return r}(n,Cn.lFrame.contextLView))[8]}(n)}function iy(n,r){let s=null;const u=function Ky(n){const r=n.attrs;if(null!=r){const s=r.indexOf(5);if(0==(1&s))return r[s+1]}return null}(n);for(let d=0;d<r.length;d++){const m=r[d];if("*"!==m){if(null===u?pd(n,m,!0):Nh(u,m))return d}else s=d}return s}function jc(n){const r=O()[16][6];if(!r.projection){const u=r.projection=uo(n?n.length:1,null),d=u.slice();let m=r.child;for(;null!==m;){const w=n?iy(m,n):0;null!==w&&(d[w]?d[w].projectionNext=m:u[w]=m,d[w]=m),m=m.next}}}function Au(n,r=0,s){const u=O(),d=ie(),m=Pl(d,22+n,16,null,s||null);null===m.projection&&(m.projection=r),wr(),64!=(64&m.flags)&&function kh(n,r,s){hc(r[11],0,r,s,Ws(n,s,r),Qu(s.parent||r[6],s,r))}(d,u,m)}function gg(n,r,s,u,d){const m=n[s+1],w=null===r;let S=u?Fo(m):La(m),x=!1;for(;0!==S&&(!1===x||w);){const K=n[S+1];hy(n[S],r)&&(x=!0,n[S+1]=u?Wh(K):zh(K)),S=u?Fo(K):La(K)}x&&(n[s+1]=u?zh(m):Wh(m))}function hy(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&R(n,r)>=0}function bf(n,r){return function ho(n,r,s,u){const d=O(),m=ie(),w=function rs(n){const r=Cn.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}(2);m.firstUpdatePass&&function yy(n,r,s,u){const d=n.data;if(null===d[s+1]){const m=d[Zi()],w=function my(n,r){return r>=n.expandoStartIndex}(n,s);(function Gc(n,r){return 0!=(n.flags&(r?16:32))})(m,u)&&null===r&&!w&&(r=!1),r=function Zv(n,r,s,u){const d=function Ua(n){const r=Cn.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let m=u?r.residualClasses:r.residualStyles;if(null===d)0===(u?r.classBindings:r.styleBindings)&&(s=wf(s=Eg(null,n,r,s,u),r.attrs,u),m=null);else{const w=r.directiveStylingLast;if(-1===w||n[w]!==d)if(s=Eg(d,n,r,s,u),null===m){let x=function Xv(n,r,s){const u=s?r.classBindings:r.styleBindings;if(0!==La(u))return n[Fo(u)]}(n,r,u);void 0!==x&&Array.isArray(x)&&(x=Eg(null,n,r,x[1],u),x=wf(x,r.attrs,u),function Qv(n,r,s,u){n[Fo(s?r.classBindings:r.styleBindings)]=u}(n,r,u,x))}else m=function Jv(n,r,s){let u;const d=r.directiveEnd;for(let m=1+r.directiveStylingLast;m<d;m++)u=wf(u,n[m].hostAttrs,s);return wf(u,r.attrs,s)}(n,r,u)}return void 0!==m&&(u?r.residualClasses=m:r.residualStyles=m),s}(d,m,r,u),function Hv(n,r,s,u,d,m){let w=m?r.classBindings:r.styleBindings,S=Fo(w),x=La(w);n[u]=s;let K,$=!1;if(Array.isArray(s)){const pe=s;K=pe[1],(null===K||R(pe,K)>0)&&($=!0)}else K=s;if(d)if(0!==x){const Ye=Fo(n[S+1]);n[u+1]=wc(Ye,S),0!==Ye&&(n[Ye+1]=Td(n[Ye+1],u)),n[S+1]=function Cp(n,r){return 131071&n|r<<17}(n[S+1],u)}else n[u+1]=wc(S,0),0!==S&&(n[S+1]=Td(n[S+1],u)),S=u;else n[u+1]=wc(x,0),0===S?S=u:n[x+1]=Td(n[x+1],u),x=u;$&&(n[u+1]=zh(n[u+1])),gg(n,K,u,!0),gg(n,K,u,!1),function Gv(n,r,s,u,d){const m=d?n.residualClasses:n.residualStyles;null!=m&&"string"==typeof r&&R(m,r)>=0&&(s[u+1]=Wh(s[u+1]))}(r,K,n,u,m),w=wc(S,x),m?r.classBindings=w:r.styleBindings=w}(d,m,r,s,w,u)}}(m,n,w,u),r!==Ir&&co(d,w,r)&&function vy(n,r,s,u,d,m,w,S){if(!(3&r.type))return;const x=n.data,$=x[S+1];Jd(function Iu(n){return 1==(1&n)}($)?If(x,r,s,d,La($),w):void 0)||(Jd(m)||function Ic(n){return 2==(2&n)}($)&&(m=If(x,null,s,d,S,w)),function qy(n,r,s,u,d){const m=P(n);if(r)d?m?n.addClass(s,u):s.classList.add(u):m?n.removeClass(s,u):s.classList.remove(u);else{let w=-1===u.indexOf("-")?void 0:Qo.DashCase;if(null==d)m?n.removeStyle(s,u,w):s.style.removeProperty(u);else{const S="string"==typeof d&&d.endsWith("!important");S&&(d=d.slice(0,-10),w|=Qo.Important),m?n.setStyle(s,u,d,w):s.style.setProperty(u,d,S?"important":"")}}}(u,w,pr(Zi(),s),d,m))}(m,m.data[Zi()],d,d[11],n,d[w+1]=function _y(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=G(ha(n)))),n}(r,s),u,w)}(n,r,null,!0),bf}function Eg(n,r,s,u,d){let m=null;const w=s.directiveEnd;let S=s.directiveStylingLast;for(-1===S?S=s.directiveStart:S++;S<w&&(m=r[S],u=wf(u,m.hostAttrs,d),m!==n);)S++;return null!==n&&(s.directiveStylingLast=S),u}function wf(n,r,s){const u=s?1:2;let d=-1;if(null!==r)for(let m=0;m<r.length;m++){const w=r[m];"number"==typeof w?d=w:d===u&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Zs(n,w,!!s||r[++m]))}return void 0===n?null:n}function If(n,r,s,u,d,m){const w=null===r;let S;for(;d>0;){const x=n[d],$=Array.isArray(x),K=$?x[1]:x,pe=null===K;let Ye=s[d+1];Ye===Ir&&(Ye=pe?Fe:void 0);let ht=pe?_o(Ye,u):K===u?Ye:void 0;if($&&!Jd(ht)&&(ht=_o(x,u)),Jd(ht)&&(S=ht,w))return S;const Nt=n[d+1];d=w?Fo(Nt):La(Nt)}if(null!==r){let x=m?r.residualClasses:r.residualStyles;null!=x&&(S=_o(x,u))}return S}function Jd(n){return void 0!==n}function Df(n,r=""){const s=O(),u=ie(),d=n+22,m=u.firstCreatePass?Pl(u,d,1,r,null):u.data[d],w=s[d]=function Kf(n,r){return P(n)?n.createText(r):n.createTextNode(r)}(s[11],r);lc(u,s,w,m),On(m,!1)}function wg(n){return Cf("",n,""),wg}function Cf(n,r,s){const u=O(),d=function Nc(n,r,s,u){return co(n,Ki(),s)?r+Ge(s)+u:Ir}(u,n,r,s);return d!==Ir&&Va(u,Zi(),d),Cf}const jl=void 0;var u_=["en",[["a","p"],["AM","PM"],jl],[["AM","PM"],jl,jl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],jl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],jl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",jl,"{1} 'at' {0}",jl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function a_(n){const s=Math.floor(Math.abs(n)),u=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===u?1:5}];let Wc={};function Af(n){const r=function o(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=i(r);if(s)return s;const u=r.split("-")[0];if(s=i(u),s)return s;if("en"===u)return u_;throw new z(701,!1)}function l_(n){return Af(n)[t.PluralCase]}function i(n){return n in Wc||(Wc[n]=qn.ng&&qn.ng.common&&qn.ng.common.locales&&qn.ng.common.locales[n]),Wc[n]}var t=(()=>((t=t||{})[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t))();const v="en-US";let vt=v;function h_(n,r,s,u,d){if(n=le(n),Array.isArray(n))for(let m=0;m<n.length;m++)h_(n[m],r,s,u,d);else{const m=ie(),w=O();let S=Jo(n)?n:le(n.provide),x=fp(n);const $=St(),K=1048575&$.providerIndexes,pe=$.directiveStart,Ye=$.providerIndexes>>20;if(Jo(n)||!n.multi){const ht=new is(x,d,Ml),Nt=p_(S,r,d?K:K+Ye,pe);-1===Nt?(aa(en($,w),m,S),f_(m,n,r.length),r.push(S),$.directiveStart++,$.directiveEnd++,d&&($.providerIndexes+=1048576),s.push(ht),w.push(ht)):(s[Nt]=ht,w[Nt]=ht)}else{const ht=p_(S,r,K+Ye,pe),Nt=p_(S,r,K,K+Ye),Yt=ht>=0&&s[ht],yn=Nt>=0&&s[Nt];if(d&&!yn||!d&&!Yt){aa(en($,w),m,S);const Mn=function nw(n,r,s,u,d){const m=new is(n,s,Ml);return m.multi=[],m.index=r,m.componentProviders=0,j0(m,d,u&&!s),m}(d?tw:ew,s.length,d,u,x);!d&&yn&&(s[Nt].providerFactory=Mn),f_(m,n,r.length,0),r.push(S),$.directiveStart++,$.directiveEnd++,d&&($.providerIndexes+=1048576),s.push(Mn),w.push(Mn)}else f_(m,n,ht>-1?ht:Nt,j0(s[d?Nt:ht],x,!d&&u));!d&&u&&yn&&s[Nt].componentProviders++}}}function f_(n,r,s,u){const d=Jo(r),m=function vd(n){return!!n.useClass}(r);if(d||m){const x=(m?le(r.useClass):r).prototype.ngOnDestroy;if(x){const $=n.destroyHooks||(n.destroyHooks=[]);if(!d&&r.multi){const K=$.indexOf(s);-1===K?$.push(s,[u,x]):$[K+1].push(u,x)}else $.push(s,x)}}}function j0(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function p_(n,r,s,u){for(let d=s;d<u;d++)if(r[d]===n)return d;return-1}function ew(n,r,s,u){return g_(this.multi,[])}function tw(n,r,s,u){const d=this.multi;let m;if(this.providerFactory){const w=this.providerFactory.componentProviders,S=la(s,s[1],this.providerFactory.index,u);m=S.slice(0,w),g_(d,m);for(let x=w;x<S.length;x++)m.push(S[x])}else m=[],g_(d,m);return m}function g_(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function H0(n,r=[]){return s=>{s.providersResolver=(u,d)=>function Jb(n,r,s){const u=ie();if(u.firstCreatePass){const d=ln(n);h_(s,u.data,u.blueprint,d,!0),h_(r,u.data,u.blueprint,d,!1)}}(u,d?d(n):n,r)}}class iw{resolveComponentFactory(r){throw function rw(n){const r=Error(`No component factory found for ${G(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let Fg=(()=>{class n{}return n.NULL=new iw,n})();class sh{}class z0{}class W0{}function ow(){return Mf(St(),O())}function Mf(n,r){return new Lg(dr(n,r))}let Lg=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=ow,n})();function aw(n){return n instanceof Lg?n.nativeElement:n}class q0{}let uw=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function cw(){const n=O(),s=$n(St().index,n);return function lw(n){return n[11]}(Et(s)?s:n)}(),n})(),dw=(()=>{class n{}return n.\u0275prov=Jt({token:n,providedIn:"root",factory:()=>null}),n})();class Y0{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const K0=new Y0("14.0.4"),m_={};function Ay(n,r,s,u,d=!1){for(;null!==s;){const m=r[s.index];if(null!==m&&u.push(pt(m)),_t(m))for(let S=10;S<m.length;S++){const x=m[S],$=x[1].firstChild;null!==$&&Ay(x[1],x,$,u)}const w=s.type;if(8&w)Ay(n,r,s.child,u);else if(32&w){const S=dd(s,r);let x;for(;x=S();)u.push(x)}else if(16&w){const S=np(r,s);if(Array.isArray(S))u.push(...S);else{const x=ac(r[16]);Ay(x[1],x,S,u,!0)}}s=d?s.projectionNext:s.next}return u}class Vg{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return Ay(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(_t(r)){const s=r[8],u=s?s.indexOf(this):-1;u>-1&&(Qf(r,u),Ts(s,u))}this._attachedToViewContainer=!1}Jf(this._lView[1],this._lView)}onDestroy(r){Rp(this._lView[1],this._lView,null,r)}markForCheck(){Bd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function Hp(n,r,s){const u=r[10];u.begin&&u.begin();try{xc(n,r,n.template,s)}catch(d){throw zm(r,d),d}finally{u.end&&u.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function jy(n,r){dc(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=r}}class hw extends Vg{constructor(r){super(r),this._view=r}detectChanges(){Gp(this._view)}checkNoChanges(){}get context(){return null}}class y_ extends Fg{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=Yn(r);return new v_(s,this.ngModule)}}function Z0(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class pw{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,u){const d=this.injector.get(r,m_,u);return d!==m_||s===m_?d:this.parentInjector.get(r,s,u)}}class v_ extends W0{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function tm(n){return n.map(em).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return Z0(this.componentDef.inputs)}get outputs(){return Z0(this.componentDef.outputs)}create(r,s,u,d){let m=(d=d||this.ngModule)instanceof ms?d:d?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const w=m?new pw(r,m):r,S=w.get(q0,Z),x=w.get(dw,null),$=S.createRenderer(null,this.componentDef),K=this.componentDef.selectors[0][0]||"div",pe=u?function tf(n,r,s){if(P(n))return n.selectRootElement(r,s===kn.ShadowDom);let u="string"==typeof r?n.querySelector(r):r;return u.textContent="",u}($,u,this.componentDef.encapsulation):Zf(S.createRenderer(null,this.componentDef),K,function fw(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(K)),Ye=this.componentDef.onPush?288:272,ht=function ng(n,r){return{components:[],scheduler:n||ko,clean:lf,playerHandler:r||null,flags:0}}(),Nt=Mc(0,null,null,1,0,null,null,null,null,null),Yt=Ac(null,Nt,ht,Ye,null,null,S,$,x,w,null);let yn,Mn;mo(Yt);try{const fr=function Ur(n,r,s,u,d,m){const w=s[1];s[22]=n;const x=Pl(w,22,2,"#host",null),$=x.mergedAttrs=r.hostAttrs;null!==$&&(jd(x,$,!0),null!==n&&(Uo(d,n,$),null!==x.classes&&ip(d,n,x.classes),null!==x.styles&&rp(d,n,x.styles)));const K=u.createRenderer(n,r),pe=Ac(s,Nm(r),null,r.onPush?32:16,s[22],x,u,K,m||null,null,null);return w.firstCreatePass&&(aa(en(x,s),w,r.type),sf(w,x),Vm(x,s.length,1)),uf(s,pe),s[22]=pe}(pe,this.componentDef,Yt,S,$);if(pe)if(u)Uo($,pe,["ng-version",K0.full]);else{const{attrs:Gt,classes:Jn}=function No(n){const r=[],s=[];let u=1,d=2;for(;u<n.length;){let m=n[u];if("string"==typeof m)2===d?""!==m&&r.push(m,n[++u]):8===d&&s.push(m);else{if(!Na(d))break;d=m}u++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);Gt&&Uo($,pe,Gt),Jn&&Jn.length>0&&ip($,pe,Jn.join(" "))}if(Mn=Kn(Nt,22),void 0!==s){const Gt=Mn.projection=[];for(let Jn=0;Jn<this.ngContentSelectors.length;Jn++){const ti=s[Jn];Gt.push(null!=ti?Array.from(ti):null)}}yn=function tg(n,r,s,u,d){const m=s[1],w=function kp(n,r,s){const u=St();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Bm(n,u,r,kl(n,r,1,null),s));const d=la(r,n,u.directiveStart,u);p(d,r);const m=dr(u,r);return m&&p(m,r),d}(m,s,r);if(u.components.push(w),n[8]=w,null!==d)for(const x of d)x(w,r);if(r.contentQueries){const x=St();r.contentQueries(1,w,x.directiveStart)}const S=St();return!m.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(ro(S.index),Nl(s[1],S,0,S.directiveStart,S.directiveEnd,r),rf(r,w)),w}(fr,this.componentDef,Yt,ht,[Hd]),kd(Nt,Yt,null)}finally{Bo()}return new mw(this.componentType,yn,Mf(Mn,Yt),Yt,Mn)}}class mw extends class sw{}{constructor(r,s,u,d,m){super(),this.location=u,this._rootLView=d,this._tNode=m,this.instance=s,this.hostView=this.changeDetectorRef=new hw(d),this.componentType=r}get injector(){return new Us(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function yw(n,r){return new X0(n,r??null)}class X0 extends sh{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new y_(this);const u=Oe(r);this._bootstrapComponents=pa(u.bootstrap),this._r3Injector=wd(r,s,[{provide:sh,useValue:this},{provide:Fg,useValue:this.componentFactoryResolver}],G(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this.get(r)}get(r,s=ga.THROW_IF_NOT_FOUND,u=Vt.Default){return r===ga||r===sh||r===Vh?this:this._r3Injector.get(r,s,u)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class __ extends z0{constructor(r){super(),this.moduleType=r}create(r){return new X0(this.moduleType,r)}}class vw extends sh{constructor(r,s,u){super(),this.componentFactoryResolver=new y_(this),this.instance=null;const d=new um([...r,{provide:sh,useValue:this},{provide:Fg,useValue:this.componentFactoryResolver}],s||Ed(),u,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function E_(n,r=null,s=null){return new vw(n,r,s).injector}function Q0(n,r,s){const u=lr()+n,d=O();return d[u]===Ir?ou(d,u,s?r.call(s):r()):function Pc(n,r){return n[r]}(d,u)}function J0(n,r,s,u){return tE(O(),lr(),n,r,s,u)}function eE(n,r,s,u,d){return nE(O(),lr(),n,r,s,u,d)}function Bg(n,r){const s=n[r];return s===Ir?void 0:s}function tE(n,r,s,u,d,m){const w=r+s;return co(n,w,d)?ou(n,w+1,m?u.call(m,d):u(d)):Bg(n,w+1)}function nE(n,r,s,u,d,m,w){const S=r+s;return function Ll(n,r,s,u){const d=co(n,r,s);return co(n,r+1,u)||d}(n,S,d,m)?ou(n,S+2,w?u.call(w,d,m):u(d,m)):Bg(n,S+2)}function oE(n,r){const s=ie();let u;const d=n+22;s.firstCreatePass?(u=function xw(n,r){if(r)for(let s=r.length-1;s>=0;s--){const u=r[s];if(n===u.name)return u}}(r,s.pipeRegistry),s.data[d]=u,u.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(d,u.onDestroy)):u=s.data[d];const m=u.factory||(u.factory=vi(u.type)),w=mr(Ml);try{const S=Ut(!1),x=m();return Ut(S),function Uv(n,r,s,u){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),r[s]=u}(s,O(),d,x),x}finally{mr(w)}}function aE(n,r,s){const u=n+22,d=O(),m=Hr(d,u);return $g(d,u)?tE(d,lr(),r,m.transform,s,m):m.transform(s)}function uE(n,r,s,u){const d=n+22,m=O(),w=Hr(m,d);return $g(m,d)?nE(m,lr(),r,w.transform,s,u,w):w.transform(s,u)}function $g(n,r){return n[1].data[r].pure}function b_(n){return r=>{setTimeout(n,void 0,r)}}const al=class Pw extends l.xQ{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,u){let d=r,m=s||(()=>null),w=u;if(r&&"object"==typeof r){const x=r;d=x.next?.bind(x),m=x.error?.bind(x),w=x.complete?.bind(x)}this.__isAsync&&(m=b_(m),d&&(d=b_(d)),w&&(w=b_(w)));const S=super.subscribe({next:d,error:m,complete:w});return r instanceof L.w&&r.add(S),S}};function kw(){return this._results[Fl()]()}class w_{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Fl(),u=w_.prototype;u[s]||(u[s]=kw)}get changes(){return this._changes||(this._changes=new al)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const u=this;u.dirty=!1;const d=pi(r);(this._changesDetected=!function hu(n,r,s){if(n.length!==r.length)return!1;for(let u=0;u<n.length;u++){let d=n[u],m=r[u];if(s&&(d=s(d),m=s(m)),m!==d)return!1}return!0}(u._results,d,s))&&(u._results=d,u.length=d.length,u.last=d[this.length-1],u.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ug=(()=>{class n{}return n.__NG_ELEMENT_ID__=Lw,n})();const Nw=Ug,Fw=class extends Nw{constructor(r,s,u){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=u}createEmbeddedView(r,s){const u=this._declarationTContainer.tViews,d=Ac(this._declarationLView,u,r,16,null,u.declTNode,null,null,null,null,s||null);d[17]=this._declarationLView[this._declarationTContainer.index];const w=this._declarationLView[19];return null!==w&&(d[19]=w.createEmbeddedView(u)),kd(u,d,r),new Vg(d)}};function Lw(){return xy(St(),O())}function xy(n,r){return 4&n.type?new Fw(r,n,Mf(n,r)):null}let My=(()=>{class n{}return n.__NG_ELEMENT_ID__=Vw,n})();function Vw(){return dE(St(),O())}const Bw=My,lE=class extends Bw{constructor(r,s,u){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=u}get element(){return Mf(this._hostTNode,this._hostLView)}get injector(){return new Us(this._hostTNode,this._hostLView)}get parentInjector(){const r=bi(this._hostTNode,this._hostLView);if(Vi(r)){const s=Js(r,this._hostLView),u=Ys(r);return new Us(s[1].data[u+8],s)}return new Us(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=cE(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,u){let d,m;"number"==typeof u?d=u:null!=u&&(d=u.index,m=u.injector);const w=r.createEmbeddedView(s||{},m);return this.insert(w,d),w}createComponent(r,s,u,d,m){const w=r&&!function ao(n){return"function"==typeof n}(r);let S;if(w)S=s;else{const pe=s||{};S=pe.index,u=pe.injector,d=pe.projectableNodes,m=pe.environmentInjector||pe.ngModuleRef}const x=w?r:new v_(Yn(r)),$=u||this.parentInjector;if(!m&&null==x.ngModule){const Ye=(w?$:this.parentInjector).get(ms,null);Ye&&(m=Ye)}const K=x.create($,d,void 0,m);return this.insert(K.hostView,S),K}insert(r,s){const u=r._lView,d=u[1];if(function Gr(n){return _t(n[3])}(u)){const K=this.indexOf(r);if(-1!==K)this.detach(K);else{const pe=u[3],Ye=new lE(pe,pe[6],pe[3]);Ye.detach(Ye.indexOf(r))}}const m=this._adjustIndex(s),w=this._lContainer;!function Gy(n,r,s,u){const d=10+u,m=s.length;u>0&&(s[d-1][4]=r),u<m-10?(r[4]=s[d],ll(s,10+u,r)):(s.push(r),r[4]=null),r[3]=s;const w=r[17];null!==w&&s!==w&&function zy(n,r){const s=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===s?n[9]=[r]:s.push(r)}(w,r);const S=r[19];null!==S&&S.insertView(n),r[2]|=64}(d,u,w,m);const S=Oh(m,w),x=u[11],$=fd(x,w[7]);return null!==$&&function Uy(n,r,s,u,d,m){u[0]=d,u[6]=r,dc(n,u,s,1,d,m)}(d,w[6],x,u,$,S),r.attachToViewContainerRef(),ll(I_(w),m,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=cE(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),u=Qf(this._lContainer,s);u&&(Ts(I_(this._lContainer),s),Jf(u[1],u))}detach(r){const s=this._adjustIndex(r,-1),u=Qf(this._lContainer,s);return u&&null!=Ts(I_(this._lContainer),s)?new Vg(u):null}_adjustIndex(r,s=0){return r??this.length+s}};function cE(n){return n[8]}function I_(n){return n[8]||(n[8]=[])}function dE(n,r){let s;const u=r[n.index];if(_t(u))s=u;else{let d;if(8&n.type)d=pt(u);else{const m=r[11];d=m.createComment("");const w=dr(n,r);bu(m,fd(m,w),d,function Rh(n,r){return P(n)?n.nextSibling(r):r.nextSibling}(m,w),!1)}r[n.index]=s=af(u,r,d,n),uf(r,s)}return new lE(s,n,r)}class D_{constructor(r){this.queryList=r,this.matches=null}clone(){return new D_(this.queryList)}setDirty(){this.queryList.setDirty()}}class C_{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const u=null!==r.contentQueries?r.contentQueries[0]:s.length,d=[];for(let m=0;m<u;m++){const w=s.getByIndex(m);d.push(this.queries[w.indexInDeclarationView].clone())}return new C_(d)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==EE(r,s).matches&&this.queries[s].setDirty()}}class hE{constructor(r,s,u=null){this.predicate=r,this.flags=s,this.read=u}}class T_{constructor(r=[]){this.queries=r}elementStart(r,s){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let u=0;u<this.length;u++){const d=null!==s?s.length:0,m=this.getByIndex(u).embeddedTView(r,d);m&&(m.indexInDeclarationView=u,null!==s?s.push(m):s=[m])}return null!==s?new T_(s):null}template(r,s){for(let u=0;u<this.queries.length;u++)this.queries[u].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class S_{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new S_(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let u=r.parent;for(;null!==u&&8&u.type&&u.index!==s;)u=u.parent;return s===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const u=this.metadata.predicate;if(Array.isArray(u))for(let d=0;d<u.length;d++){const m=u[d];this.matchTNodeWithReadOption(r,s,jw(s,m)),this.matchTNodeWithReadOption(r,s,ua(s,r,m,!1,!1))}else u===Ug?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,ua(s,r,u,!1,!1))}matchTNodeWithReadOption(r,s,u){if(null!==u){const d=this.metadata.read;if(null!==d)if(d===Lg||d===My||d===Ug&&4&s.type)this.addMatch(s.index,-2);else{const m=ua(s,r,d,!1,!1);null!==m&&this.addMatch(s.index,m)}else this.addMatch(s.index,u)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function jw(n,r){const s=n.localNames;if(null!==s)for(let u=0;u<s.length;u+=2)if(s[u]===r)return s[u+1];return null}function Gw(n,r,s,u){return-1===s?function Hw(n,r){return 11&n.type?Mf(n,r):4&n.type?xy(n,r):null}(r,n):-2===s?function zw(n,r,s){return s===Lg?Mf(r,n):s===Ug?xy(r,n):s===My?dE(r,n):void 0}(n,r,u):la(n,n[1],s,r)}function fE(n,r,s,u){const d=r[19].queries[u];if(null===d.matches){const m=n.data,w=s.matches,S=[];for(let x=0;x<w.length;x+=2){const $=w[x];S.push($<0?null:Gw(r,m[$],w[x+1],s.metadata.read))}d.matches=S}return d.matches}function A_(n,r,s,u){const d=n.queries.getByIndex(s),m=d.matches;if(null!==m){const w=fE(n,r,d,s);for(let S=0;S<m.length;S+=2){const x=m[S];if(x>0)u.push(w[S/2]);else{const $=m[S+1],K=r[-x];for(let pe=10;pe<K.length;pe++){const Ye=K[pe];Ye[17]===Ye[3]&&A_(Ye[1],Ye,$,u)}if(null!==K[9]){const pe=K[9];for(let Ye=0;Ye<pe.length;Ye++){const ht=pe[Ye];A_(ht[1],ht,$,u)}}}}}return u}function pE(n){const r=O(),s=ie(),u=Cs();_a(u+1);const d=EE(s,u);if(n.dirty&&Xr(r)===(2==(2&d.metadata.flags))){if(null===d.matches)n.reset([]);else{const m=d.crossesNgTemplate?A_(s,r,u,[]):fE(s,r,d,u);n.reset(m,aw),n.notifyOnChanges()}return!0}return!1}function gE(n,r,s){const u=ie();u.firstCreatePass&&(_E(u,new hE(n,r,s),-1),2==(2&r)&&(u.staticViewQueries=!0)),vE(u,O(),r)}function mE(n,r,s,u){const d=ie();if(d.firstCreatePass){const m=St();_E(d,new hE(r,s,u),m.index),function qw(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(d,n),2==(2&s)&&(d.staticContentQueries=!0)}vE(d,O(),s)}function yE(){return function Ww(n,r){return n[19].queries[r].queryList}(O(),Cs())}function vE(n,r,s){const u=new w_(4==(4&s));Rp(n,r,u,u.destroy),null===r[19]&&(r[19]=new C_),r[19].queries.push(new D_(u))}function _E(n,r,s){null===n.queries&&(n.queries=new T_),n.queries.track(new S_(r,s))}function EE(n,r){return n.queries.getByIndex(r)}function Of(n){const r=Yn(n)||kr(n)||it(n);return null!==r&&r.standalone}function Oy(...n){}const BE=new I("Application Initializer");let Py=(()=>{class n{constructor(s){this.appInits=s,this.resolve=Oy,this.reject=Oy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,d)=>{this.resolve=u,this.reject=d})}runInitializers(){if(this.initialized)return;const s=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const m=this.appInits[d]();if(Ef(m))s.push(m);else if(ry(m)){const w=new Promise((S,x)=>{m.subscribe({complete:S,error:x})});s.push(w)}}Promise.all(s).then(()=>{u()}).catch(d=>{this.reject(d)}),0===s.length&&u(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(ai(BE,8))},n.\u0275prov=Jt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $E=new I("AppId",{providedIn:"root",factory:function UE(){return`${P_()}${P_()}${P_()}`}});function P_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const jE=new I("Platform Initializer"),pI=new I("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),HE=new I("appBootstrapListener");let gI=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Jt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const ky=new I("LocaleId",{providedIn:"root",factory:()=>Xa(ky,Vt.Optional|Vt.SkipSelf)||function mI(){return typeof $localize<"u"&&$localize.locale||v}()}),yI=new I("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class vI{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let _I=(()=>{class n{compileModuleSync(s){return new __(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const u=this.compileModuleSync(s),m=pa(Oe(s).declarations).reduce((w,S)=>{const x=Yn(S);return x&&w.push(new v_(x)),w},[]);return new vI(u,m)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Jt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bI=(()=>Promise.resolve(0))();function k_(n){typeof Zone>"u"?bI.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Ba{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new al(!1),this.onMicrotaskEmpty=new al(!1),this.onStable=new al(!1),this.onError=new al(!1),typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!u&&s,d.shouldCoalesceRunChangeDetection=u,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function wI(){let n=qn.requestAnimationFrame,r=qn.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const u=r[Zone.__symbol__("OriginalDelegate")];u&&(r=u)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function CI(n){const r=()=>{!function DI(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(qn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,F_(n),n.isCheckStableRunning=!0,N_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),F_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,u,d,m,w,S)=>{try{return GE(n),s.invokeTask(d,m,w,S)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||n.shouldCoalesceRunChangeDetection)&&r(),zE(n)}},onInvoke:(s,u,d,m,w,S,x)=>{try{return GE(n),s.invoke(d,m,w,S,x)}finally{n.shouldCoalesceRunChangeDetection&&r(),zE(n)}},onHasTask:(s,u,d,m)=>{s.hasTask(d,m),u===d&&("microTask"==m.change?(n._hasPendingMicrotasks=m.microTask,F_(n),N_(n)):"macroTask"==m.change&&(n.hasPendingMacrotasks=m.macroTask))},onHandleError:(s,u,d,m)=>(s.handleError(d,m),n.runOutsideAngular(()=>n.onError.emit(m)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ba.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(Ba.isInAngularZone())throw new z(909,!1)}run(r,s,u){return this._inner.run(r,s,u)}runTask(r,s,u,d){const m=this._inner,w=m.scheduleEventTask("NgZoneEvent: "+d,r,II,Oy,Oy);try{return m.runTask(w,s,u)}finally{m.cancelTask(w)}}runGuarded(r,s,u){return this._inner.runGuarded(r,s,u)}runOutsideAngular(r){return this._outer.run(r)}}const II={};function N_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function F_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function GE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function zE(n){n._nesting--,N_(n)}class TI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new al,this.onMicrotaskEmpty=new al,this.onStable=new al,this.onError=new al}run(r,s,u){return r.apply(s,u)}runGuarded(r,s,u){return r.apply(s,u)}runOutsideAngular(r){return r()}runTask(r,s,u,d){return r.apply(s,u)}}const WE=new I(""),qE=new I("");let L_,SI=(()=>{class n{constructor(s,u,d){this._ngZone=s,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,L_||(function AI(n){L_=n}(d),d.addToWindow(u)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ba.assertNotInAngularZone(),k_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())k_(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(s)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,u,d){let m=-1;u&&u>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==m),s(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:s,timeoutId:m,updateCb:d})}whenStable(s,u,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,u,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,u,d){return[]}}return n.\u0275fac=function(s){return new(s||n)(ai(Ba),ai(YE),ai(qE))},n.\u0275prov=Jt({token:n,factory:n.\u0275fac}),n})(),YE=(()=>{class n{constructor(){this._applications=new Map}registerApplication(s,u){this._applications.set(s,u)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,u=!0){return L_?.findTestabilityInTree(this,s,u)??null}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=Jt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),qc=null;const KE=new I("AllowMultipleToken"),V_=new I("PlatformDestroyListeners");class RI{constructor(r,s){this.name=r,this.token=s}}function XE(n,r,s=[]){const u=`Platform: ${r}`,d=new I(u);return(m=[])=>{let w=B_();if(!w||w.injector.get(KE,!1)){const S=[...s,...m,{provide:d,useValue:!0}];n?n(S):function OI(n){if(qc&&!qc.get(KE,!1))throw new z(400,!1);qc=n;const r=n.get(JE);(function ZE(n){const r=n.get(jE,null);r&&r.forEach(s=>s())})(n)}(function QE(n=[],r){return ga.create({name:r,providers:[{provide:cp,useValue:"platform"},{provide:V_,useValue:new Set([()=>qc=null])},...n]})}(S,u))}return function kI(n){const r=B_();if(!r)throw new z(401,!1);return r}()}}function B_(){return qc?.get(JE)??null}let JE=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,u){const d=function NI(n,r){let s;return s="noop"===n?new TI:("zone.js"===n?void 0:n)||new Ba(r),s}(u?.ngZone,function eb(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(u)),m=[{provide:Ba,useValue:d}];return d.run(()=>{const w=ga.create({providers:m,parent:this.injector,name:s.moduleType.name}),S=s.create(w),x=S.injector.get(fa,null);if(!x)throw new z(402,!1);return d.runOutsideAngular(()=>{const $=d.onError.subscribe({next:K=>{x.handleError(K)}});S.onDestroy(()=>{Fy(this._modules,S),$.unsubscribe()})}),function tb(n,r,s){try{const u=s();return Ef(u)?u.catch(d=>{throw r.runOutsideAngular(()=>n.handleError(d)),d}):u}catch(u){throw r.runOutsideAngular(()=>n.handleError(u)),u}}(x,d,()=>{const $=S.injector.get(Py);return $.runInitializers(),$.donePromise.then(()=>(function Pt(n){at(n,"Expected localeId to be defined"),"string"==typeof n&&(vt=n.toLowerCase().replace(/_/g,"-"))}(S.injector.get(ky,v)||v),this._moduleDoBootstrap(S),S))})})}bootstrapModule(s,u=[]){const d=nb({},u);return function xI(n,r,s){const u=new __(s);return Promise.resolve(u)}(0,0,s).then(m=>this.bootstrapModuleFactory(m,d))}_moduleDoBootstrap(s){const u=s.injector.get(Ny);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(d=>u.bootstrap(d));else{if(!s.instance.ngDoBootstrap)throw new z(403,!1);s.instance.ngDoBootstrap(u)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new z(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const s=this._injector.get(V_,null);s&&(s.forEach(u=>u()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(ai(ga))},n.\u0275prov=Jt({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function nb(n,r){return Array.isArray(r)?r.reduce(nb,n):{...n,...r}}let Ny=(()=>{class n{constructor(s,u,d){this._zone=s,this._injector=u,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new U.y(S=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{S.next(this._stable),S.complete()})}),w=new U.y(S=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{Ba.assertNotInAngularZone(),k_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,S.next(!0))})})});const $=this._zone.onUnstable.subscribe(()=>{Ba.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{S.next(!1)}))});return()=>{x.unsubscribe(),$.unsubscribe()}});this.isStable=(0,Ie.T)(m,w.pipe(function Q(){return n=>(0,we.x)()(function re(n,r){return function(u){let d;if(d="function"==typeof n?n:function(){return n},"function"==typeof r)return u.lift(new ge(d,r));const m=Object.create(u,be.N);return m.source=u,m.subjectFactory=d,m}}(ae)(n))}()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,u){const d=s instanceof W0;if(!this._injector.get(Py).done)throw!d&&Of(s),new z(405,false);let w;w=d?s:this._injector.get(Fg).resolveComponentFactory(s),this.componentTypes.push(w.componentType);const S=function MI(n){return n.isBoundToModule}(w)?void 0:this._injector.get(sh),$=w.create(ga.NULL,[],u||w.selector,S),K=$.location.nativeElement,pe=$.injector.get(WE,null);return pe?.registerApplication(K),$.onDestroy(()=>{this.detachView($.hostView),Fy(this.components,$),pe?.unregisterApplication(K)}),this._loadComponent($),$}tick(){if(this._runningTick)throw new z(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const u=s;this._views.push(u),u.attachToAppRef(this)}detachView(s){const u=s;Fy(this._views,u),u.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(HE,[]).concat(this._bootstrapListeners).forEach(d=>d(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Fy(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new z(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(s){return new(s||n)(ai(Ba),ai(ga),ai(fa))},n.\u0275prov=Jt({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Fy(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}let ib=!0,sb=!1;function LI(){return sb=!0,ib}function VI(){if(sb)throw new Error("Cannot enable prod mode after platform setup.");ib=!1}let BI=(()=>{class n{}return n.__NG_ELEMENT_ID__=$I,n})();function $I(n){return function UI(n,r,s){if(qt(n)&&!s){const u=$n(n.index,r);return new Vg(u,u)}return 47&n.type?new Vg(r[16],r):null}(St(),O(),16==(16&n))}class lb{constructor(){}supports(r){return mf(r)}create(r){return new qI(r)}}const WI=(n,r)=>r;class qI{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||WI}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,u=this._removalsHead,d=0,m=null;for(;s||u;){const w=!u||s&&s.currentIndex<db(u,d,m)?s:u,S=db(w,d,m),x=w.currentIndex;if(w===u)d--,u=u._nextRemoved;else if(s=s._next,null==w.previousIndex)d++;else{m||(m=[]);const $=S-d,K=x-d;if($!=K){for(let Ye=0;Ye<$;Ye++){const ht=Ye<m.length?m[Ye]:m[Ye]=0,Nt=ht+Ye;K<=Nt&&Nt<$&&(m[Ye]=ht+1)}m[w.previousIndex]=K-$}}S!==x&&r(w,S,x)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!mf(r))throw new z(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let d,m,w,s=this._itHead,u=!1;if(Array.isArray(r)){this.length=r.length;for(let S=0;S<this.length;S++)m=r[S],w=this._trackByFn(S,m),null!==s&&Object.is(s.trackById,w)?(u&&(s=this._verifyReinsertion(s,m,w,S)),Object.is(s.item,m)||this._addIdentityChange(s,m)):(s=this._mismatch(s,m,w,S),u=!0),s=s._next}else d=0,function Ps(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[Fl()]();let u;for(;!(u=s.next()).done;)r(u.value)}}(r,S=>{w=this._trackByFn(d,S),null!==s&&Object.is(s.trackById,w)?(u&&(s=this._verifyReinsertion(s,S,w,d)),Object.is(s.item,S)||this._addIdentityChange(s,S)):(s=this._mismatch(s,S,w,d),u=!0),s=s._next,d++}),this.length=d;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,u,d){let m;return null===r?m=this._itTail:(m=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,m,d)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(u,d))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,m,d)):r=this._addAfter(new YI(s,u),m,d),r}_verifyReinsertion(r,s,u,d){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==m?r=this._reinsertAfter(m,r._prev,d):r.currentIndex!=d&&(r.currentIndex=d,this._addToMoves(r,d)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const d=r._prevRemoved,m=r._nextRemoved;return null===d?this._removalsHead=m:d._nextRemoved=m,null===m?this._removalsTail=d:m._prevRemoved=d,this._insertAfter(r,s,u),this._addToMoves(r,u),r}_moveAfter(r,s,u){return this._unlink(r),this._insertAfter(r,s,u),this._addToMoves(r,u),r}_addAfter(r,s,u){return this._insertAfter(r,s,u),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,u){const d=null===s?this._itHead:s._next;return r._next=d,r._prev=s,null===d?this._itTail=r:d._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new cb),this._linkedRecords.put(r),r.currentIndex=u,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,u=r._next;return null===s?this._itHead=u:s._next=u,null===u?this._itTail=s:u._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new cb),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class YI{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class KI{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===s||s<=u.currentIndex)&&Object.is(u.trackById,r))return u;return null}remove(r){const s=r._prevDup,u=r._nextDup;return null===s?this._head=u:s._nextDup=u,null===u?this._tail=s:u._prevDup=s,null===this._head}}class cb{constructor(){this.map=new Map}put(r){const s=r.trackById;let u=this.map.get(s);u||(u=new KI,this.map.set(s,u)),u.add(r)}get(r,s){const d=this.map.get(r);return d?d.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function db(n,r,s){const u=n.previousIndex;if(null===u)return u;let d=0;return s&&u<s.length&&(d=s[u]),u+r+d}class hb{constructor(){}supports(r){return r instanceof Map||yf(r)}create(){return new ZI}}class ZI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||yf(r)))throw new z(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(u,d)=>{if(s&&s.key===d)this._maybeAddToChanges(s,u),this._appendAfter=s,s=s._next;else{const m=this._getOrCreateRecordForKey(d,u);s=this._insertBeforeOrAppend(s,m)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let u=s;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const u=r._prev;return s._next=r,s._prev=u,r._prev=s,u&&(u._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const d=this._records.get(r);this._maybeAddToChanges(d,s);const m=d._prev,w=d._next;return m&&(m._next=w),w&&(w._prev=m),d._next=null,d._prev=null,d}const u=new XI(r);return this._records.set(r,u),u.currentValue=s,this._addToAdditions(u),u}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(u=>s(r[u],u))}}class XI{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fb(){return new G_([new lb])}let G_=(()=>{class n{constructor(s){this.factories=s}static create(s,u){if(null!=u){const d=u.factories.slice();s=s.concat(d)}return new n(s)}static extend(s){return{provide:n,useFactory:u=>n.create(s,u||fb()),deps:[[n,new dl,new Bu]]}}find(s){const u=this.factories.find(d=>d.supports(s));if(null!=u)return u;throw new z(901,!1)}}return n.\u0275prov=Jt({token:n,providedIn:"root",factory:fb}),n})();function pb(){return new z_([new hb])}let z_=(()=>{class n{constructor(s){this.factories=s}static create(s,u){if(u){const d=u.factories.slice();s=s.concat(d)}return new n(s)}static extend(s){return{provide:n,useFactory:u=>n.create(s,u||pb()),deps:[[n,new dl,new Bu]]}}find(s){const u=this.factories.find(d=>d.supports(s));if(u)return u;throw new z(901,!1)}}return n.\u0275prov=Jt({token:n,providedIn:"root",factory:pb}),n})();const eD=XE(null,"core",[]);let tD=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(ai(Ny))},n.\u0275mod=ar({type:n}),n.\u0275inj=Ht({}),n})();function nD(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},4719:(zt,st,k)=>{"use strict";k.d(st,{qu:()=>bs,u:()=>_s,sg:()=>Oi,u5:()=>fi,JU:()=>te,a5:()=>Dn,JJ:()=>Vt,JL:()=>or,F:()=>q,On:()=>$e,UX:()=>Gr,kI:()=>ot,_Y:()=>Ue});var l=k(5062),L=k(6895),U=k(2916),Ie=k(6688),be=k(4850),re=k(7830),ge=k(5254);function ae(h,a){return new U.y(f=>{const _=h.length;if(0===_)return void f.complete();const O=new Array(_);let ie=0,nt=0;for(let Rt=0;Rt<_;Rt++){const St=(0,ge.D)(h[Rt]);let mn=!1;f.add(St.subscribe({next:pn=>{mn||(mn=!0,nt++),O[Rt]=pn},error:pn=>f.error(pn),complete:()=>{ie++,(ie===_||!mn)&&(nt===_&&f.next(a?a.reduce((pn,On,br)=>(pn[On]=O[br],pn),{}):O),f.complete())}}))}})}let Q=(()=>{class h{constructor(f,_){this._renderer=f,this._elementRef=_,this.onChange=O=>{},this.onTouched=()=>{}}setProperty(f,_){this._renderer.setProperty(this._elementRef.nativeElement,f,_)}registerOnTouched(f){this.onTouched=f}registerOnChange(f){this.onChange=f}setDisabledState(f){this.setProperty("disabled",f)}}return h.\u0275fac=function(f){return new(f||h)(l.Y36(l.Qsj),l.Y36(l.SBq))},h.\u0275dir=l.lG2({type:h}),h})(),X=(()=>{class h extends Q{}return h.\u0275fac=function(){let a;return function(_){return(a||(a=l.n5z(h)))(_||h)}}(),h.\u0275dir=l.lG2({type:h,features:[l.qOj]}),h})();const te=new l.OlP("NgValueAccessor"),Ke={provide:te,useExisting:(0,l.Gpc)(()=>Se),multi:!0},le=new l.OlP("CompositionEventMode");let Se=(()=>{class h extends Q{constructor(f,_,O){super(f,_),this._compositionMode=O,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ue(){const h=(0,L.q)()?(0,L.q)().getUserAgent():"";return/android (\d+)/.test(h.toLowerCase())}())}writeValue(f){this.setProperty("value",f??"")}_handleInput(f){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(f)}_compositionStart(){this._composing=!0}_compositionEnd(f){this._composing=!1,this._compositionMode&&this.onChange(f)}}return h.\u0275fac=function(f){return new(f||h)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(le,8))},h.\u0275dir=l.lG2({type:h,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(f,_){1&f&&l.NdJ("input",function(ie){return _._handleInput(ie.target.value)})("blur",function(){return _.onTouched()})("compositionstart",function(){return _._compositionStart()})("compositionend",function(ie){return _._compositionEnd(ie.target.value)})},features:[l._Bn([Ke]),l.qOj]}),h})();function z(h){return null==h||("string"==typeof h||Array.isArray(h))&&0===h.length}function et(h){return null!=h&&"number"==typeof h.length}const Ge=new l.OlP("NgValidators"),lt=new l.OlP("NgAsyncValidators"),ke=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ot{static min(a){return function fe(h){return a=>{if(z(a.value)||z(h))return null;const f=parseFloat(a.value);return!isNaN(f)&&f<h?{min:{min:h,actual:a.value}}:null}}(a)}static max(a){return function _e(h){return a=>{if(z(a.value)||z(h))return null;const f=parseFloat(a.value);return!isNaN(f)&&f>h?{max:{max:h,actual:a.value}}:null}}(a)}static required(a){return function ce(h){return z(h.value)?{required:!0}:null}(a)}static requiredTrue(a){return function ee(h){return!0===h.value?null:{required:!0}}(a)}static email(a){return function se(h){return z(h.value)||ke.test(h.value)?null:{email:!0}}(a)}static minLength(a){return function Me(h){return a=>z(a.value)||!et(a.value)?null:a.value.length<h?{minlength:{requiredLength:h,actualLength:a.value.length}}:null}(a)}static maxLength(a){return function Ne(h){return a=>et(a.value)&&a.value.length>h?{maxlength:{requiredLength:h,actualLength:a.value.length}}:null}(a)}static pattern(a){return function mt(h){if(!h)return At;let a,f;return"string"==typeof h?(f="","^"!==h.charAt(0)&&(f+="^"),f+=h,"$"!==h.charAt(h.length-1)&&(f+="$"),a=new RegExp(f)):(f=h.toString(),a=h),_=>{if(z(_.value))return null;const O=_.value;return a.test(O)?null:{pattern:{requiredPattern:f,actualValue:O}}}}(a)}static nullValidator(a){return null}static compose(a){return at(a)}static composeAsync(a){return gt(a)}}function At(h){return null}function tt(h){return null!=h}function ct(h){return(0,l.QGY)(h)?(0,ge.D)(h):h}function We(h){let a={};return h.forEach(f=>{a=null!=f?{...a,...f}:a}),0===Object.keys(a).length?null:a}function De(h,a){return a.map(f=>f(h))}function me(h){return h.map(a=>function qe(h){return!h.validate}(a)?a:f=>a.validate(f))}function at(h){if(!h)return null;const a=h.filter(tt);return 0==a.length?null:function(f){return We(De(f,a))}}function Ct(h){return null!=h?at(me(h)):null}function gt(h){if(!h)return null;const a=h.filter(tt);return 0==a.length?null:function(f){return function we(...h){if(1===h.length){const a=h[0];if((0,Ie.k)(a))return ae(a,null);if((0,re.K)(a)&&Object.getPrototypeOf(a)===Object.prototype){const f=Object.keys(a);return ae(f.map(_=>a[_]),f)}}if("function"==typeof h[h.length-1]){const a=h.pop();return ae(h=1===h.length&&(0,Ie.k)(h[0])?h[0]:h,null).pipe((0,be.U)(f=>a(...f)))}return ae(h,null)}(De(f,a).map(ct)).pipe((0,be.U)(We))}}function kt(h){return null!=h?gt(me(h)):null}function tn(h,a){return null===h?[a]:Array.isArray(h)?[...h,a]:[h,a]}function Jt(h){return h._rawValidators}function xn(h){return h._rawAsyncValidators}function Ht(h){return h?Array.isArray(h)?h:[h]:[]}function _n(h,a){return Array.isArray(h)?h.includes(a):h===a}function Ar(h,a){const f=Ht(a);return Ht(h).forEach(O=>{_n(f,O)||f.push(O)}),f}function jn(h,a){return Ht(a).filter(f=>!_n(h,f))}class Qn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(a){this._rawValidators=a||[],this._composedValidatorFn=Ct(this._rawValidators)}_setAsyncValidators(a){this._rawAsyncValidators=a||[],this._composedAsyncValidatorFn=kt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(a){this._onDestroyCallbacks.push(a)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(a=>a()),this._onDestroyCallbacks=[]}reset(a){this.control&&this.control.reset(a)}hasError(a,f){return!!this.control&&this.control.hasError(a,f)}getError(a,f){return this.control?this.control.getError(a,f):null}}class gn extends Qn{get formDirective(){return null}get path(){return null}}class Dn extends Qn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class An{constructor(a){this._cd=a}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Vt=(()=>{class h extends An{constructor(f){super(f)}}return h.\u0275fac=function(f){return new(f||h)(l.Y36(Dn,2))},h.\u0275dir=l.lG2({type:h,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(f,_){2&f&&l.ekj("ng-untouched",_.isUntouched)("ng-touched",_.isTouched)("ng-pristine",_.isPristine)("ng-dirty",_.isDirty)("ng-valid",_.isValid)("ng-invalid",_.isInvalid)("ng-pending",_.isPending)},features:[l.qOj]}),h})(),or=(()=>{class h extends An{constructor(f){super(f)}}return h.\u0275fac=function(f){return new(f||h)(l.Y36(gn,10))},h.\u0275dir=l.lG2({type:h,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(f,_){2&f&&l.ekj("ng-untouched",_.isUntouched)("ng-touched",_.isTouched)("ng-pristine",_.isPristine)("ng-dirty",_.isDirty)("ng-valid",_.isValid)("ng-invalid",_.isInvalid)("ng-pending",_.isPending)("ng-submitted",_.isSubmitted)},features:[l.qOj]}),h})();const yt="VALID",Mt="INVALID",$t="PENDING",un="DISABLED";function Fn(h){return(ar(h)?h.validators:h)||null}function Ln(h){return Array.isArray(h)?Ct(h):h||null}function rn(h,a){return(ar(a)?a.asyncValidators:h)||null}function rr(h){return Array.isArray(h)?kt(h):h||null}function ar(h){return null!=h&&!Array.isArray(h)&&"object"==typeof h}function jr(h,a,f){const _=h.controls;if(!(a?Object.keys(_):_).length)throw new l.vHH(1e3,"");if(!_[f])throw new l.vHH(1001,"")}function gi(h,a,f){h._forEachChild((_,O)=>{if(void 0===f[O])throw new l.vHH(1002,"")})}class er{constructor(a,f){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=a,this._rawAsyncValidators=f,this._composedValidatorFn=Ln(this._rawValidators),this._composedAsyncValidatorFn=rr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(a){this._rawValidators=this._composedValidatorFn=a}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(a){this._rawAsyncValidators=this._composedAsyncValidatorFn=a}get parent(){return this._parent}get valid(){return this.status===yt}get invalid(){return this.status===Mt}get pending(){return this.status==$t}get disabled(){return this.status===un}get enabled(){return this.status!==un}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(a){this._rawValidators=a,this._composedValidatorFn=Ln(a)}setAsyncValidators(a){this._rawAsyncValidators=a,this._composedAsyncValidatorFn=rr(a)}addValidators(a){this.setValidators(Ar(a,this._rawValidators))}addAsyncValidators(a){this.setAsyncValidators(Ar(a,this._rawAsyncValidators))}removeValidators(a){this.setValidators(jn(a,this._rawValidators))}removeAsyncValidators(a){this.setAsyncValidators(jn(a,this._rawAsyncValidators))}hasValidator(a){return _n(this._rawValidators,a)}hasAsyncValidator(a){return _n(this._rawAsyncValidators,a)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(a={}){this.touched=!0,this._parent&&!a.onlySelf&&this._parent.markAsTouched(a)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(a=>a.markAllAsTouched())}markAsUntouched(a={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(f=>{f.markAsUntouched({onlySelf:!0})}),this._parent&&!a.onlySelf&&this._parent._updateTouched(a)}markAsDirty(a={}){this.pristine=!1,this._parent&&!a.onlySelf&&this._parent.markAsDirty(a)}markAsPristine(a={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(f=>{f.markAsPristine({onlySelf:!0})}),this._parent&&!a.onlySelf&&this._parent._updatePristine(a)}markAsPending(a={}){this.status=$t,!1!==a.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!a.onlySelf&&this._parent.markAsPending(a)}disable(a={}){const f=this._parentMarkedDirty(a.onlySelf);this.status=un,this.errors=null,this._forEachChild(_=>{_.disable({...a,onlySelf:!0})}),this._updateValue(),!1!==a.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...a,skipPristineCheck:f}),this._onDisabledChange.forEach(_=>_(!0))}enable(a={}){const f=this._parentMarkedDirty(a.onlySelf);this.status=yt,this._forEachChild(_=>{_.enable({...a,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:a.emitEvent}),this._updateAncestors({...a,skipPristineCheck:f}),this._onDisabledChange.forEach(_=>_(!1))}_updateAncestors(a){this._parent&&!a.onlySelf&&(this._parent.updateValueAndValidity(a),a.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(a){this._parent=a}getRawValue(){return this.value}updateValueAndValidity(a={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===yt||this.status===$t)&&this._runAsyncValidator(a.emitEvent)),!1!==a.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!a.onlySelf&&this._parent.updateValueAndValidity(a)}_updateTreeValidity(a={emitEvent:!0}){this._forEachChild(f=>f._updateTreeValidity(a)),this.updateValueAndValidity({onlySelf:!0,emitEvent:a.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?un:yt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(a){if(this.asyncValidator){this.status=$t,this._hasOwnPendingAsyncValidator=!0;const f=ct(this.asyncValidator(this));this._asyncValidationSubscription=f.subscribe(_=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(_,{emitEvent:a})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(a,f={}){this.errors=a,this._updateControlsErrors(!1!==f.emitEvent)}get(a){let f=a;return null==f||(Array.isArray(f)||(f=f.split(".")),0===f.length)?null:f.reduce((_,O)=>_&&_._find(O),this)}getError(a,f){const _=f?this.get(f):this;return _&&_.errors?_.errors[a]:null}hasError(a,f){return!!this.getError(a,f)}get root(){let a=this;for(;a._parent;)a=a._parent;return a}_updateControlsErrors(a){this.status=this._calculateStatus(),a&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(a)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?un:this.errors?Mt:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus($t)?$t:this._anyControlsHaveStatus(Mt)?Mt:yt}_anyControlsHaveStatus(a){return this._anyControls(f=>f.status===a)}_anyControlsDirty(){return this._anyControls(a=>a.dirty)}_anyControlsTouched(){return this._anyControls(a=>a.touched)}_updatePristine(a={}){this.pristine=!this._anyControlsDirty(),this._parent&&!a.onlySelf&&this._parent._updatePristine(a)}_updateTouched(a={}){this.touched=this._anyControlsTouched(),this._parent&&!a.onlySelf&&this._parent._updateTouched(a)}_registerOnCollectionChange(a){this._onCollectionChange=a}_setUpdateStrategy(a){ar(a)&&null!=a.updateOn&&(this._updateOn=a.updateOn)}_parentMarkedDirty(a){return!a&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(a){return null}}class xr extends er{constructor(a,f,_){super(Fn(f),rn(_,f)),this.controls=a,this._initObservables(),this._setUpdateStrategy(f),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(a,f){return this.controls[a]?this.controls[a]:(this.controls[a]=f,f.setParent(this),f._registerOnCollectionChange(this._onCollectionChange),f)}addControl(a,f,_={}){this.registerControl(a,f),this.updateValueAndValidity({emitEvent:_.emitEvent}),this._onCollectionChange()}removeControl(a,f={}){this.controls[a]&&this.controls[a]._registerOnCollectionChange(()=>{}),delete this.controls[a],this.updateValueAndValidity({emitEvent:f.emitEvent}),this._onCollectionChange()}setControl(a,f,_={}){this.controls[a]&&this.controls[a]._registerOnCollectionChange(()=>{}),delete this.controls[a],f&&this.registerControl(a,f),this.updateValueAndValidity({emitEvent:_.emitEvent}),this._onCollectionChange()}contains(a){return this.controls.hasOwnProperty(a)&&this.controls[a].enabled}setValue(a,f={}){gi(this,0,a),Object.keys(a).forEach(_=>{jr(this,!0,_),this.controls[_].setValue(a[_],{onlySelf:!0,emitEvent:f.emitEvent})}),this.updateValueAndValidity(f)}patchValue(a,f={}){null!=a&&(Object.keys(a).forEach(_=>{const O=this.controls[_];O&&O.patchValue(a[_],{onlySelf:!0,emitEvent:f.emitEvent})}),this.updateValueAndValidity(f))}reset(a={},f={}){this._forEachChild((_,O)=>{_.reset(a[O],{onlySelf:!0,emitEvent:f.emitEvent})}),this._updatePristine(f),this._updateTouched(f),this.updateValueAndValidity(f)}getRawValue(){return this._reduceChildren({},(a,f,_)=>(a[_]=f.getRawValue(),a))}_syncPendingControls(){let a=this._reduceChildren(!1,(f,_)=>!!_._syncPendingControls()||f);return a&&this.updateValueAndValidity({onlySelf:!0}),a}_forEachChild(a){Object.keys(this.controls).forEach(f=>{const _=this.controls[f];_&&a(_,f)})}_setUpControls(){this._forEachChild(a=>{a.setParent(this),a._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(a){for(const[f,_]of Object.entries(this.controls))if(this.contains(f)&&a(_))return!0;return!1}_reduceValue(){return this._reduceChildren({},(f,_,O)=>((_.enabled||this.disabled)&&(f[O]=_.value),f))}_reduceChildren(a,f){let _=a;return this._forEachChild((O,ie)=>{_=f(_,O,ie)}),_}_allControlsDisabled(){for(const a of Object.keys(this.controls))if(this.controls[a].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(a){return this.controls.hasOwnProperty(a)?this.controls[a]:null}}function ve(h,a){return[...a.path,h]}function Pe(h,a){Sn(h,a),a.valueAccessor.writeValue(h.value),h.disabled&&a.valueAccessor.setDisabledState?.(!0),function Zt(h,a){a.valueAccessor.registerOnChange(f=>{h._pendingValue=f,h._pendingChange=!0,h._pendingDirty=!0,"change"===h.updateOn&&Dr(h,a)})}(h,a),function Tr(h,a){const f=(_,O)=>{a.valueAccessor.writeValue(_),O&&a.viewToModelUpdate(_)};h.registerOnChange(f),a._registerOnDestroy(()=>{h._unregisterOnChange(f)})}(h,a),function an(h,a){a.valueAccessor.registerOnTouched(()=>{h._pendingTouched=!0,"blur"===h.updateOn&&h._pendingChange&&Dr(h,a),"submit"!==h.updateOn&&h.markAsTouched()})}(h,a),function hn(h,a){if(a.valueAccessor.setDisabledState){const f=_=>{a.valueAccessor.setDisabledState(_)};h.registerOnDisabledChange(f),a._registerOnDestroy(()=>{h._unregisterOnDisabledChange(f)})}}(h,a)}function ft(h,a,f=!0){const _=()=>{};a.valueAccessor&&(a.valueAccessor.registerOnChange(_),a.valueAccessor.registerOnTouched(_)),Tn(h,a),h&&(a._invokeOnDestroyCallbacks(),h._registerOnCollectionChange(()=>{}))}function Wt(h,a){h.forEach(f=>{f.registerOnValidatorChange&&f.registerOnValidatorChange(a)})}function Sn(h,a){const f=Jt(h);null!==a.validator?h.setValidators(tn(f,a.validator)):"function"==typeof f&&h.setValidators([f]);const _=xn(h);null!==a.asyncValidator?h.setAsyncValidators(tn(_,a.asyncValidator)):"function"==typeof _&&h.setAsyncValidators([_]);const O=()=>h.updateValueAndValidity();Wt(a._rawValidators,O),Wt(a._rawAsyncValidators,O)}function Tn(h,a){let f=!1;if(null!==h){if(null!==a.validator){const O=Jt(h);if(Array.isArray(O)&&O.length>0){const ie=O.filter(nt=>nt!==a.validator);ie.length!==O.length&&(f=!0,h.setValidators(ie))}}if(null!==a.asyncValidator){const O=xn(h);if(Array.isArray(O)&&O.length>0){const ie=O.filter(nt=>nt!==a.asyncValidator);ie.length!==O.length&&(f=!0,h.setAsyncValidators(ie))}}}const _=()=>{};return Wt(a._rawValidators,_),Wt(a._rawAsyncValidators,_),f}function Dr(h,a){h._pendingDirty&&h.markAsDirty(),h.setValue(h._pendingValue,{emitModelToViewChange:!1}),a.viewToModelUpdate(h._pendingValue),h._pendingChange=!1}function vn(h,a){Sn(h,a)}function qr(h,a){if(!h.hasOwnProperty("model"))return!1;const f=h.model;return!!f.isFirstChange()||!Object.is(a,f.currentValue)}function Mr(h,a){h._syncPendingControls(),a.forEach(f=>{const _=f.control;"submit"===_.updateOn&&_._pendingChange&&(f.viewToModelUpdate(_._pendingValue),_._pendingChange=!1)})}function Nr(h,a){if(!a)return null;let f,_,O;return Array.isArray(a),a.forEach(ie=>{ie.constructor===Se?f=ie:function ni(h){return Object.getPrototypeOf(h.constructor)===X}(ie)?_=ie:O=ie}),O||_||f||null}const Ii={provide:gn,useExisting:(0,l.Gpc)(()=>q)},Yr=(()=>Promise.resolve(null))();let q=(()=>{class h extends gn{constructor(f,_){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new xr({},Ct(f),kt(_))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(f){Yr.then(()=>{const _=this._findContainer(f.path);f.control=_.registerControl(f.name,f.control),Pe(f.control,f),f.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(f)})}getControl(f){return this.form.get(f.path)}removeControl(f){Yr.then(()=>{const _=this._findContainer(f.path);_&&_.removeControl(f.name),this._directives.delete(f)})}addFormGroup(f){Yr.then(()=>{const _=this._findContainer(f.path),O=new xr({});vn(O,f),_.registerControl(f.name,O),O.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(f){Yr.then(()=>{const _=this._findContainer(f.path);_&&_.removeControl(f.name)})}getFormGroup(f){return this.form.get(f.path)}updateModel(f,_){Yr.then(()=>{this.form.get(f.path).setValue(_)})}setValue(f){this.control.setValue(f)}onSubmit(f){return this.submitted=!0,Mr(this.form,this._directives),this.ngSubmit.emit(f),!1}onReset(){this.resetForm()}resetForm(f){this.form.reset(f),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(f){return f.pop(),f.length?this.form.get(f):this.form}}return h.\u0275fac=function(f){return new(f||h)(l.Y36(Ge,10),l.Y36(lt,10))},h.\u0275dir=l.lG2({type:h,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(f,_){1&f&&l.NdJ("submit",function(ie){return _.onSubmit(ie)})("reset",function(){return _.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([Ii]),l.qOj]}),h})();function de(h,a){const f=h.indexOf(a);f>-1&&h.splice(f,1)}function Ve(h){return"object"==typeof h&&null!==h&&2===Object.keys(h).length&&"value"in h&&"disabled"in h}const Xe=class extends er{constructor(a=null,f,_){super(Fn(f),rn(_,f)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(a),this._setUpdateStrategy(f),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ar(f)&&(f.nonNullable||f.initialValueIsDefault)&&(this.defaultValue=Ve(a)?a.value:a)}setValue(a,f={}){this.value=this._pendingValue=a,this._onChange.length&&!1!==f.emitModelToViewChange&&this._onChange.forEach(_=>_(this.value,!1!==f.emitViewToModelChange)),this.updateValueAndValidity(f)}patchValue(a,f={}){this.setValue(a,f)}reset(a=this.defaultValue,f={}){this._applyFormState(a),this.markAsPristine(f),this.markAsUntouched(f),this.setValue(this.value,f),this._pendingChange=!1}_updateValue(){}_anyControls(a){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(a){this._onChange.push(a)}_unregisterOnChange(a){de(this._onChange,a)}registerOnDisabledChange(a){this._onDisabledChange.push(a)}_unregisterOnDisabledChange(a){de(this._onDisabledChange,a)}_forEachChild(a){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(a){Ve(a)?(this.value=this._pendingValue=a.value,a.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=a}},yr={provide:Dn,useExisting:(0,l.Gpc)(()=>$e)},Or=(()=>Promise.resolve(null))();let $e=(()=>{class h extends Dn{constructor(f,_,O,ie,nt){super(),this._changeDetectorRef=nt,this.control=new Xe,this._registered=!1,this.update=new l.vpe,this._parent=f,this._setValidators(_),this._setAsyncValidators(O),this.valueAccessor=Nr(0,ie)}ngOnChanges(f){if(this._checkForErrors(),!this._registered||"name"in f){if(this._registered&&(this._checkName(),this.formDirective)){const _=f.name.previousValue;this.formDirective.removeControl({name:_,path:this._getPath(_)})}this._setUpControl()}"isDisabled"in f&&this._updateDisabled(f),qr(f,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(f){this.viewModel=f,this.update.emit(f)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Pe(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(f){Or.then(()=>{this.control.setValue(f,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(f){const _=f.isDisabled.currentValue,O=0!==_&&(0,l.D6c)(_);Or.then(()=>{O&&!this.control.disabled?this.control.disable():!O&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(f){return this._parent?ve(f,this._parent):[f]}}return h.\u0275fac=function(f){return new(f||h)(l.Y36(gn,9),l.Y36(Ge,10),l.Y36(lt,10),l.Y36(te,10),l.Y36(l.sBO,8))},h.\u0275dir=l.lG2({type:h,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([yr]),l.qOj,l.TTD]}),h})(),Ue=(()=>{class h{}return h.\u0275fac=function(f){return new(f||h)},h.\u0275dir=l.lG2({type:h,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),h})(),ur=(()=>{class h{}return h.\u0275fac=function(f){return new(f||h)},h.\u0275mod=l.oAB({type:h}),h.\u0275inj=l.cJS({}),h})();const yi=new l.OlP("NgModelWithFormControlWarning"),Fs={provide:gn,useExisting:(0,l.Gpc)(()=>Oi)};let Oi=(()=>{class h extends gn{constructor(f,_){super(),this.validators=f,this.asyncValidators=_,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(f),this._setAsyncValidators(_)}ngOnChanges(f){this._checkFormPresent(),f.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Tn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(f){const _=this.form.get(f.path);return Pe(_,f),_.updateValueAndValidity({emitEvent:!1}),this.directives.push(f),_}getControl(f){return this.form.get(f.path)}removeControl(f){ft(f.control||null,f,!1),function Zr(h,a){const f=h.indexOf(a);f>-1&&h.splice(f,1)}(this.directives,f)}addFormGroup(f){this._setUpFormContainer(f)}removeFormGroup(f){this._cleanUpFormContainer(f)}getFormGroup(f){return this.form.get(f.path)}addFormArray(f){this._setUpFormContainer(f)}removeFormArray(f){this._cleanUpFormContainer(f)}getFormArray(f){return this.form.get(f.path)}updateModel(f,_){this.form.get(f.path).setValue(_)}onSubmit(f){return this.submitted=!0,Mr(this.form,this.directives),this.ngSubmit.emit(f),!1}onReset(){this.resetForm()}resetForm(f){this.form.reset(f),this.submitted=!1}_updateDomValue(){this.directives.forEach(f=>{const _=f.control,O=this.form.get(f.path);_!==O&&(ft(_||null,f),(h=>h instanceof Xe)(O)&&(Pe(O,f),f.control=O))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(f){const _=this.form.get(f.path);vn(_,f),_.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(f){if(this.form){const _=this.form.get(f.path);_&&function Rr(h,a){return Tn(h,a)}(_,f)&&_.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Sn(this.form,this),this._oldForm&&Tn(this._oldForm,this)}_checkFormPresent(){}}return h.\u0275fac=function(f){return new(f||h)(l.Y36(Ge,10),l.Y36(lt,10))},h.\u0275dir=l.lG2({type:h,selectors:[["","formGroup",""]],hostBindings:function(f,_){1&f&&l.NdJ("submit",function(ie){return _.onSubmit(ie)})("reset",function(){return _.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([Fs]),l.qOj,l.TTD]}),h})();const vi={provide:Dn,useExisting:(0,l.Gpc)(()=>_s)};let _s=(()=>{class h extends Dn{constructor(f,_,O,ie,nt){super(),this._ngModelWarningConfig=nt,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=f,this._setValidators(_),this._setAsyncValidators(O),this.valueAccessor=Nr(0,ie)}set isDisabled(f){}ngOnChanges(f){this._added||this._setUpControl(),qr(f,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(f){this.viewModel=f,this.update.emit(f)}get path(){return ve(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return h._ngModelWarningSentOnce=!1,h.\u0275fac=function(f){return new(f||h)(l.Y36(gn,13),l.Y36(Ge,10),l.Y36(lt,10),l.Y36(te,10),l.Y36(yi,8))},h.\u0275dir=l.lG2({type:h,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([vi]),l.qOj,l.TTD]}),h})(),Xr=(()=>{class h{}return h.\u0275fac=function(f){return new(f||h)},h.\u0275mod=l.oAB({type:h}),h.\u0275inj=l.cJS({imports:[ur]}),h})(),fi=(()=>{class h{}return h.\u0275fac=function(f){return new(f||h)},h.\u0275mod=l.oAB({type:h}),h.\u0275inj=l.cJS({imports:[Xr]}),h})(),Gr=(()=>{class h{static withConfig(f){return{ngModule:h,providers:[{provide:yi,useValue:f.warnOnNgModelWithFormControl}]}}}return h.\u0275fac=function(f){return new(f||h)},h.\u0275mod=l.oAB({type:h}),h.\u0275inj=l.cJS({imports:[Xr]}),h})();class Ai extends er{constructor(a,f,_){super(Fn(f),rn(_,f)),this.controls=a,this._initObservables(),this._setUpdateStrategy(f),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(a){return this.controls[this._adjustIndex(a)]}push(a,f={}){this.controls.push(a),this._registerControl(a),this.updateValueAndValidity({emitEvent:f.emitEvent}),this._onCollectionChange()}insert(a,f,_={}){this.controls.splice(a,0,f),this._registerControl(f),this.updateValueAndValidity({emitEvent:_.emitEvent})}removeAt(a,f={}){let _=this._adjustIndex(a);_<0&&(_=0),this.controls[_]&&this.controls[_]._registerOnCollectionChange(()=>{}),this.controls.splice(_,1),this.updateValueAndValidity({emitEvent:f.emitEvent})}setControl(a,f,_={}){let O=this._adjustIndex(a);O<0&&(O=0),this.controls[O]&&this.controls[O]._registerOnCollectionChange(()=>{}),this.controls.splice(O,1),f&&(this.controls.splice(O,0,f),this._registerControl(f)),this.updateValueAndValidity({emitEvent:_.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(a,f={}){gi(this,0,a),a.forEach((_,O)=>{jr(this,!1,O),this.at(O).setValue(_,{onlySelf:!0,emitEvent:f.emitEvent})}),this.updateValueAndValidity(f)}patchValue(a,f={}){null!=a&&(a.forEach((_,O)=>{this.at(O)&&this.at(O).patchValue(_,{onlySelf:!0,emitEvent:f.emitEvent})}),this.updateValueAndValidity(f))}reset(a=[],f={}){this._forEachChild((_,O)=>{_.reset(a[O],{onlySelf:!0,emitEvent:f.emitEvent})}),this._updatePristine(f),this._updateTouched(f),this.updateValueAndValidity(f)}getRawValue(){return this.controls.map(a=>a.getRawValue())}clear(a={}){this.controls.length<1||(this._forEachChild(f=>f._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:a.emitEvent}))}_adjustIndex(a){return a<0?a+this.length:a}_syncPendingControls(){let a=this.controls.reduce((f,_)=>!!_._syncPendingControls()||f,!1);return a&&this.updateValueAndValidity({onlySelf:!0}),a}_forEachChild(a){this.controls.forEach((f,_)=>{a(f,_)})}_updateValue(){this.value=this.controls.filter(a=>a.enabled||this.disabled).map(a=>a.value)}_anyControls(a){return this.controls.some(f=>f.enabled&&a(f))}_setUpControls(){this._forEachChild(a=>this._registerControl(a))}_allControlsDisabled(){for(const a of this.controls)if(a.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(a){a.setParent(this),a._registerOnCollectionChange(this._onCollectionChange)}_find(a){return this.at(a)??null}}function Cn(h){return!!h&&(void 0!==h.asyncValidators||void 0!==h.validators||void 0!==h.updateOn)}let bs=(()=>{class h{constructor(){this.useNonNullable=!1}get nonNullable(){const f=new h;return f.useNonNullable=!0,f}group(f,_=null){const O=this._reduceControls(f);let Rt,ie=null,nt=null;return null!==_&&(Cn(_)?(ie=null!=_.validators?_.validators:null,nt=null!=_.asyncValidators?_.asyncValidators:null,Rt=null!=_.updateOn?_.updateOn:void 0):(ie=null!=_.validator?_.validator:null,nt=null!=_.asyncValidator?_.asyncValidator:null)),new xr(O,{asyncValidators:nt,updateOn:Rt,validators:ie})}control(f,_,O){let ie={};return this.useNonNullable?(Cn(_)?ie=_:(ie.validators=_,ie.asyncValidators=O),new Xe(f,{...ie,nonNullable:!0})):new Xe(f,_,O)}array(f,_,O){const ie=f.map(nt=>this._createControl(nt));return new Ai(ie,_,O)}_reduceControls(f){const _={};return Object.keys(f).forEach(O=>{_[O]=this._createControl(f[O])}),_}_createControl(f){return f instanceof Xe||f instanceof er?f:Array.isArray(f)?this.control(f[0],f.length>1?f[1]:null,f.length>2?f[2]:null):this.control(f)}}return h.\u0275fac=function(f){return new(f||h)},h.\u0275prov=l.Yz7({token:h,factory:h.\u0275fac,providedIn:Gr}),h})()},1481:(zt,st,k)=>{"use strict";k.d(st,{Dx:()=>Bt,b2:()=>Vn,q6:()=>gn});var l=k(6895),L=k(5062);class U extends l.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ie extends U{static makeCurrent(){(0,l.HT)(new Ie)}onAndCancel(Oe,ve,Pe){return Oe.addEventListener(ve,Pe,!1),()=>{Oe.removeEventListener(ve,Pe,!1)}}dispatchEvent(Oe,ve){Oe.dispatchEvent(ve)}remove(Oe){Oe.parentNode&&Oe.parentNode.removeChild(Oe)}createElement(Oe,ve){return(ve=ve||this.getDefaultDocument()).createElement(Oe)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(Oe){return Oe.nodeType===Node.ELEMENT_NODE}isShadowRoot(Oe){return Oe instanceof DocumentFragment}getGlobalEventTarget(Oe,ve){return"window"===ve?window:"document"===ve?Oe:"body"===ve?Oe.body:null}getBaseHref(Oe){const ve=function re(){return be=be||document.querySelector("base"),be?be.getAttribute("href"):null}();return null==ve?null:function we(it){ge=ge||document.createElement("a"),ge.setAttribute("href",it);const Oe=ge.pathname;return"/"===Oe.charAt(0)?Oe:`/${Oe}`}(ve)}resetBaseElement(){be=null}getUserAgent(){return window.navigator.userAgent}getCookie(Oe){return(0,l.Mx)(document.cookie,Oe)}}let ge,be=null;const ae=new L.OlP("TRANSITION_ID"),X=[{provide:L.ip1,useFactory:function Q(it,Oe,ve){return()=>{ve.get(L.CZH).donePromise.then(()=>{const Pe=(0,l.q)(),ft=Oe.querySelectorAll(`style[ng-transition="${it}"]`);for(let Wt=0;Wt<ft.length;Wt++)Pe.remove(ft[Wt])})}},deps:[ae,l.K0,L.zs3],multi:!0}];let G=(()=>{class it{build(){return new XMLHttpRequest}}return it.\u0275fac=function(ve){return new(ve||it)},it.\u0275prov=L.Yz7({token:it,factory:it.\u0275fac}),it})();const Re=new L.OlP("EventManagerPlugins");let Ke=(()=>{class it{constructor(ve,Pe){this._zone=Pe,this._eventNameToPlugin=new Map,ve.forEach(ft=>ft.manager=this),this._plugins=ve.slice().reverse()}addEventListener(ve,Pe,ft){return this._findPluginFor(Pe).addEventListener(ve,Pe,ft)}addGlobalEventListener(ve,Pe,ft){return this._findPluginFor(Pe).addGlobalEventListener(ve,Pe,ft)}getZone(){return this._zone}_findPluginFor(ve){const Pe=this._eventNameToPlugin.get(ve);if(Pe)return Pe;const ft=this._plugins;for(let Wt=0;Wt<ft.length;Wt++){const hn=ft[Wt];if(hn.supports(ve))return this._eventNameToPlugin.set(ve,hn),hn}throw new Error(`No event manager plugin found for event ${ve}`)}}return it.\u0275fac=function(ve){return new(ve||it)(L.LFG(Re),L.LFG(L.R0b))},it.\u0275prov=L.Yz7({token:it,factory:it.\u0275fac}),it})();class ue{constructor(Oe){this._doc=Oe}addGlobalEventListener(Oe,ve,Pe){const ft=(0,l.q)().getGlobalEventTarget(this._doc,Oe);if(!ft)throw new Error(`Unsupported event target ${ft} for event ${ve}`);return this.addEventListener(ft,ve,Pe)}}let le=(()=>{class it{constructor(){this._stylesSet=new Set}addStyles(ve){const Pe=new Set;ve.forEach(ft=>{this._stylesSet.has(ft)||(this._stylesSet.add(ft),Pe.add(ft))}),this.onStylesAdded(Pe)}onStylesAdded(ve){}getAllStyles(){return Array.from(this._stylesSet)}}return it.\u0275fac=function(ve){return new(ve||it)},it.\u0275prov=L.Yz7({token:it,factory:it.\u0275fac}),it})(),Se=(()=>{class it extends le{constructor(ve){super(),this._doc=ve,this._hostNodes=new Map,this._hostNodes.set(ve.head,[])}_addStylesToHost(ve,Pe,ft){ve.forEach(Wt=>{const hn=this._doc.createElement("style");hn.textContent=Wt,ft.push(Pe.appendChild(hn))})}addHost(ve){const Pe=[];this._addStylesToHost(this._stylesSet,ve,Pe),this._hostNodes.set(ve,Pe)}removeHost(ve){const Pe=this._hostNodes.get(ve);Pe&&Pe.forEach(Ae),this._hostNodes.delete(ve)}onStylesAdded(ve){this._hostNodes.forEach((Pe,ft)=>{this._addStylesToHost(ve,ft,Pe)})}ngOnDestroy(){this._hostNodes.forEach(ve=>ve.forEach(Ae))}}return it.\u0275fac=function(ve){return new(ve||it)(L.LFG(l.K0))},it.\u0275prov=L.Yz7({token:it,factory:it.\u0275fac}),it})();function Ae(it){(0,l.q)().remove(it)}const z={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},et=/%COMP%/g;function ce(it,Oe,ve){for(let Pe=0;Pe<Oe.length;Pe++){let ft=Oe[Pe];Array.isArray(ft)?ce(it,ft,ve):(ft=ft.replace(et,it),ve.push(ft))}return ve}function ee(it){return Oe=>{if("__ngUnwrap__"===Oe)return it;!1===it(Oe)&&(Oe.preventDefault(),Oe.returnValue=!1)}}let Me=(()=>{class it{constructor(ve,Pe,ft){this.eventManager=ve,this.sharedStylesHost=Pe,this.appId=ft,this.rendererByCompId=new Map,this.defaultRenderer=new Ne(ve)}createRenderer(ve,Pe){if(!ve||!Pe)return this.defaultRenderer;switch(Pe.encapsulation){case L.ifc.Emulated:{let ft=this.rendererByCompId.get(Pe.id);return ft||(ft=new ct(this.eventManager,this.sharedStylesHost,Pe,this.appId),this.rendererByCompId.set(Pe.id,ft)),ft.applyToHost(ve),ft}case 1:case L.ifc.ShadowDom:return new We(this.eventManager,this.sharedStylesHost,ve,Pe);default:if(!this.rendererByCompId.has(Pe.id)){const ft=ce(Pe.id,Pe.styles,[]);this.sharedStylesHost.addStyles(ft),this.rendererByCompId.set(Pe.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return it.\u0275fac=function(ve){return new(ve||it)(L.LFG(Ke),L.LFG(Se),L.LFG(L.AFp))},it.\u0275prov=L.Yz7({token:it,factory:it.\u0275fac}),it})();class Ne{constructor(Oe){this.eventManager=Oe,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(Oe,ve){return ve?document.createElementNS(z[ve]||ve,Oe):document.createElement(Oe)}createComment(Oe){return document.createComment(Oe)}createText(Oe){return document.createTextNode(Oe)}appendChild(Oe,ve){(tt(Oe)?Oe.content:Oe).appendChild(ve)}insertBefore(Oe,ve,Pe){Oe&&(tt(Oe)?Oe.content:Oe).insertBefore(ve,Pe)}removeChild(Oe,ve){Oe&&Oe.removeChild(ve)}selectRootElement(Oe,ve){let Pe="string"==typeof Oe?document.querySelector(Oe):Oe;if(!Pe)throw new Error(`The selector "${Oe}" did not match any elements`);return ve||(Pe.textContent=""),Pe}parentNode(Oe){return Oe.parentNode}nextSibling(Oe){return Oe.nextSibling}setAttribute(Oe,ve,Pe,ft){if(ft){ve=ft+":"+ve;const Wt=z[ft];Wt?Oe.setAttributeNS(Wt,ve,Pe):Oe.setAttribute(ve,Pe)}else Oe.setAttribute(ve,Pe)}removeAttribute(Oe,ve,Pe){if(Pe){const ft=z[Pe];ft?Oe.removeAttributeNS(ft,ve):Oe.removeAttribute(`${Pe}:${ve}`)}else Oe.removeAttribute(ve)}addClass(Oe,ve){Oe.classList.add(ve)}removeClass(Oe,ve){Oe.classList.remove(ve)}setStyle(Oe,ve,Pe,ft){ft&(L.JOm.DashCase|L.JOm.Important)?Oe.style.setProperty(ve,Pe,ft&L.JOm.Important?"important":""):Oe.style[ve]=Pe}removeStyle(Oe,ve,Pe){Pe&L.JOm.DashCase?Oe.style.removeProperty(ve):Oe.style[ve]=""}setProperty(Oe,ve,Pe){Oe[ve]=Pe}setValue(Oe,ve){Oe.nodeValue=ve}listen(Oe,ve,Pe){return"string"==typeof Oe?this.eventManager.addGlobalEventListener(Oe,ve,ee(Pe)):this.eventManager.addEventListener(Oe,ve,ee(Pe))}}function tt(it){return"TEMPLATE"===it.tagName&&void 0!==it.content}class ct extends Ne{constructor(Oe,ve,Pe,ft){super(Oe),this.component=Pe;const Wt=ce(ft+"-"+Pe.id,Pe.styles,[]);ve.addStyles(Wt),this.contentAttr=function fe(it){return"_ngcontent-%COMP%".replace(et,it)}(ft+"-"+Pe.id),this.hostAttr=function _e(it){return"_nghost-%COMP%".replace(et,it)}(ft+"-"+Pe.id)}applyToHost(Oe){super.setAttribute(Oe,this.hostAttr,"")}createElement(Oe,ve){const Pe=super.createElement(Oe,ve);return super.setAttribute(Pe,this.contentAttr,""),Pe}}class We extends Ne{constructor(Oe,ve,Pe,ft){super(Oe),this.sharedStylesHost=ve,this.hostEl=Pe,this.shadowRoot=Pe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const Wt=ce(ft.id,ft.styles,[]);for(let hn=0;hn<Wt.length;hn++){const Sn=document.createElement("style");Sn.textContent=Wt[hn],this.shadowRoot.appendChild(Sn)}}nodeOrShadowRoot(Oe){return Oe===this.hostEl?this.shadowRoot:Oe}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(Oe,ve){return super.appendChild(this.nodeOrShadowRoot(Oe),ve)}insertBefore(Oe,ve,Pe){return super.insertBefore(this.nodeOrShadowRoot(Oe),ve,Pe)}removeChild(Oe,ve){return super.removeChild(this.nodeOrShadowRoot(Oe),ve)}parentNode(Oe){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(Oe)))}}let De=(()=>{class it extends ue{constructor(ve){super(ve)}supports(ve){return!0}addEventListener(ve,Pe,ft){return ve.addEventListener(Pe,ft,!1),()=>this.removeEventListener(ve,Pe,ft)}removeEventListener(ve,Pe,ft){return ve.removeEventListener(Pe,ft)}}return it.\u0275fac=function(ve){return new(ve||it)(L.LFG(l.K0))},it.\u0275prov=L.Yz7({token:it,factory:it.\u0275fac}),it})();const qe=["alt","control","meta","shift"],at={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ct={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},gt={alt:it=>it.altKey,control:it=>it.ctrlKey,meta:it=>it.metaKey,shift:it=>it.shiftKey};let kt=(()=>{class it extends ue{constructor(ve){super(ve)}supports(ve){return null!=it.parseEventName(ve)}addEventListener(ve,Pe,ft){const Wt=it.parseEventName(Pe),hn=it.eventCallback(Wt.fullKey,ft,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,l.q)().onAndCancel(ve,Wt.domEventName,hn))}static parseEventName(ve){const Pe=ve.toLowerCase().split("."),ft=Pe.shift();if(0===Pe.length||"keydown"!==ft&&"keyup"!==ft)return null;const Wt=it._normalizeKey(Pe.pop());let hn="";if(qe.forEach(Tn=>{const Zt=Pe.indexOf(Tn);Zt>-1&&(Pe.splice(Zt,1),hn+=Tn+".")}),hn+=Wt,0!=Pe.length||0===Wt.length)return null;const Sn={};return Sn.domEventName=ft,Sn.fullKey=hn,Sn}static getEventFullKey(ve){let Pe="",ft=function tn(it){let Oe=it.key;if(null==Oe){if(Oe=it.keyIdentifier,null==Oe)return"Unidentified";Oe.startsWith("U+")&&(Oe=String.fromCharCode(parseInt(Oe.substring(2),16)),3===it.location&&Ct.hasOwnProperty(Oe)&&(Oe=Ct[Oe]))}return at[Oe]||Oe}(ve);return ft=ft.toLowerCase()," "===ft?ft="space":"."===ft&&(ft="dot"),qe.forEach(Wt=>{Wt!=ft&&gt[Wt](ve)&&(Pe+=Wt+".")}),Pe+=ft,Pe}static eventCallback(ve,Pe,ft){return Wt=>{it.getEventFullKey(Wt)===ve&&ft.runGuarded(()=>Pe(Wt))}}static _normalizeKey(ve){return"esc"===ve?"escape":ve}}return it.\u0275fac=function(ve){return new(ve||it)(L.LFG(l.K0))},it.\u0275prov=L.Yz7({token:it,factory:it.\u0275fac}),it})();const gn=(0,L.eFA)(L._c5,"browser",[{provide:L.Lbi,useValue:l.bD},{provide:L.g9A,useValue:function _n(){Ie.makeCurrent()},multi:!0},{provide:l.K0,useFactory:function jn(){return(0,L.RDi)(document),document},deps:[]}]),Dn=new L.OlP(""),An=[{provide:L.rWj,useClass:class te{addToWindow(Oe){L.dqk.getAngularTestability=(Pe,ft=!0)=>{const Wt=Oe.findTestabilityInTree(Pe,ft);if(null==Wt)throw new Error("Could not find testability for element.");return Wt},L.dqk.getAllAngularTestabilities=()=>Oe.getAllTestabilities(),L.dqk.getAllAngularRootElements=()=>Oe.getAllRootElements(),L.dqk.frameworkStabilizers||(L.dqk.frameworkStabilizers=[]),L.dqk.frameworkStabilizers.push(Pe=>{const ft=L.dqk.getAllAngularTestabilities();let Wt=ft.length,hn=!1;const Sn=function(Tn){hn=hn||Tn,Wt--,0==Wt&&Pe(hn)};ft.forEach(function(Tn){Tn.whenStable(Sn)})})}findTestabilityInTree(Oe,ve,Pe){return null==ve?null:Oe.getTestability(ve)??(Pe?(0,l.q)().isShadowRoot(ve)?this.findTestabilityInTree(Oe,ve.host,!0):this.findTestabilityInTree(Oe,ve.parentElement,!0):null)}},deps:[]},{provide:L.lri,useClass:L.dDg,deps:[L.R0b,L.eoX,L.rWj]},{provide:L.dDg,useClass:L.dDg,deps:[L.R0b,L.eoX,L.rWj]}],zn=[{provide:L.zSh,useValue:"root"},{provide:L.qLn,useFactory:function Ar(){return new L.qLn},deps:[]},{provide:Re,useClass:De,multi:!0,deps:[l.K0,L.R0b,L.Lbi]},{provide:Re,useClass:kt,multi:!0,deps:[l.K0]},{provide:Me,useClass:Me,deps:[Ke,Se,L.AFp]},{provide:L.FYo,useExisting:Me},{provide:le,useExisting:Se},{provide:Se,useClass:Se,deps:[l.K0]},{provide:Ke,useClass:Ke,deps:[Re,L.R0b]},{provide:l.JF,useClass:G,deps:[]},[]];let Vn=(()=>{class it{constructor(ve){}static withServerTransition(ve){return{ngModule:it,providers:[{provide:L.AFp,useValue:ve.appId},{provide:ae,useExisting:L.AFp},X]}}}return it.\u0275fac=function(ve){return new(ve||it)(L.LFG(Dn,12))},it.\u0275mod=L.oAB({type:it}),it.\u0275inj=L.cJS({providers:[...zn,...An],imports:[l.ez,L.hGG]}),it})(),Bt=(()=>{class it{constructor(ve){this._doc=ve}getTitle(){return this._doc.title}setTitle(ve){this._doc.title=ve||""}}return it.\u0275fac=function(ve){return new(ve||it)(L.LFG(l.K0))},it.\u0275prov=L.Yz7({token:it,factory:function(ve){let Pe=null;return Pe=ve?new ve:function mr(){return new Bt((0,L.LFG)(l.K0))}(),Pe},providedIn:"root"}),it})();typeof window<"u"&&window},1958:(zt,st,k)=>{"use strict";k.d(st,{gz:()=>Ue,y6:()=>$i,OD:()=>or,eC:()=>Le,wm:()=>wn,wN:()=>is,F0:()=>ji,rH:()=>Qs,Bz:()=>Nu,Hx:()=>Rr});var l=k(6895),L=k(5062),U=k(2866),Ie=k(6688),be=k(3489);class re extends be.L{notifyNext(D,I,M,B,J){this.destination.next(I)}notifyError(D,I){this.destination.error(D)}notifyComplete(D){this.destination.complete()}}class ge extends be.L{constructor(D,I,M){super(),this.parent=D,this.outerValue=I,this.outerIndex=M,this.index=0}_next(D){this.parent.notifyNext(this.outerValue,D,this.outerIndex,this.index++,this)}_error(D){this.parent.notifyError(D,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var we=k(9249),ae=k(2916);function Q(T,D,I,M,B=new ge(T,I,M)){if(!B.closed)return D instanceof ae.y?D.subscribe(B):(0,we.s)(D)(B)}var X=k(3009);const te={};function G(...T){let D,I;return(0,U.K)(T[T.length-1])&&(I=T.pop()),"function"==typeof T[T.length-1]&&(D=T.pop()),1===T.length&&(0,Ie.k)(T[0])&&(T=T[0]),(0,X.n)(T,I).lift(new Re(D))}class Re{constructor(D){this.resultSelector=D}call(D,I){return I.subscribe(new Ke(D,this.resultSelector))}}class Ke extends re{constructor(D,I){super(D),this.resultSelector=I,this.active=0,this.values=[],this.observables=[]}_next(D){this.values.push(te),this.observables.push(D)}_complete(){const D=this.observables,I=D.length;if(0===I)this.destination.complete();else{this.active=I,this.toRespond=I;for(let M=0;M<I;M++)this.add(Q(this,D[M],void 0,M))}}notifyComplete(D){0==(this.active-=1)&&this.destination.complete()}notifyNext(D,I,M){const B=this.values,Te=this.toRespond?B[M]===te?--this.toRespond:this.toRespond:0;B[M]=I,0===Te&&(this.resultSelector?this._tryResultSelector(B):this.destination.next(B.slice()))}_tryResultSelector(D){let I;try{I=this.resultSelector.apply(this,D)}catch(M){return void this.destination.error(M)}this.destination.next(I)}}var ue=k(5254),le=k(8896);function Se(T){return new ae.y(D=>{let I;try{I=T()}catch(B){return void D.error(B)}return(I?(0,ue.D)(I):(0,le.c)()).subscribe(D)})}var Ae=k(1086),z=k(591),et=k(1737),Ge=k(4450),lt=k(1221),ke=k(1762),ot=k(8929),fe=k(1177);function _e(T){return function(I){const M=new ce(T),B=I.lift(M);return M.caught=B}}class ce{constructor(D){this.selector=D}call(D,I){return I.subscribe(new ee(D,this.selector,this.caught))}}class ee extends fe.Ds{constructor(D,I,M){super(D),this.selector=I,this.caught=M}error(D){if(!this.isStopped){let I;try{I=this.selector(D,this.caught)}catch(J){return void super.error(J)}this._unsubscribeAndRecycle();const M=new fe.IY(this);this.add(M);const B=(0,fe.ft)(I,M);B!==M&&this.add(B)}}}var se=k(1709);function Me(T,D){return(0,se.zg)(T,D,1)}var Ne=k(2198),mt=k(4231);function At(T){return function(I){return 0===T?(0,le.c)():I.lift(new tt(T))}}class tt{constructor(D){if(this.total=D,this.total<0)throw new mt.W}call(D,I){return I.subscribe(new ct(D,this.total))}}class ct extends be.L{constructor(D,I){super(D),this.total=I,this.ring=new Array,this.count=0}_next(D){const I=this.ring,M=this.total,B=this.count++;I.length<M?I.push(D):I[B%M]=D}_complete(){const D=this.destination;let I=this.count;if(I>0){const M=this.count>=this.total?this.total:this.count,B=this.ring;for(let J=0;J<M;J++){const Te=I++%M;D.next(B[Te])}}D.complete()}}var We=k(4907),De=k(7314),qe=k(5379);class Ct{constructor(D){this.value=D}call(D,I){return I.subscribe(new gt(D,this.value))}}class gt extends be.L{constructor(D,I){super(D),this.value=I}_next(D){this.destination.next(this.value)}}var kt=k(2654);function tn(T){return D=>D.lift(new Jt(T))}class Jt{constructor(D){this.callback=D}call(D,I){return I.subscribe(new xn(D,this.callback))}}class xn extends be.L{constructor(D,I){super(D),this.add(new kt.w(I))}}var Ht=k(4850),_n=k(7545),Ar=k(2986),jn=k(1059),Qn=k(2014),gn=k(7224),Dn=k(2868),An=k(4327),zn=k(9146),Vn=k(1481);class Vt{constructor(D,I){this.id=D,this.url=I}}class or extends Vt{constructor(D,I,M="imperative",B=null){super(D,I),this.type=0,this.navigationTrigger=M,this.restoredState=B}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class bn extends Vt{constructor(D,I,M){super(D,I),this.urlAfterRedirects=M,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class mr extends Vt{constructor(D,I,M){super(D,I),this.reason=M,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Bt extends Vt{constructor(D,I,M){super(D,I),this.error=M,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Wn extends Vt{constructor(D,I,M,B){super(D,I),this.urlAfterRedirects=M,this.state=B,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kt extends Vt{constructor(D,I,M,B){super(D,I),this.urlAfterRedirects=M,this.state=B,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sn extends Vt{constructor(D,I,M,B,J){super(D,I),this.urlAfterRedirects=M,this.state=B,this.shouldActivate=J,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Er extends Vt{constructor(D,I,M,B){super(D,I),this.urlAfterRedirects=M,this.state=B,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Lr extends Vt{constructor(D,I,M,B){super(D,I),this.urlAfterRedirects=M,this.state=B,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kn{constructor(D){this.route=D,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class qn{constructor(D){this.route=D,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class hr{constructor(D){this.snapshot=D,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pr{constructor(D){this.snapshot=D,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nn{constructor(D){this.snapshot=D,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fe{constructor(D){this.snapshot=D,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ce{constructor(D,I,M){this.routerEvent=D,this.position=I,this.anchor=M,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Le="primary";class Ee{constructor(D){this.params=D||{}}has(D){return Object.prototype.hasOwnProperty.call(this.params,D)}get(D){if(this.has(D)){const I=this.params[D];return Array.isArray(I)?I[0]:I}return null}getAll(D){if(this.has(D)){const I=this.params[D];return Array.isArray(I)?I:[I]}return[]}get keys(){return Object.keys(this.params)}}function yt(T){return new Ee(T)}const Mt="ngNavigationCancelingError";function $t(T){const D=Error("NavigationCancelingError: "+T);return D[Mt]=!0,D}function Fn(T,D,I){const M=I.path.split("/");if(M.length>T.length||"full"===I.pathMatch&&(D.hasChildren()||M.length<T.length))return null;const B={};for(let J=0;J<M.length;J++){const Te=M[J],ze=T[J];if(Te.startsWith(":"))B[Te.substring(1)]=ze;else if(Te!==ze.path)return null}return{consumed:T.slice(0,M.length),posParams:B}}function rn(T,D){const I=T?Object.keys(T):void 0,M=D?Object.keys(D):void 0;if(!I||!M||I.length!=M.length)return!1;let B;for(let J=0;J<I.length;J++)if(B=I[J],!rr(T[B],D[B]))return!1;return!0}function rr(T,D){if(Array.isArray(T)&&Array.isArray(D)){if(T.length!==D.length)return!1;const I=[...T].sort(),M=[...D].sort();return I.every((B,J)=>M[J]===B)}return T===D}function ar(T){return Array.prototype.concat.apply([],T)}function jr(T){return T.length>0?T[T.length-1]:null}function er(T,D){for(const I in T)T.hasOwnProperty(I)&&D(T[I],I)}function xr(T){return(0,L.CqO)(T)?T:(0,L.QGY)(T)?(0,ue.D)(Promise.resolve(T)):(0,Ae.of)(T)}const kr={exact:function Pe(T,D,I){if(!Tr(T.segments,D.segments)||!Sn(T.segments,D.segments,I)||T.numberOfChildren!==D.numberOfChildren)return!1;for(const M in D.children)if(!T.children[M]||!Pe(T.children[M],D.children[M],I))return!1;return!0},subset:Wt},it={exact:function ve(T,D){return rn(T,D)},subset:function ft(T,D){return Object.keys(D).length<=Object.keys(T).length&&Object.keys(D).every(I=>rr(T[I],D[I]))},ignored:()=>!0};function Oe(T,D,I){return kr[I.paths](T.root,D.root,I.matrixParams)&&it[I.queryParams](T.queryParams,D.queryParams)&&!("exact"===I.fragment&&T.fragment!==D.fragment)}function Wt(T,D,I){return hn(T,D,D.segments,I)}function hn(T,D,I,M){if(T.segments.length>I.length){const B=T.segments.slice(0,I.length);return!(!Tr(B,I)||D.hasChildren()||!Sn(B,I,M))}if(T.segments.length===I.length){if(!Tr(T.segments,I)||!Sn(T.segments,I,M))return!1;for(const B in D.children)if(!T.children[B]||!Wt(T.children[B],D.children[B],M))return!1;return!0}{const B=I.slice(0,T.segments.length),J=I.slice(T.segments.length);return!!(Tr(T.segments,B)&&Sn(T.segments,B,M)&&T.children[Le])&&hn(T.children[Le],D,J,M)}}function Sn(T,D,I){return D.every((M,B)=>it[I](T[B].parameters,M.parameters))}class Tn{constructor(D,I,M){this.root=D,this.queryParams=I,this.fragment=M}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yt(this.queryParams)),this._queryParamMap}toString(){return mi.serialize(this)}}class Zt{constructor(D,I){this.segments=D,this.children=I,this.parent=null,er(I,(M,B)=>M.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vr(this)}}class an{constructor(D,I){this.path=D,this.parameters=I}get parameterMap(){return this._parameterMap||(this._parameterMap=yt(this.parameters)),this._parameterMap}toString(){return Ii(this)}}function Tr(T,D){return T.length===D.length&&T.every((I,M)=>I.path===D[M].path)}class Rr{}class ui{parse(D){const I=new Et(D);return new Tn(I.parseRootSegment(),I.parseQueryParams(),I.parseFragment())}serialize(D){const I=`/${Hn(D.root,!0)}`,M=function q(T){const D=Object.keys(T).map(I=>{const M=T[I];return Array.isArray(M)?M.map(B=>`${ni(I)}=${ni(B)}`).join("&"):`${ni(I)}=${ni(M)}`}).filter(I=>!!I);return D.length?`?${D.join("&")}`:""}(D.queryParams);return`${I}${M}${"string"==typeof D.fragment?`#${function Mr(T){return encodeURI(T)}(D.fragment)}`:""}`}}const mi=new ui;function Vr(T){return T.segments.map(D=>Ii(D)).join("/")}function Hn(T,D){if(!T.hasChildren())return Vr(T);if(D){const I=T.children[Le]?Hn(T.children[Le],!1):"",M=[];return er(T.children,(B,J)=>{J!==Le&&M.push(`${J}:${Hn(B,!1)}`)}),M.length>0?`${I}(${M.join("//")})`:I}{const I=function vn(T,D){let I=[];return er(T.children,(M,B)=>{B===Le&&(I=I.concat(D(M,B)))}),er(T.children,(M,B)=>{B!==Le&&(I=I.concat(D(M,B)))}),I}(T,(M,B)=>B===Le?[Hn(T.children[Le],!1)]:[`${B}:${Hn(M,!1)}`]);return 1===Object.keys(T.children).length&&null!=T.children[Le]?`${Vr(T)}/${I[0]}`:`${Vr(T)}/(${I.join("//")})`}}function qr(T){return encodeURIComponent(T).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ni(T){return qr(T).replace(/%3B/gi,";")}function Nr(T){return qr(T).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zr(T){return decodeURIComponent(T)}function ir(T){return Zr(T.replace(/\+/g,"%20"))}function Ii(T){return`${Nr(T.path)}${function Yr(T){return Object.keys(T).map(D=>`;${Nr(D)}=${Nr(T[D])}`).join("")}(T.parameters)}`}const de=/^[^\/()?;=#]+/;function Ve(T){const D=T.match(de);return D?D[0]:""}const Xe=/^[^=?&#]+/,ye=/^[^&#]+/;class Et{constructor(D){this.url=D,this.remaining=D}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Zt([],{}):new Zt([],this.parseChildren())}parseQueryParams(){const D={};if(this.consumeOptional("?"))do{this.parseQueryParam(D)}while(this.consumeOptional("&"));return D}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const D=[];for(this.peekStartsWith("(")||D.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),D.push(this.parseSegment());let I={};this.peekStartsWith("/(")&&(this.capture("/"),I=this.parseParens(!0));let M={};return this.peekStartsWith("(")&&(M=this.parseParens(!1)),(D.length>0||Object.keys(I).length>0)&&(M[Le]=new Zt(D,I)),M}parseSegment(){const D=Ve(this.remaining);if(""===D&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(D),new an(Zr(D),this.parseMatrixParams())}parseMatrixParams(){const D={};for(;this.consumeOptional(";");)this.parseParam(D);return D}parseParam(D){const I=Ve(this.remaining);if(!I)return;this.capture(I);let M="";if(this.consumeOptional("=")){const B=Ve(this.remaining);B&&(M=B,this.capture(M))}D[Zr(I)]=Zr(M)}parseQueryParam(D){const I=function he(T){const D=T.match(Xe);return D?D[0]:""}(this.remaining);if(!I)return;this.capture(I);let M="";if(this.consumeOptional("=")){const Te=function Qe(T){const D=T.match(ye);return D?D[0]:""}(this.remaining);Te&&(M=Te,this.capture(M))}const B=ir(I),J=ir(M);if(D.hasOwnProperty(B)){let Te=D[B];Array.isArray(Te)||(Te=[Te],D[B]=Te),Te.push(J)}else D[B]=J}parseParens(D){const I={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const M=Ve(this.remaining),B=this.remaining[M.length];if("/"!==B&&")"!==B&&";"!==B)throw new Error(`Cannot parse url '${this.url}'`);let J;M.indexOf(":")>-1?(J=M.slice(0,M.indexOf(":")),this.capture(J),this.capture(":")):D&&(J=Le);const Te=this.parseChildren();I[J]=1===Object.keys(Te).length?Te[Le]:new Zt([],Te),this.consumeOptional("//")}return I}peekStartsWith(D){return this.remaining.startsWith(D)}consumeOptional(D){return!!this.peekStartsWith(D)&&(this.remaining=this.remaining.substring(D.length),!0)}capture(D){if(!this.consumeOptional(D))throw new Error(`Expected "${D}".`)}}class _t{constructor(D){this._root=D}get root(){return this._root.value}parent(D){const I=this.pathFromRoot(D);return I.length>1?I[I.length-2]:null}children(D){const I=It(D,this._root);return I?I.children.map(M=>M.value):[]}firstChild(D){const I=It(D,this._root);return I&&I.children.length>0?I.children[0].value:null}siblings(D){const I=qt(D,this._root);return I.length<2?[]:I[I.length-2].children.map(B=>B.value).filter(B=>B!==D)}pathFromRoot(D){return qt(D,this._root).map(I=>I.value)}}function It(T,D){if(T===D.value)return D;for(const I of D.children){const M=It(T,I);if(M)return M}return null}function qt(T,D){if(T===D.value)return[D];for(const I of D.children){const M=qt(T,I);if(M.length)return M.unshift(D),M}return[]}class fn{constructor(D,I){this.value=D,this.children=I}toString(){return`TreeNode(${this.value})`}}function ln(T){const D={};return T&&T.children.forEach(I=>D[I.value.outlet]=I),D}class yr extends _t{constructor(D,I){super(D),this.snapshot=I,ur(this,D)}toString(){return this.snapshot.toString()}}function Or(T,D){const I=function $e(T,D){const Te=new Lt([],{},{},"",{},Le,D,null,T.root,-1,{});return new nn("",new fn(Te,[]))}(T,D),M=new z.X([new an("",{})]),B=new z.X({}),J=new z.X({}),Te=new z.X({}),ze=new z.X(""),xt=new Ue(M,B,Te,ze,J,Le,D,I.root);return xt.snapshot=I.root,new yr(new fn(xt,[]),I)}class Ue{constructor(D,I,M,B,J,Te,ze,xt){this.url=D,this.params=I,this.queryParams=M,this.fragment=B,this.data=J,this.outlet=Te,this.component=ze,this._futureSnapshot=xt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ht.U)(D=>yt(D)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ht.U)(D=>yt(D)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ut(T,D="emptyOnly"){const I=T.pathFromRoot;let M=0;if("always"!==D)for(M=I.length-1;M>=1;){const B=I[M],J=I[M-1];if(B.routeConfig&&""===B.routeConfig.path)M--;else{if(J.component)break;M--}}return function Tt(T){return T.reduce((D,I)=>({params:{...D.params,...I.params},data:{...D.data,...I.data},resolve:{...I.data,...D.resolve,...I.routeConfig?.data,...I._resolvedData}}),{params:{},data:{},resolve:{}})}(I.slice(M))}class Lt{constructor(D,I,M,B,J,Te,ze,xt,Be,nr,dn,zr){this.url=D,this.params=I,this.queryParams=M,this.fragment=B,this.data=J,this.outlet=Te,this.component=ze,this.routeConfig=xt,this._urlSegment=Be,this._lastPathIndex=nr,this._correctedLastPathIndex=zr??nr,this._resolve=dn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=yt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(M=>M.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class nn extends _t{constructor(D,I){super(I),this.url=D,ur(this,I)}toString(){return Jr(this._root)}}function ur(T,D){D.value._routerState=T,D.children.forEach(I=>ur(T,I))}function Jr(T){const D=T.children.length>0?` { ${T.children.map(Jr).join(", ")} } `:"";return`${T.value}${D}`}function tr(T){if(T.snapshot){const D=T.snapshot,I=T._futureSnapshot;T.snapshot=I,rn(D.queryParams,I.queryParams)||T.queryParams.next(I.queryParams),D.fragment!==I.fragment&&T.fragment.next(I.fragment),rn(D.params,I.params)||T.params.next(I.params),function Ln(T,D){if(T.length!==D.length)return!1;for(let I=0;I<T.length;++I)if(!rn(T[I],D[I]))return!1;return!0}(D.url,I.url)||T.url.next(I.url),rn(D.data,I.data)||T.data.next(I.data)}else T.snapshot=T._futureSnapshot,T.data.next(T._futureSnapshot.data)}function li(T,D){const I=rn(T.params,D.params)&&function Dr(T,D){return Tr(T,D)&&T.every((I,M)=>rn(I.parameters,D[M].parameters))}(T.url,D.url);return I&&!(!T.parent!=!D.parent)&&(!T.parent||li(T.parent,D.parent))}function yi(T,D,I){if(I&&T.shouldReuseRoute(D.value,I.value.snapshot)){const M=I.value;M._futureSnapshot=D.value;const B=function zi(T,D,I){return D.children.map(M=>{for(const B of I.children)if(T.shouldReuseRoute(M.value,B.value.snapshot))return yi(T,M,B);return yi(T,M)})}(T,D,I);return new fn(M,B)}{if(T.shouldAttach(D.value)){const J=T.retrieve(D.value);if(null!==J){const Te=J.route;return Te.value._futureSnapshot=D.value,Te.children=D.children.map(ze=>yi(T,ze)),Te}}const M=function es(T){return new Ue(new z.X(T.url),new z.X(T.params),new z.X(T.queryParams),new z.X(T.fragment),new z.X(T.data),T.outlet,T.component,T)}(D.value),B=D.children.map(J=>yi(T,J));return new fn(M,B)}}function Oi(T){return"object"==typeof T&&null!=T&&!T.outlets&&!T.segmentPath}function Pi(T){return"object"==typeof T&&null!=T&&T.outlets}function Wi(T,D,I,M,B){let J={};if(M&&er(M,(ze,xt)=>{J[xt]=Array.isArray(ze)?ze.map(Be=>`${Be}`):`${ze}`}),T===D)return new Tn(I,J,B);const Te=ts(T,D,I);return new Tn(Te,J,B)}function ts(T,D,I){const M={};return er(T.children,(B,J)=>{M[J]=B===D?I:ts(B,D,I)}),new Zt(T.segments,M)}class ki{constructor(D,I,M){if(this.isAbsolute=D,this.numberOfDoubleDots=I,this.commands=M,D&&M.length>0&&Oi(M[0]))throw new Error("Root segment cannot have matrix parameters");const B=M.find(Pi);if(B&&B!==jr(M))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class vi{constructor(D,I,M){this.segmentGroup=D,this.processChildren=I,this.index=M}}function Ls(T,D,I){if(T||(T=new Zt([],{})),0===T.segments.length&&T.hasChildren())return ci(T,D,I);const M=function Di(T,D,I){let M=0,B=D;const J={match:!1,pathIndex:0,commandIndex:0};for(;B<T.segments.length;){if(M>=I.length)return J;const Te=T.segments[B],ze=I[M];if(Pi(ze))break;const xt=`${ze}`,Be=M<I.length-1?I[M+1]:null;if(B>0&&void 0===xt)break;if(xt&&Be&&"object"==typeof Be&&void 0===Be.outlets){if(!Ti(xt,Be,Te))return J;M+=2}else{if(!Ti(xt,{},Te))return J;M++}B++}return{match:!0,pathIndex:B,commandIndex:M}}(T,D,I),B=I.slice(M.commandIndex);if(M.match&&M.pathIndex<T.segments.length){const J=new Zt(T.segments.slice(0,M.pathIndex),{});return J.children[Le]=new Zt(T.segments.slice(M.pathIndex),T.children),ci(J,0,B)}return M.match&&0===B.length?new Zt(T.segments,{}):M.match&&!T.hasChildren()?Es(T,D,I):M.match?ci(T,0,B):Es(T,D,I)}function ci(T,D,I){if(0===I.length)return new Zt(T.segments,{});{const M=function xs(T){return Pi(T[0])?T[0].outlets:{[Le]:T}}(I),B={};return er(M,(J,Te)=>{"string"==typeof J&&(J=[J]),null!==J&&(B[Te]=Ls(T.children[Te],D,J))}),er(T.children,(J,Te)=>{void 0===M[Te]&&(B[Te]=J)}),new Zt(T.segments,B)}}function Es(T,D,I){const M=T.segments.slice(0,D);let B=0;for(;B<I.length;){const J=I[B];if(Pi(J)){const xt=Ci(J.outlets);return new Zt(M,xt)}if(0===B&&Oi(I[0])){M.push(new an(T.segments[D].path,di(I[0]))),B++;continue}const Te=Pi(J)?J.outlets[Le]:`${J}`,ze=B<I.length-1?I[B+1]:null;Te&&ze&&Oi(ze)?(M.push(new an(Te,di(ze))),B+=2):(M.push(new an(Te,{})),B++)}return new Zt(M,{})}function Ci(T){const D={};return er(T,(I,M)=>{"string"==typeof I&&(I=[I]),null!==I&&(D[M]=Es(new Zt([],{}),0,I))}),D}function di(T){const D={};return er(T,(I,M)=>D[M]=`${I}`),D}function Ti(T,D,I){return T==I.path&&rn(D,I.parameters)}class hi{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new $i,this.attachRef=null}}class $i{constructor(){this.contexts=new Map}onChildOutletCreated(D,I){const M=this.getOrCreateContext(D);M.outlet=I,this.contexts.set(D,M)}onChildOutletDestroyed(D){const I=this.getContext(D);I&&(I.outlet=null,I.attachRef=null)}onOutletDeactivated(){const D=this.contexts;return this.contexts=new Map,D}onOutletReAttached(D){this.contexts=D}getOrCreateContext(D){let I=this.getContext(D);return I||(I=new hi,this.contexts.set(D,I)),I}getContext(D){return this.contexts.get(D)||null}}let qi=(()=>{class T{constructor(I,M,B,J,Te){this.parentContexts=I,this.location=M,this.changeDetector=J,this.environmentInjector=Te,this.activated=null,this._activatedRoute=null,this.activateEvents=new L.vpe,this.deactivateEvents=new L.vpe,this.attachEvents=new L.vpe,this.detachEvents=new L.vpe,this.name=B||Le,I.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const I=this.parentContexts.getContext(this.name);I&&I.route&&(I.attachRef?this.attach(I.attachRef,I.route):this.activateWith(I.route,I.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const I=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(I.instance),I}attach(I,M){this.activated=I,this._activatedRoute=M,this.location.insert(I.hostView),this.attachEvents.emit(I.instance)}deactivate(){if(this.activated){const I=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(I)}}activateWith(I,M){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=I;const B=this.location,Te=I._futureSnapshot.component,ze=this.parentContexts.getOrCreateContext(this.name).children,xt=new Ni(I,ze,B.injector);if(M&&function Si(T){return!!T.resolveComponentFactory}(M)){const Be=M.resolveComponentFactory(Te);this.activated=B.createComponent(Be,B.length,xt)}else this.activated=B.createComponent(Te,{index:B.length,injector:xt,environmentInjector:M??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return T.\u0275fac=function(I){return new(I||T)(L.Y36($i),L.Y36(L.s_b),L.$8M("name"),L.Y36(L.sBO),L.Y36(L.lqb))},T.\u0275dir=L.lG2({type:T,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),T})();class Ni{constructor(D,I,M){this.route=D,this.childContexts=I,this.parent=M}get(D,I){return D===Ue?this.route:D===$i?this.childContexts:this.parent.get(D,I)}}let ls=(()=>{class T{}return T.\u0275fac=function(I){return new(I||T)},T.\u0275cmp=L.Xpm({type:T,selectors:[["ng-component"]],decls:1,vars:0,template:function(I,M){1&I&&L._UZ(0,"router-outlet")},dependencies:[qi],encapsulation:2}),T})();function cs(T,D){return T.providers&&!T._injector&&(T._injector=(0,L.MMx)(T.providers,D,`Route: ${T.path}`)),T._injector??D}function pt(T){const D=T.children&&T.children.map(pt),I=D?{...T,children:D}:{...T};return!I.component&&!I.loadComponent&&(D||I.loadChildren)&&I.outlet&&I.outlet!==Le&&(I.component=ls),I}function bt(T){return T.outlet||Le}function cn(T,D){const I=T.filter(M=>bt(M)===D);return I.push(...T.filter(M=>bt(M)!==D)),I}function pr(T){if(!T)return null;if(T.routeConfig?._injector)return T.routeConfig._injector;for(let D=T.parent;D;D=D.parent){const I=D.routeConfig;if(I?._loadedInjector)return I._loadedInjector;if(I?._injector)return I._injector}return null}class Cr{constructor(D,I,M,B){this.routeReuseStrategy=D,this.futureState=I,this.currState=M,this.forwardEvent=B}activate(D){const I=this.futureState._root,M=this.currState?this.currState._root:null;this.deactivateChildRoutes(I,M,D),tr(this.futureState.root),this.activateChildRoutes(I,M,D)}deactivateChildRoutes(D,I,M){const B=ln(I);D.children.forEach(J=>{const Te=J.value.outlet;this.deactivateRoutes(J,B[Te],M),delete B[Te]}),er(B,(J,Te)=>{this.deactivateRouteAndItsChildren(J,M)})}deactivateRoutes(D,I,M){const B=D.value,J=I?I.value:null;if(B===J)if(B.component){const Te=M.getContext(B.outlet);Te&&this.deactivateChildRoutes(D,I,Te.children)}else this.deactivateChildRoutes(D,I,M);else J&&this.deactivateRouteAndItsChildren(I,M)}deactivateRouteAndItsChildren(D,I){D.value.component&&this.routeReuseStrategy.shouldDetach(D.value.snapshot)?this.detachAndStoreRouteSubtree(D,I):this.deactivateRouteAndOutlet(D,I)}detachAndStoreRouteSubtree(D,I){const M=I.getContext(D.value.outlet),B=M&&D.value.component?M.children:I,J=ln(D);for(const Te of Object.keys(J))this.deactivateRouteAndItsChildren(J[Te],B);if(M&&M.outlet){const Te=M.outlet.detach(),ze=M.children.onOutletDeactivated();this.routeReuseStrategy.store(D.value.snapshot,{componentRef:Te,route:D,contexts:ze})}}deactivateRouteAndOutlet(D,I){const M=I.getContext(D.value.outlet),B=M&&D.value.component?M.children:I,J=ln(D);for(const Te of Object.keys(J))this.deactivateRouteAndItsChildren(J[Te],B);M&&M.outlet&&(M.outlet.deactivate(),M.children.onOutletDeactivated(),M.attachRef=null,M.resolver=null,M.route=null)}activateChildRoutes(D,I,M){const B=ln(I);D.children.forEach(J=>{this.activateRoutes(J,B[J.value.outlet],M),this.forwardEvent(new Fe(J.value.snapshot))}),D.children.length&&this.forwardEvent(new Pr(D.value.snapshot))}activateRoutes(D,I,M){const B=D.value,J=I?I.value:null;if(tr(B),B===J)if(B.component){const Te=M.getOrCreateContext(B.outlet);this.activateChildRoutes(D,I,Te.children)}else this.activateChildRoutes(D,I,M);else if(B.component){const Te=M.getOrCreateContext(B.outlet);if(this.routeReuseStrategy.shouldAttach(B.snapshot)){const ze=this.routeReuseStrategy.retrieve(B.snapshot);this.routeReuseStrategy.store(B.snapshot,null),Te.children.onOutletReAttached(ze.contexts),Te.attachRef=ze.componentRef,Te.route=ze.route.value,Te.outlet&&Te.outlet.attach(ze.componentRef,ze.route.value),tr(ze.route.value),this.activateChildRoutes(D,null,Te.children)}else{const ze=pr(B.snapshot),xt=ze?.get(L._Vd)??null;Te.attachRef=null,Te.route=B,Te.resolver=xt,Te.injector=ze,Te.outlet&&Te.outlet.activateWith(B,Te.injector),this.activateChildRoutes(D,null,Te.children)}}else this.activateChildRoutes(D,null,M)}}function Kn(T){return"function"==typeof T}function $n(T){return T instanceof Tn}const Li=Symbol("INITIAL_VALUE");function hs(){return(0,_n.w)(T=>G(T.map(D=>D.pipe((0,Ar.q)(1),(0,jn.O)(Li)))).pipe((0,Qn.R)((D,I)=>{let M=!1;return I.reduce((B,J,Te)=>B!==Li?B:(J===Li&&(M=!0),M||!1!==J&&Te!==I.length-1&&!$n(J)?B:J),D)},Li),(0,Ne.h)(D=>D!==Li),(0,Ht.U)(D=>$n(D)?D:!0===D),(0,Ar.q)(1)))}const Cn={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bs(T,D,I){if(""===D.path)return"full"===D.pathMatch&&(T.hasChildren()||I.length>0)?{...Cn}:{matched:!0,consumedSegments:[],remainingSegments:I,parameters:{},positionalParamSegments:{}};const B=(D.matcher||Fn)(I,T,D);if(!B)return{...Cn};const J={};er(B.posParams,(ze,xt)=>{J[xt]=ze.path});const Te=B.consumed.length>0?{...J,...B.consumed[B.consumed.length-1].parameters}:J;return{matched:!0,consumedSegments:B.consumed,remainingSegments:I.slice(B.consumed.length),parameters:Te,positionalParamSegments:B.posParams??{}}}function Io(T,D,I,M,B="corrected"){if(I.length>0&&function h(T,D,I){return I.some(M=>f(T,D,M)&&bt(M)!==Le)}(T,I,M)){const Te=new Zt(D,function E(T,D,I,M){const B={};B[Le]=M,M._sourceSegment=T,M._segmentIndexShift=D.length;for(const J of I)if(""===J.path&&bt(J)!==Le){const Te=new Zt([],{});Te._sourceSegment=T,Te._segmentIndexShift=D.length,B[bt(J)]=Te}return B}(T,D,M,new Zt(I,T.children)));return Te._sourceSegment=T,Te._segmentIndexShift=D.length,{segmentGroup:Te,slicedSegments:[]}}if(0===I.length&&function a(T,D,I){return I.some(M=>f(T,D,M))}(T,I,M)){const Te=new Zt(T.segments,function Do(T,D,I,M,B,J){const Te={};for(const ze of M)if(f(T,I,ze)&&!B[bt(ze)]){const xt=new Zt([],{});xt._sourceSegment=T,xt._segmentIndexShift="legacy"===J?T.segments.length:D.length,Te[bt(ze)]=xt}return{...B,...Te}}(T,D,I,M,T.children,B));return Te._sourceSegment=T,Te._segmentIndexShift=D.length,{segmentGroup:Te,slicedSegments:I}}const J=new Zt(T.segments,T.children);return J._sourceSegment=T,J._segmentIndexShift=D.length,{segmentGroup:J,slicedSegments:I}}function f(T,D,I){return(!(T.hasChildren()||D.length>0)||"full"!==I.pathMatch)&&""===I.path}function _(T,D,I,M){return!!(bt(T)===M||M!==Le&&f(D,I,T))&&("**"===T.path||bs(D,T,I).matched)}function O(T,D,I){return 0===D.length&&!T.children[I]}class ie{constructor(D){this.segmentGroup=D||null}}class nt{constructor(D){this.urlTree=D}}function Rt(T){return(0,et._)(new ie(T))}function St(T){return(0,et._)(new nt(T))}class br{constructor(D,I,M,B,J){this.injector=D,this.configLoader=I,this.urlSerializer=M,this.urlTree=B,this.config=J,this.allowRedirects=!0}apply(){const D=Io(this.urlTree.root,[],[],this.config).segmentGroup,I=new Zt(D.segments,D.children);return this.expandSegmentGroup(this.injector,this.config,I,Le).pipe((0,Ht.U)(J=>this.createUrlTree(Fr(J),this.urlTree.queryParams,this.urlTree.fragment))).pipe(_e(J=>{if(J instanceof nt)return this.allowRedirects=!1,this.match(J.urlTree);throw J instanceof ie?this.noMatchError(J):J}))}match(D){return this.expandSegmentGroup(this.injector,this.config,D.root,Le).pipe((0,Ht.U)(B=>this.createUrlTree(Fr(B),D.queryParams,D.fragment))).pipe(_e(B=>{throw B instanceof ie?this.noMatchError(B):B}))}noMatchError(D){return new Error(`Cannot match any routes. URL Segment: '${D.segmentGroup}'`)}createUrlTree(D,I,M){const B=D.segments.length>0?new Zt([],{[Le]:D}):D;return new Tn(B,I,M)}expandSegmentGroup(D,I,M,B){return 0===M.segments.length&&M.hasChildren()?this.expandChildren(D,I,M).pipe((0,Ht.U)(J=>new Zt([],J))):this.expandSegment(D,M,I,M.segments,B,!0)}expandChildren(D,I,M){const B=[];for(const J of Object.keys(M.children))"primary"===J?B.unshift(J):B.push(J);return(0,ue.D)(B).pipe(Me(J=>{const Te=M.children[J],ze=cn(I,J);return this.expandSegmentGroup(D,ze,Te,J).pipe((0,Ht.U)(xt=>({segment:xt,outlet:J})))}),(0,Qn.R)((J,Te)=>(J[Te.outlet]=Te.segment,J),{}),function me(T,D){const I=arguments.length>=2;return M=>M.pipe(T?(0,Ne.h)((B,J)=>T(B,J,M)):qe.y,At(1),I?(0,De.d)(D):(0,We.T)(()=>new Ge.K))}())}expandSegment(D,I,M,B,J,Te){return(0,ue.D)(M).pipe(Me(ze=>this.expandSegmentAgainstRoute(D,I,M,ze,B,J,Te).pipe(_e(Be=>{if(Be instanceof ie)return(0,Ae.of)(null);throw Be}))),(0,gn.P)(ze=>!!ze),_e((ze,xt)=>{if(ze instanceof Ge.K||"EmptyError"===ze.name)return O(I,B,J)?(0,Ae.of)(new Zt([],{})):Rt(I);throw ze}))}expandSegmentAgainstRoute(D,I,M,B,J,Te,ze){return _(B,I,J,Te)?void 0===B.redirectTo?this.matchSegmentAgainstRoute(D,I,B,J,Te):ze&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(D,I,M,B,J,Te):Rt(I):Rt(I)}expandSegmentAgainstRouteUsingRedirect(D,I,M,B,J,Te){return"**"===B.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(D,M,B,Te):this.expandRegularSegmentAgainstRouteUsingRedirect(D,I,M,B,J,Te)}expandWildCardWithParamsAgainstRouteUsingRedirect(D,I,M,B){const J=this.applyRedirectCommands([],M.redirectTo,{});return M.redirectTo.startsWith("/")?St(J):this.lineralizeSegments(M,J).pipe((0,se.zg)(Te=>{const ze=new Zt(Te,{});return this.expandSegment(D,ze,I,Te,B,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(D,I,M,B,J,Te){const{matched:ze,consumedSegments:xt,remainingSegments:Be,positionalParamSegments:nr}=bs(I,B,J);if(!ze)return Rt(I);const dn=this.applyRedirectCommands(xt,B.redirectTo,nr);return B.redirectTo.startsWith("/")?St(dn):this.lineralizeSegments(B,dn).pipe((0,se.zg)(zr=>this.expandSegment(D,I,M,zr.concat(Be),Te,!1)))}matchSegmentAgainstRoute(D,I,M,B,J){if("**"===M.path)return D=cs(M,D),M.loadChildren?(M._loadedRoutes?(0,Ae.of)({routes:M._loadedRoutes,injector:M._loadedInjector}):this.configLoader.loadChildren(D,M)).pipe((0,Ht.U)(dn=>(M._loadedRoutes=dn.routes,M._loadedInjector=dn.injector,new Zt(B,{})))):(0,Ae.of)(new Zt(B,{}));const{matched:Te,consumedSegments:ze,remainingSegments:xt}=bs(I,M,B);return Te?(D=cs(M,D),this.getChildConfig(D,M,B).pipe((0,se.zg)(nr=>{const dn=nr.injector??D,zr=nr.routes,{segmentGroup:sr,slicedSegments:oi}=Io(I,ze,xt,zr),ao=new Zt(sr.segments,sr.children);if(0===oi.length&&ao.hasChildren())return this.expandChildren(dn,zr,ao).pipe((0,Ht.U)(Ks=>new Zt(ze,Ks)));if(0===zr.length&&0===oi.length)return(0,Ae.of)(new Zt(ze,{}));const xo=bt(M)===J;return this.expandSegment(dn,ao,zr,oi,xo?Le:J,!0).pipe((0,Ht.U)(pi=>new Zt(ze.concat(pi.segments),pi.children)))}))):Rt(I)}getChildConfig(D,I,M){return I.children?(0,Ae.of)({routes:I.children,injector:D}):I.loadChildren?void 0!==I._loadedRoutes?(0,Ae.of)({routes:I._loadedRoutes,injector:I._loadedInjector}):this.runCanLoadGuards(D,I,M).pipe((0,se.zg)(B=>B?this.configLoader.loadChildren(D,I).pipe((0,Dn.b)(J=>{I._loadedRoutes=J.routes,I._loadedInjector=J.injector})):function pn(T){return(0,et._)($t(`Cannot load children because the guard of the route "path: '${T.path}'" returned false`))}(I))):(0,Ae.of)({routes:[],injector:D})}runCanLoadGuards(D,I,M){const B=I.canLoad;if(!B||0===B.length)return(0,Ae.of)(!0);const J=B.map(Te=>{const ze=D.get(Te);let xt;if(function Xr(T){return T&&Kn(T.canLoad)}(ze))xt=ze.canLoad(I,M);else{if(!Kn(ze))throw new Error("Invalid CanLoad guard");xt=ze(I,M)}return xr(xt)});return(0,Ae.of)(J).pipe(hs(),(0,Dn.b)(Te=>{if(!$n(Te))return;const ze=$t(`Redirecting to "${this.urlSerializer.serialize(Te)}"`);throw ze.url=Te,ze}),(0,Ht.U)(Te=>!0===Te))}lineralizeSegments(D,I){let M=[],B=I.root;for(;;){if(M=M.concat(B.segments),0===B.numberOfChildren)return(0,Ae.of)(M);if(B.numberOfChildren>1||!B.children[Le])return(0,et._)(new Error(`Only absolute redirects can have named outlets. redirectTo: '${D.redirectTo}'`));B=B.children[Le]}}applyRedirectCommands(D,I,M){return this.applyRedirectCreatreUrlTree(I,this.urlSerializer.parse(I),D,M)}applyRedirectCreatreUrlTree(D,I,M,B){const J=this.createSegmentGroup(D,I.root,M,B);return new Tn(J,this.createQueryParams(I.queryParams,this.urlTree.queryParams),I.fragment)}createQueryParams(D,I){const M={};return er(D,(B,J)=>{if("string"==typeof B&&B.startsWith(":")){const ze=B.substring(1);M[J]=I[ze]}else M[J]=B}),M}createSegmentGroup(D,I,M,B){const J=this.createSegments(D,I.segments,M,B);let Te={};return er(I.children,(ze,xt)=>{Te[xt]=this.createSegmentGroup(D,ze,M,B)}),new Zt(J,Te)}createSegments(D,I,M,B){return I.map(J=>J.path.startsWith(":")?this.findPosParam(D,J,B):this.findOrReturn(J,M))}findPosParam(D,I,M){const B=M[I.path.substring(1)];if(!B)throw new Error(`Cannot redirect to '${D}'. Cannot find '${I.path}'.`);return B}findOrReturn(D,I){let M=0;for(const B of I){if(B.path===D.path)return I.splice(M),B;M++}return D}}function Fr(T){const D={};for(const M of Object.keys(T.children)){const J=Fr(T.children[M]);(J.segments.length>0||J.hasChildren())&&(D[M]=J)}return function wr(T){if(1===T.numberOfChildren&&T.children[Le]){const D=T.children[Le];return new Zt(T.segments.concat(D.segments),D.children)}return T}(new Zt(T.segments,D))}class Kr{constructor(D){this.path=D,this.route=this.path[this.path.length-1]}}class Yi{constructor(D,I){this.component=D,this.route=I}}function lr(T,D,I){const M=T._root;return Ki(M,D?D._root:null,I,[M.value])}function ri(T,D,I){return(pr(D)??I).get(T)}function Ki(T,D,I,M,B={canDeactivateChecks:[],canActivateChecks:[]}){const J=ln(D);return T.children.forEach(Te=>{(function rs(T,D,I,M,B={canDeactivateChecks:[],canActivateChecks:[]}){const J=T.value,Te=D?D.value:null,ze=I?I.getContext(T.value.outlet):null;if(Te&&J.routeConfig===Te.routeConfig){const xt=function Vo(T,D,I){if("function"==typeof I)return I(T,D);switch(I){case"pathParamsChange":return!Tr(T.url,D.url);case"pathParamsOrQueryParamsChange":return!Tr(T.url,D.url)||!rn(T.queryParams,D.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!li(T,D)||!rn(T.queryParams,D.queryParams);default:return!li(T,D)}}(Te,J,J.routeConfig.runGuardsAndResolvers);xt?B.canActivateChecks.push(new Kr(M)):(J.data=Te.data,J._resolvedData=Te._resolvedData),Ki(T,D,J.component?ze?ze.children:null:I,M,B),xt&&ze&&ze.outlet&&ze.outlet.isActivated&&B.canDeactivateChecks.push(new Yi(ze.outlet.component,Te))}else Te&&Vs(D,ze,B),B.canActivateChecks.push(new Kr(M)),Ki(T,null,J.component?ze?ze.children:null:I,M,B)})(Te,J[Te.value.outlet],I,M.concat([Te.value]),B),delete J[Te.value.outlet]}),er(J,(Te,ze)=>Vs(Te,I.getContext(ze),B)),B}function Vs(T,D,I){const M=ln(T),B=T.value;er(M,(J,Te)=>{Vs(J,B.component?D?D.children.getContext(Te):null:D,I)}),I.canDeactivateChecks.push(new Yi(B.component&&D&&D.outlet&&D.outlet.isActivated?D.outlet.component:null,B))}class Ea{}function ba(T){return new ae.y(D=>D.error(T))}class ul{constructor(D,I,M,B,J,Te){this.rootComponentType=D,this.config=I,this.urlTree=M,this.url=B,this.paramsInheritanceStrategy=J,this.relativeLinkResolution=Te}recognize(){const D=Io(this.urlTree.root,[],[],this.config.filter(Te=>void 0===Te.redirectTo),this.relativeLinkResolution).segmentGroup,I=this.processSegmentGroup(this.config,D,Le);if(null===I)return null;const M=new Lt([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Le,this.rootComponentType,null,this.urlTree.root,-1,{}),B=new fn(M,I),J=new nn(this.url,B);return this.inheritParamsAndData(J._root),J}inheritParamsAndData(D){const I=D.value,M=ut(I,this.paramsInheritanceStrategy);I.params=Object.freeze(M.params),I.data=Object.freeze(M.data),D.children.forEach(B=>this.inheritParamsAndData(B))}processSegmentGroup(D,I,M){return 0===I.segments.length&&I.hasChildren()?this.processChildren(D,I):this.processSegment(D,I,I.segments,M)}processChildren(D,I){const M=[];for(const J of Object.keys(I.children)){const Te=I.children[J],ze=cn(D,J),xt=this.processSegmentGroup(ze,Te,J);if(null===xt)return null;M.push(...xt)}const B=Zi(M);return function Bo(T){T.sort((D,I)=>D.value.outlet===Le?-1:I.value.outlet===Le?1:D.value.outlet.localeCompare(I.value.outlet))}(B),B}processSegment(D,I,M,B){for(const J of D){const Te=this.processSegmentAgainstRoute(J,I,M,B);if(null!==Te)return Te}return O(I,M,B)?[]:null}processSegmentAgainstRoute(D,I,M,B){if(D.redirectTo||!_(D,I,M,B))return null;let J,Te=[],ze=[];if("**"===D.path){const sr=M.length>0?jr(M).parameters:{},oi=wa(I)+M.length;J=new Lt(M,sr,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$o(D),bt(D),D.component??D._loadedComponent??null,D,_i(I),oi,Xi(D),oi)}else{const sr=bs(I,D,M);if(!sr.matched)return null;Te=sr.consumedSegments,ze=sr.remainingSegments;const oi=wa(I)+Te.length;J=new Lt(Te,sr.parameters,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$o(D),bt(D),D.component??D._loadedComponent??null,D,_i(I),oi,Xi(D),oi)}const xt=function Ru(T){return T.children?T.children:T.loadChildren?T._loadedRoutes:[]}(D),{segmentGroup:Be,slicedSegments:nr}=Io(I,Te,ze,xt.filter(sr=>void 0===sr.redirectTo),this.relativeLinkResolution);if(0===nr.length&&Be.hasChildren()){const sr=this.processChildren(xt,Be);return null===sr?null:[new fn(J,sr)]}if(0===xt.length&&0===nr.length)return[new fn(J,[])];const dn=bt(D)===B,zr=this.processSegment(xt,Be,nr,dn?Le:B);return null===zr?null:[new fn(J,zr)]}}function Yc(T){const D=T.value.routeConfig;return D&&""===D.path&&void 0===D.redirectTo}function Zi(T){const D=[],I=new Set;for(const M of T){if(!Yc(M)){D.push(M);continue}const B=D.find(J=>M.value.routeConfig===J.value.routeConfig);void 0!==B?(B.children.push(...M.children),I.add(B)):D.push(M)}for(const M of I){const B=Zi(M.children);D.push(new fn(M.value,B))}return D.filter(M=>!I.has(M))}function _i(T){let D=T;for(;D._sourceSegment;)D=D._sourceSegment;return D}function wa(T){let D=T,I=D._segmentIndexShift??0;for(;D._sourceSegment;)D=D._sourceSegment,I+=D._segmentIndexShift??0;return I-1}function $o(T){return T.data||{}}function Xi(T){return T.resolve||{}}const ja=Symbol("RouteTitle");function Ga(T){return"string"==typeof T.title||null===T.title}function Bs(T){return(0,_n.w)(D=>{const I=T(D);return I?(0,ue.D)(I).pipe((0,Ht.U)(()=>D)):(0,Ae.of)(D)})}class is{}class $s extends class Ou{shouldDetach(D){return!1}store(D,I){}shouldAttach(D){return!1}retrieve(D){return null}shouldReuseRoute(D,I){return D.routeConfig===I.routeConfig}}{}const za=new L.OlP("ROUTES");let so=(()=>{class T{constructor(I,M){this.injector=I,this.compiler=M,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(I){if(this.componentLoaders.get(I))return this.componentLoaders.get(I);if(I._loadedComponent)return(0,Ae.of)(I._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(I);const M=xr(I.loadComponent()).pipe((0,Dn.b)(J=>{this.onLoadEndListener&&this.onLoadEndListener(I),I._loadedComponent=J}),tn(()=>{this.componentLoaders.delete(I)})),B=new ke.c(M,()=>new ot.xQ).pipe((0,An.x)());return this.componentLoaders.set(I,B),B}loadChildren(I,M){if(this.childrenLoaders.get(M))return this.childrenLoaders.get(M);if(M._loadedRoutes)return(0,Ae.of)({routes:M._loadedRoutes,injector:M._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(M);const J=this.loadModuleFactoryOrRoutes(M.loadChildren).pipe((0,Ht.U)(ze=>{this.onLoadEndListener&&this.onLoadEndListener(M);let xt,Be,nr=!1;Array.isArray(ze)?Be=ze:(xt=ze.create(I).injector,Be=ar(xt.get(za,[],L.XFs.Self|L.XFs.Optional)));return{routes:Be.map(pt),injector:xt}}),tn(()=>{this.childrenLoaders.delete(M)})),Te=new ke.c(J,()=>new ot.xQ).pipe((0,An.x)());return this.childrenLoaders.set(M,Te),Te}loadModuleFactoryOrRoutes(I){return xr(I()).pipe((0,se.zg)(M=>M instanceof L.YKP||Array.isArray(M)?(0,Ae.of)(M):(0,ue.D)(this.compiler.compileModuleAsync(M))))}}return T.\u0275fac=function(I){return new(I||T)(L.LFG(L.zs3),L.LFG(L.Sil))},T.\u0275prov=L.Yz7({token:T,factory:T.\u0275fac}),T})();class Gl{shouldProcessUrl(D){return!0}extract(D){return D}merge(D,I){return D}}function Uo(T){throw T}function Ui(T,D,I){return D.parse("/")}const So={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},jo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ji=(()=>{class T{constructor(I,M,B,J,Te,ze,xt){this.rootComponentType=I,this.urlSerializer=M,this.rootContexts=B,this.location=J,this.config=xt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ot.xQ,this.errorHandler=Uo,this.malformedUriErrorHandler=Ui,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,Ae.of)(void 0),this.urlHandlingStrategy=new Gl,this.routeReuseStrategy=new $s,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=Te.get(so),this.configLoader.onLoadEndListener=zr=>this.triggerEvent(new qn(zr)),this.configLoader.onLoadStartListener=zr=>this.triggerEvent(new kn(zr)),this.ngModule=Te.get(L.h0i),this.console=Te.get(L.c2e);const dn=Te.get(L.R0b);this.isNgZoneEnabled=dn instanceof L.R0b&&L.R0b.isInAngularZone(),this.resetConfig(xt),this.currentUrlTree=function Yn(){return new Tn(new Zt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Or(this.currentUrlTree,this.rootComponentType),this.transitions=new z.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(I){const M=this.events;return I.pipe((0,Ne.h)(B=>0!==B.id),(0,Ht.U)(B=>({...B,extractedUrl:this.urlHandlingStrategy.extract(B.rawUrl)})),(0,_n.w)(B=>{let J=!1,Te=!1;return(0,Ae.of)(B).pipe((0,Dn.b)(ze=>{this.currentNavigation={id:ze.id,initialUrl:ze.rawUrl,extractedUrl:ze.extractedUrl,trigger:ze.source,extras:ze.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,_n.w)(ze=>{const xt=this.browserUrlTree.toString(),Be=!this.navigated||ze.extractedUrl.toString()!==xt||xt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Be)&&this.urlHandlingStrategy.shouldProcessUrl(ze.rawUrl))return Ys(ze.source)&&(this.browserUrlTree=ze.extractedUrl),(0,Ae.of)(ze).pipe((0,_n.w)(dn=>{const zr=this.transitions.getValue();return M.next(new or(dn.id,this.serializeUrl(dn.extractedUrl),dn.source,dn.restoredState)),zr!==this.transitions.getValue()?le.E:Promise.resolve(dn)}),function Qr(T,D,I,M){return(0,_n.w)(B=>function On(T,D,I,M,B){return new br(T,D,I,M,B).apply()}(T,D,I,B.extractedUrl,M).pipe((0,Ht.U)(J=>({...B,urlAfterRedirects:J}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Dn.b)(dn=>{this.currentNavigation={...this.currentNavigation,finalUrl:dn.urlAfterRedirects}}),function Ia(T,D,I,M,B){return(0,se.zg)(J=>function cu(T,D,I,M,B="emptyOnly",J="legacy"){try{const Te=new ul(T,D,I,M,B,J).recognize();return null===Te?ba(new Ea):(0,Ae.of)(Te)}catch(Te){return ba(Te)}}(T,D,J.urlAfterRedirects,I(J.urlAfterRedirects),M,B).pipe((0,Ht.U)(Te=>({...J,targetSnapshot:Te}))))}(this.rootComponentType,this.config,dn=>this.serializeUrl(dn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Dn.b)(dn=>{if("eager"===this.urlUpdateStrategy){if(!dn.extras.skipLocationChange){const sr=this.urlHandlingStrategy.merge(dn.urlAfterRedirects,dn.rawUrl);this.setBrowserUrl(sr,dn)}this.browserUrlTree=dn.urlAfterRedirects}const zr=new Wn(dn.id,this.serializeUrl(dn.extractedUrl),this.serializeUrl(dn.urlAfterRedirects),dn.targetSnapshot);M.next(zr)}));if(Be&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:zr,extractedUrl:sr,source:oi,restoredState:ao,extras:xo}=ze,hu=new or(zr,this.serializeUrl(sr),oi,ao);M.next(hu);const pi=Or(sr,this.rootComponentType).snapshot;return(0,Ae.of)({...ze,targetSnapshot:pi,urlAfterRedirects:sr,extras:{...xo,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=ze.rawUrl,ze.resolve(null),le.E}),(0,Dn.b)(ze=>{const xt=new Kt(ze.id,this.serializeUrl(ze.extractedUrl),this.serializeUrl(ze.urlAfterRedirects),ze.targetSnapshot);this.triggerEvent(xt)}),(0,Ht.U)(ze=>({...ze,guards:lr(ze.targetSnapshot,ze.currentSnapshot,this.rootContexts)})),function Co(T,D){return(0,se.zg)(I=>{const{targetSnapshot:M,currentSnapshot:B,guards:{canActivateChecks:J,canDeactivateChecks:Te}}=I;return 0===Te.length&&0===J.length?(0,Ae.of)({...I,guardsResult:!0}):function $a(T,D,I,M){return(0,ue.D)(T).pipe((0,se.zg)(B=>function sa(T,D,I,M,B){const J=D&&D.routeConfig?D.routeConfig.canDeactivate:null;if(!J||0===J.length)return(0,Ae.of)(!0);const Te=J.map(ze=>{const xt=ri(ze,D,B);let Be;if(function Ai(T){return T&&Kn(T.canDeactivate)}(xt))Be=xr(xt.canDeactivate(T,D,I,M));else{if(!Kn(xt))throw new Error("Invalid CanDeactivate guard");Be=xr(xt(T,D,I,M))}return Be.pipe((0,gn.P)())});return(0,Ae.of)(Te).pipe(hs())}(B.component,B.route,I,D,M)),(0,gn.P)(B=>!0!==B,!0))}(Te,M,B,T).pipe((0,se.zg)(ze=>ze&&function Hr(T){return"boolean"==typeof T}(ze)?function go(T,D,I,M){return(0,ue.D)(D).pipe(Me(B=>(0,lt.z)(function Cs(T,D){return null!==T&&D&&D(new hr(T)),(0,Ae.of)(!0)}(B.route.parent,M),function Ua(T,D){return null!==T&&D&&D(new Nn(T)),(0,Ae.of)(!0)}(B.route,M),function Mu(T,D,I){const M=D[D.length-1],J=D.slice(0,D.length-1).reverse().map(Te=>function $r(T){const D=T.routeConfig?T.routeConfig.canActivateChild:null;return D&&0!==D.length?{node:T,guards:D}:null}(Te)).filter(Te=>null!==Te).map(Te=>Se(()=>{const ze=Te.guards.map(xt=>{const Be=ri(xt,Te.node,I);let nr;if(function Gr(T){return T&&Kn(T.canActivateChild)}(Be))nr=xr(Be.canActivateChild(M,T));else{if(!Kn(Be))throw new Error("Invalid CanActivateChild guard");nr=xr(Be(M,T))}return nr.pipe((0,gn.P)())});return(0,Ae.of)(ze).pipe(hs())}));return(0,Ae.of)(J).pipe(hs())}(T,B.path,I),function _a(T,D,I){const M=D.routeConfig?D.routeConfig.canActivate:null;if(!M||0===M.length)return(0,Ae.of)(!0);const B=M.map(J=>Se(()=>{const Te=ri(J,D,I);let ze;if(function fi(T){return T&&Kn(T.canActivate)}(Te))ze=xr(Te.canActivate(D,T));else{if(!Kn(Te))throw new Error("Invalid CanActivate guard");ze=xr(Te(D,T))}return ze.pipe((0,gn.P)())}));return(0,Ae.of)(B).pipe(hs())}(T,B.route,I))),(0,gn.P)(B=>!0!==B,!0))}(M,J,T,D):(0,Ae.of)(ze)),(0,Ht.U)(ze=>({...I,guardsResult:ze})))})}(this.ngModule.injector,ze=>this.triggerEvent(ze)),(0,Dn.b)(ze=>{if($n(ze.guardsResult)){const Be=$t(`Redirecting to "${this.serializeUrl(ze.guardsResult)}"`);throw Be.url=ze.guardsResult,Be}const xt=new sn(ze.id,this.serializeUrl(ze.extractedUrl),this.serializeUrl(ze.urlAfterRedirects),ze.targetSnapshot,!!ze.guardsResult);this.triggerEvent(xt)}),(0,Ne.h)(ze=>!!ze.guardsResult||(this.restoreHistory(ze),this.cancelNavigationTransition(ze,""),!1)),Bs(ze=>{if(ze.guards.canActivateChecks.length)return(0,Ae.of)(ze).pipe((0,Dn.b)(xt=>{const Be=new Er(xt.id,this.serializeUrl(xt.extractedUrl),this.serializeUrl(xt.urlAfterRedirects),xt.targetSnapshot);this.triggerEvent(Be)}),(0,_n.w)(xt=>{let Be=!1;return(0,Ae.of)(xt).pipe(function Da(T,D){return(0,se.zg)(I=>{const{targetSnapshot:M,guards:{canActivateChecks:B}}=I;if(!B.length)return(0,Ae.of)(I);let J=0;return(0,ue.D)(B).pipe(Me(Te=>function qs(T,D,I,M){const B=T.routeConfig,J=T._resolve;return void 0!==B?.title&&!Ga(B)&&(J[ja]=B.title),function yo(T,D,I,M){const B=function Ha(T){return[...Object.keys(T),...Object.getOwnPropertySymbols(T)]}(T);if(0===B.length)return(0,Ae.of)({});const J={};return(0,ue.D)(B).pipe((0,se.zg)(Te=>function To(T,D,I,M){const B=ri(T,D,M);return xr(B.resolve?B.resolve(D,I):B(D,I))}(T[Te],D,I,M).pipe((0,gn.P)(),(0,Dn.b)(ze=>{J[Te]=ze}))),At(1),function at(T){return D=>D.lift(new Ct(T))}(J),_e(Te=>Te instanceof Ge.K?le.E:(0,et._)(Te)))}(J,T,D,M).pipe((0,Ht.U)(Te=>(T._resolvedData=Te,T.data=ut(T,I).resolve,B&&Ga(B)&&(T.data[ja]=B.title),null)))}(Te.route,M,T,D)),(0,Dn.b)(()=>J++),At(1),(0,se.zg)(Te=>J===B.length?(0,Ae.of)(I):le.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Dn.b)({next:()=>Be=!0,complete:()=>{Be||(this.restoreHistory(xt),this.cancelNavigationTransition(xt,"At least one route resolver didn't emit any value."))}}))}),(0,Dn.b)(xt=>{const Be=new Lr(xt.id,this.serializeUrl(xt.extractedUrl),this.serializeUrl(xt.urlAfterRedirects),xt.targetSnapshot);this.triggerEvent(Be)}))}),Bs(()=>this.afterPreactivation()),Bs(ze=>{const xt=Be=>{const nr=[];Be.routeConfig?.loadComponent&&!Be.routeConfig._loadedComponent&&nr.push(this.configLoader.loadComponent(Be.routeConfig).pipe((0,Dn.b)(dn=>{Be.component=dn}),(0,Ht.U)(()=>{})));for(const dn of Be.children)nr.push(...xt(dn));return nr};return G(xt(ze.targetSnapshot.root)).pipe((0,De.d)(),(0,Ar.q)(1))}),(0,Ht.U)(ze=>{const xt=function Ds(T,D,I){const M=yi(T,D._root,I?I._root:void 0);return new yr(M,D)}(this.routeReuseStrategy,ze.targetSnapshot,ze.currentRouterState);return{...ze,targetRouterState:xt}}),(0,Dn.b)(ze=>{this.currentUrlTree=ze.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(ze.urlAfterRedirects,ze.rawUrl),this.routerState=ze.targetRouterState,"deferred"===this.urlUpdateStrategy&&(ze.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,ze),this.browserUrlTree=ze.urlAfterRedirects)}),((T,D,I)=>(0,Ht.U)(M=>(new Cr(D,M.targetRouterState,M.currentRouterState,I).activate(T),M)))(this.rootContexts,this.routeReuseStrategy,ze=>this.triggerEvent(ze)),(0,Dn.b)({next(){J=!0},complete(){J=!0}}),tn(()=>{J||Te||this.cancelNavigationTransition(B,`Navigation ID ${B.id} is not equal to the current navigation id ${this.navigationId}`),this.currentNavigation?.id===B.id&&(this.currentNavigation=null)}),_e(ze=>{if(Te=!0,function un(T){return T&&T[Mt]}(ze)){const xt=$n(ze.url);xt||(this.navigated=!0,this.restoreHistory(B,!0));const Be=new mr(B.id,this.serializeUrl(B.extractedUrl),ze.message);if(M.next(Be),xt){const nr=this.urlHandlingStrategy.merge(ze.url,this.rawUrlTree),dn={skipLocationChange:B.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ys(B.source)};this.scheduleNavigation(nr,"imperative",null,dn,{resolve:B.resolve,reject:B.reject,promise:B.promise})}else B.resolve(!1)}else{this.restoreHistory(B,!0);const xt=new Bt(B.id,this.serializeUrl(B.extractedUrl),ze);M.next(xt);try{B.resolve(this.errorHandler(ze))}catch(Be){B.reject(Be)}}return le.E}))}))}resetRootComponentType(I){this.rootComponentType=I,this.routerState.root.component=this.rootComponentType}setTransition(I){this.transitions.next({...this.transitions.value,...I})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(I=>{const M="popstate"===I.type?"popstate":"hashchange";"popstate"===M&&setTimeout(()=>{const B={replaceUrl:!0},J=I.state?.navigationId?I.state:null;if(J){const ze={...J};delete ze.navigationId,delete ze.\u0275routerPageId,0!==Object.keys(ze).length&&(B.state=ze)}const Te=this.parseUrl(I.url);this.scheduleNavigation(Te,M,J,B)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(I){this.events.next(I)}resetConfig(I){this.config=I.map(pt),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(I,M={}){const{relativeTo:B,queryParams:J,fragment:Te,queryParamsHandling:ze,preserveFragment:xt}=M,Be=B||this.routerState.root,nr=xt?this.currentUrlTree.fragment:Te;let dn=null;switch(ze){case"merge":dn={...this.currentUrlTree.queryParams,...J};break;case"preserve":dn=this.currentUrlTree.queryParams;break;default:dn=J||null}return null!==dn&&(dn=this.removeEmptyProps(dn)),function Fs(T,D,I,M,B){if(0===I.length)return Wi(D.root,D.root,D.root,M,B);const J=function ns(T){if("string"==typeof T[0]&&1===T.length&&"/"===T[0])return new ki(!0,0,T);let D=0,I=!1;const M=T.reduce((B,J,Te)=>{if("object"==typeof J&&null!=J){if(J.outlets){const ze={};return er(J.outlets,(xt,Be)=>{ze[Be]="string"==typeof xt?xt.split("/"):xt}),[...B,{outlets:ze}]}if(J.segmentPath)return[...B,J.segmentPath]}return"string"!=typeof J?[...B,J]:0===Te?(J.split("/").forEach((ze,xt)=>{0==xt&&"."===ze||(0==xt&&""===ze?I=!0:".."===ze?D++:""!=ze&&B.push(ze))}),B):[...B,J]},[]);return new ki(I,D,M)}(I);return J.toRoot()?Wi(D.root,D.root,new Zt([],{}),M,B):function Te(xt){const Be=function _s(T,D,I,M){return T.isAbsolute?new vi(D.root,!0,0):-1===M?new vi(I,I===D.root,0):function us(T,D,I){let M=T,B=D,J=I;for(;J>B;){if(J-=B,M=M.parent,!M)throw new Error("Invalid number of '../'");B=M.segments.length}return new vi(M,!1,B-J)}(I,M+(Oi(T.commands[0])?0:1),T.numberOfDoubleDots)}(J,D,T.snapshot?._urlSegment,xt),nr=Be.processChildren?ci(Be.segmentGroup,Be.index,J.commands):Ls(Be.segmentGroup,Be.index,J.commands);return Wi(D.root,Be.segmentGroup,nr,M,B)}(T.snapshot?._lastPathIndex)}(Be,this.currentUrlTree,I,dn,nr??null)}navigateByUrl(I,M={skipLocationChange:!1}){const B=$n(I)?I:this.parseUrl(I),J=this.urlHandlingStrategy.merge(B,this.rawUrlTree);return this.scheduleNavigation(J,"imperative",null,M)}navigate(I,M={skipLocationChange:!1}){return function Vi(T){for(let D=0;D<T.length;D++){const I=T[D];if(null==I)throw new Error(`The requested path contains ${I} segment at index ${D}`)}}(I),this.navigateByUrl(this.createUrlTree(I,M),M)}serializeUrl(I){return this.urlSerializer.serialize(I)}parseUrl(I){let M;try{M=this.urlSerializer.parse(I)}catch(B){M=this.malformedUriErrorHandler(B,this.urlSerializer,I)}return M}isActive(I,M){let B;if(B=!0===M?{...So}:!1===M?{...jo}:M,$n(I))return Oe(this.currentUrlTree,I,B);const J=this.parseUrl(I);return Oe(this.currentUrlTree,J,B)}removeEmptyProps(I){return Object.keys(I).reduce((M,B)=>{const J=I[B];return null!=J&&(M[B]=J),M},{})}processNavigations(){this.navigations.subscribe(I=>{this.navigated=!0,this.lastSuccessfulId=I.id,this.currentPageId=I.targetPageId,this.events.next(new bn(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),I.resolve(!0)},I=>{this.console.warn(`Unhandled Navigation Error: ${I}`)})}scheduleNavigation(I,M,B,J,Te){if(this.disposed)return Promise.resolve(!1);let ze,xt,Be;Te?(ze=Te.resolve,xt=Te.reject,Be=Te.promise):Be=new Promise((zr,sr)=>{ze=zr,xt=sr});const nr=++this.navigationId;let dn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(B=this.location.getState()),dn=B&&B.\u0275routerPageId?B.\u0275routerPageId:J.replaceUrl||J.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):dn=0,this.setTransition({id:nr,targetPageId:dn,source:M,restoredState:B,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:I,extras:J,resolve:ze,reject:xt,promise:Be,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Be.catch(zr=>Promise.reject(zr))}setBrowserUrl(I,M){const B=this.urlSerializer.serialize(I),J={...M.extras.state,...this.generateNgRouterState(M.id,M.targetPageId)};this.location.isCurrentPathEqualTo(B)||M.extras.replaceUrl?this.location.replaceState(B,"",J):this.location.go(B,"",J)}restoreHistory(I,M=!1){if("computed"===this.canceledNavigationResolution){const B=this.currentPageId-I.targetPageId;"popstate"!==I.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===B?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===B&&(this.resetState(I),this.browserUrlTree=I.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(B)}else"replace"===this.canceledNavigationResolution&&(M&&this.resetState(I),this.resetUrlToCurrentUrlTree())}resetState(I){this.routerState=I.currentRouterState,this.currentUrlTree=I.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,I.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(I,M){const B=new mr(I.id,this.serializeUrl(I.extractedUrl),M);this.triggerEvent(B),I.resolve(!1)}generateNgRouterState(I,M){return"computed"===this.canceledNavigationResolution?{navigationId:I,\u0275routerPageId:M}:{navigationId:I}}}return T.\u0275fac=function(I){L.$Z()},T.\u0275prov=L.Yz7({token:T,factory:T.\u0275fac}),T})();function Ys(T){return"imperative"!==T}let Qs=(()=>{class T{constructor(I,M,B,J,Te){this.router=I,this.route=M,this.tabIndexAttribute=B,this.renderer=J,this.el=Te,this.commands=null,this.onChanges=new ot.xQ,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(I){if(null!=this.tabIndexAttribute)return;const M=this.renderer,B=this.el.nativeElement;null!==I?M.setAttribute(B,"tabindex",I):M.removeAttribute(B,"tabindex")}ngOnChanges(I){this.onChanges.next(this)}set routerLink(I){null!=I?(this.commands=Array.isArray(I)?I:[I],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const I={skipLocationChange:(0,L.D6c)(this.skipLocationChange),replaceUrl:(0,L.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,I),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,L.D6c)(this.preserveFragment)})}}return T.\u0275fac=function(I){return new(I||T)(L.Y36(ji),L.Y36(Ue),L.$8M("tabindex"),L.Y36(L.Qsj),L.Y36(L.SBq))},T.\u0275dir=L.lG2({type:T,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(I,M){1&I&&L.NdJ("click",function(){return M.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[L.TTD]}),T})();class Ei{buildTitle(D){let I,M=D.root;for(;void 0!==M;)I=this.getResolvedTitleForRoute(M)??I,M=M.children.find(B=>B.outlet===Le);return I}getResolvedTitleForRoute(D){return D.data[ja]}}let oo=(()=>{class T extends Ei{constructor(I){super(),this.title=I}updateTitle(I){const M=this.buildTitle(I);void 0!==M&&this.title.setTitle(M)}}return T.\u0275fac=function(I){return new(I||T)(L.LFG(Vn.Dx))},T.\u0275prov=L.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();class ws{}let wn=(()=>{class T{preload(I,M){return M().pipe(_e(()=>(0,Ae.of)(null)))}}return T.\u0275fac=function(I){return new(I||T)},T.\u0275prov=L.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})(),oa=(()=>{class T{constructor(I,M,B,J,Te){this.router=I,this.injector=B,this.preloadingStrategy=J,this.loader=Te}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ne.h)(I=>I instanceof bn),Me(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(I,M){const B=[];for(const J of M){J.providers&&!J._injector&&(J._injector=(0,L.MMx)(J.providers,I,`Route: ${J.path}`));const Te=J._injector??I,ze=J._loadedInjector??Te;J.loadChildren&&!J._loadedRoutes||J.loadComponent&&!J._loadedComponent?B.push(this.preloadConfig(Te,J)):(J.children||J._loadedRoutes)&&B.push(this.processRoutes(ze,J.children??J._loadedRoutes))}return(0,ue.D)(B).pipe((0,zn.J)())}preloadConfig(I,M){return this.preloadingStrategy.preload(M,()=>{let B;B=M.loadChildren&&void 0===M.canLoad?this.loader.loadChildren(I,M):(0,Ae.of)(null);const J=B.pipe((0,se.zg)(Te=>null===Te?(0,Ae.of)(void 0):(M._loadedRoutes=Te.routes,M._loadedInjector=Te.injector,this.processRoutes(Te.injector??I,Te.routes))));if(M.loadComponent&&!M._loadedComponent){const Te=this.loader.loadComponent(M);return(0,ue.D)([J,Te]).pipe((0,zn.J)())}return J})}}return T.\u0275fac=function(I){return new(I||T)(L.LFG(ji),L.LFG(L.Sil),L.LFG(L.lqb),L.LFG(ws),L.LFG(so))},T.\u0275prov=L.Yz7({token:T,factory:T.\u0275fac}),T})();const en=new L.OlP("");let wt=(()=>{class T{constructor(I,M,B={}){this.router=I,this.viewportScroller=M,this.options=B,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},B.scrollPositionRestoration=B.scrollPositionRestoration||"disabled",B.anchorScrolling=B.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(I=>{I instanceof or?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=I.navigationTrigger,this.restoredId=I.restoredState?I.restoredState.navigationId:0):I instanceof bn&&(this.lastId=I.id,this.scheduleScrollEvent(I,this.router.parseUrl(I.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(I=>{I instanceof Ce&&(I.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(I.position):I.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(I.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(I,M){this.router.triggerEvent(new Ce(I,"popstate"===this.lastSource?this.store[this.restoredId]:null,M))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return T.\u0275fac=function(I){L.$Z()},T.\u0275prov=L.Yz7({token:T,factory:T.\u0275fac}),T})();const aa=new L.OlP("ROUTER_CONFIGURATION",{providedIn:"root",factory:()=>({})}),Pu=new L.OlP("ROUTER_FORROOT_GUARD"),ku=new L.OlP(""),Ho=[l.Ye,{provide:Rr,useClass:ui},{provide:ji,useFactory:function gr(T,D,I,M,B,J,Te={},ze,xt,Be,nr){const dn=new ji(null,T,D,I,M,B,ar(J));return Be&&(dn.urlHandlingStrategy=Be),nr&&(dn.routeReuseStrategy=nr),dn.titleStrategy=xt??ze,function Us(T,D){T.errorHandler&&(D.errorHandler=T.errorHandler),T.malformedUriErrorHandler&&(D.malformedUriErrorHandler=T.malformedUriErrorHandler),T.onSameUrlNavigation&&(D.onSameUrlNavigation=T.onSameUrlNavigation),T.paramsInheritanceStrategy&&(D.paramsInheritanceStrategy=T.paramsInheritanceStrategy),T.relativeLinkResolution&&(D.relativeLinkResolution=T.relativeLinkResolution),T.urlUpdateStrategy&&(D.urlUpdateStrategy=T.urlUpdateStrategy),T.canceledNavigationResolution&&(D.canceledNavigationResolution=T.canceledNavigationResolution)}(Te,dn),dn},deps:[Rr,$i,l.Ye,L.zs3,L.Sil,za,aa,oo,[Ei,new L.FiY],[class Wa{},new L.FiY],[is,new L.FiY]]},$i,{provide:Ue,useFactory:function Za(T){return T.routerState.root},deps:[ji]},so];function Ya(){return new L.PXZ("Router",ji)}let Nu=(()=>{class T{constructor(I,M){}static forRoot(I,M){return{ngModule:T,providers:[Ho,[],Go(I),{provide:Pu,useFactory:Fu,deps:[[ji,new L.FiY,new L.tp0]]},{provide:aa,useValue:M||{}},M?.useHash?{provide:l.S$,useClass:l.Do}:{provide:l.S$,useClass:l.b0},{provide:en,useFactory:()=>{const T=(0,L.f3M)(ji),D=(0,L.f3M)(l.EM),I=(0,L.f3M)(aa);return I.scrollOffset&&D.setOffset(I.scrollOffset),new wt(T,D,I)}},M?.preloadingStrategy?eo(M.preloadingStrategy):[],{provide:L.PXZ,multi:!0,useFactory:Ya},M?.initialNavigation?zo(M):[],[{provide:Un,useFactory:ii},{provide:L.tb,multi:!0,useExisting:Un}]]}}static forChild(I){return{ngModule:T,providers:[Go(I)]}}}return T.\u0275fac=function(I){return new(I||T)(L.LFG(Pu,8),L.LFG(ji,8))},T.\u0275mod=L.oAB({type:T}),T.\u0275inj=L.cJS({}),T})();function Fu(T){return"guarded"}function Go(T){return[{provide:L.deG,multi:!0,useValue:T},{provide:za,multi:!0,useValue:T}]}function ii(){const T=(0,L.f3M)(L.zs3);return D=>{const I=T.get(L.z2F);if(D!==I.components[0])return;const M=T.get(ji),B=T.get(du);null===T.get(Xt,null,L.XFs.Optional)&&M.initialNavigation(),T.get(ku,null,L.XFs.Optional)?.setUpPreloading(),T.get(en,null,L.XFs.Optional)?.init(),M.resetRootComponentType(I.componentTypes[0]),B.next(),B.complete()}}const Un=new L.OlP("");function zo(T){return["disabled"===T.initialNavigation?[{provide:L.ip1,multi:!0,useFactory:()=>{const T=(0,L.f3M)(ji);return()=>{T.setUpLocationChangeListener()}}},{provide:Xt,useValue:"disabled"}]:[],"enabledBlocking"===T.initialNavigation?[{provide:Xt,useValue:"enabledBlocking"},{provide:L.ip1,multi:!0,deps:[L.zs3],useFactory:T=>{const D=T.get(l.V_,Promise.resolve(null));let I=!1;return()=>D.then(()=>new Promise(M=>{const B=T.get(ji),J=T.get(du);B.afterPreactivation=()=>I?(0,Ae.of)(void 0):(I=!0,M(!0),J),B.initialNavigation()}))}}]:[]]}const du=new L.OlP("",{factory:()=>new ot.xQ}),Xt=new L.OlP("");function eo(T){return[oa,{provide:ku,useExisting:oa},{provide:ws,useExisting:T}]}},3942:(zt,st,k)=>{"use strict";k.d(st,{Z:()=>Ke});var l=k(2090),L=k(4859),U=k(9681),Ie=k(1877);class be{constructor(le,Se){this._delegate=le,this.firebase=Se,(0,U._addComponent)(le,new L.wA("app-compat",()=>this,"PUBLIC")),this.container=le.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(le){this._delegate.automaticDataCollectionEnabled=le}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(le=>{this._delegate.checkDestroyed(),le()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,U.deleteApp)(this._delegate)))}_getService(le,Se=U._DEFAULT_ENTRY_NAME){var Ae;this._delegate.checkDestroyed();const z=this._delegate.container.getProvider(le);return!z.isInitialized()&&"EXPLICIT"===(null===(Ae=z.getComponent())||void 0===Ae?void 0:Ae.instantiationMode)&&z.initialize(),z.getImmediate({identifier:Se})}_removeServiceInstance(le,Se=U._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(le).clearInstance(Se)}_addComponent(le){(0,U._addComponent)(this._delegate,le)}_addOrOverwriteComponent(le){(0,U._addOrOverwriteComponent)(this._delegate,le)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ge=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Q=function ae(){const ue=function we(ue){const le={},Se={__esModule:!0,initializeApp:function et(ot,fe={}){const _e=U.initializeApp(ot,fe);if((0,l.r3)(le,_e.name))return le[_e.name];const ce=new ue(_e,Se);return le[_e.name]=ce,ce},app:z,registerVersion:U.registerVersion,setLogLevel:U.setLogLevel,onLog:U.onLog,apps:null,SDK_VERSION:U.SDK_VERSION,INTERNAL:{registerComponent:function lt(ot){const fe=ot.name,_e=fe.replace("-compat","");if(U._registerComponent(ot)&&"PUBLIC"===ot.type){const ce=(ee=z())=>{if("function"!=typeof ee[_e])throw ge.create("invalid-app-argument",{appName:fe});return ee[_e]()};void 0!==ot.serviceProps&&(0,l.ZB)(ce,ot.serviceProps),Se[_e]=ce,ue.prototype[_e]=function(...ee){return this._getService.bind(this,fe).apply(this,ot.multipleInstances?ee:[])}}return"PUBLIC"===ot.type?Se[_e]:null},removeApp:function Ae(ot){delete le[ot]},useAsService:function ke(ot,fe){return"serverAuth"===fe?null:fe},modularAPIs:U}};function z(ot){if(!(0,l.r3)(le,ot=ot||U._DEFAULT_ENTRY_NAME))throw ge.create("no-app",{appName:ot});return le[ot]}return Se.default=Se,Object.defineProperty(Se,"apps",{get:function Ge(){return Object.keys(le).map(ot=>le[ot])}}),z.App=ue,Se}(be);return ue.INTERNAL=Object.assign(Object.assign({},ue.INTERNAL),{createFirebaseNamespace:ae,extendNamespace:function le(Se){(0,l.ZB)(ue,Se)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),ue}(),X=new Ie.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){X.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ue=self.firebase.SDK_VERSION;ue&&ue.indexOf("LITE")>=0&&X.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ke=Q;!function Re(ue){(0,U.registerVersion)("@firebase/app-compat","0.1.28",ue)}()},9681:(zt,st,k)=>{"use strict";k.r(st),k.d(st,{FirebaseError:()=>Ie.ZR,SDK_VERSION:()=>_n,_DEFAULT_ENTRY_NAME:()=>ct,_addComponent:()=>me,_addOrOverwriteComponent:()=>at,_apps:()=>De,_clearComponents:()=>tn,_components:()=>qe,_getProvider:()=>gt,_registerComponent:()=>Ct,_removeServiceInstance:()=>kt,deleteApp:()=>gn,getApp:()=>jn,getApps:()=>Qn,initializeApp:()=>Ar,onLog:()=>zn,registerVersion:()=>An,setLogLevel:()=>Vn});var l=k(5861),L=k(4859),U=k(1877),Ie=k(2090),be=k(8766);class re{constructor(Ee){this.container=Ee}getPlatformInfoString(){return this.container.getProviders().map(yt=>{if(function ge(Le){return"VERSION"===Le.getComponent()?.type}(yt)){const Mt=yt.getImmediate();return`${Mt.library}/${Mt.version}`}return null}).filter(yt=>yt).join(" ")}}const we="@firebase/app",Q=new U.Yd("@firebase/app"),ct="[DEFAULT]",We={[we]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},De=new Map,qe=new Map;function me(Le,Ee){try{Le.container.addComponent(Ee)}catch(yt){Q.debug(`Component ${Ee.name} failed to register with FirebaseApp ${Le.name}`,yt)}}function at(Le,Ee){Le.container.addOrOverwriteComponent(Ee)}function Ct(Le){const Ee=Le.name;if(qe.has(Ee))return Q.debug(`There were multiple attempts to register component ${Ee}.`),!1;qe.set(Ee,Le);for(const yt of De.values())me(yt,Le);return!0}function gt(Le,Ee){const yt=Le.container.getProvider("heartbeat").getImmediate({optional:!0});return yt&&yt.triggerHeartbeat(),Le.container.getProvider(Ee)}function kt(Le,Ee,yt=ct){gt(Le,Ee).clearInstance(yt)}function tn(){qe.clear()}const xn=new Ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Ht{constructor(Ee,yt,Mt){this._isDeleted=!1,this._options=Object.assign({},Ee),this._config=Object.assign({},yt),this._name=yt.name,this._automaticDataCollectionEnabled=yt.automaticDataCollectionEnabled,this._container=Mt,this.container.addComponent(new L.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ee){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ee}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ee){this._isDeleted=Ee}checkDestroyed(){if(this.isDeleted)throw xn.create("app-deleted",{appName:this._name})}}const _n="9.8.4";function Ar(Le,Ee={}){"object"!=typeof Ee&&(Ee={name:Ee});const yt=Object.assign({name:ct,automaticDataCollectionEnabled:!1},Ee),Mt=yt.name;if("string"!=typeof Mt||!Mt)throw xn.create("bad-app-name",{appName:String(Mt)});const $t=De.get(Mt);if($t){if((0,Ie.vZ)(Le,$t.options)&&(0,Ie.vZ)(yt,$t.config))return $t;throw xn.create("duplicate-app",{appName:Mt})}const un=new L.H0(Mt);for(const Ln of qe.values())un.addComponent(Ln);const Fn=new Ht(Le,yt,un);return De.set(Mt,Fn),Fn}function jn(Le=ct){const Ee=De.get(Le);if(!Ee)throw xn.create("no-app",{appName:Le});return Ee}function Qn(){return Array.from(De.values())}function gn(Le){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,l.Z)(function*(Le){const Ee=Le.name;De.has(Ee)&&(De.delete(Ee),yield Promise.all(Le.container.getProviders().map(yt=>yt.delete())),Le.isDeleted=!0)})).apply(this,arguments)}function An(Le,Ee,yt){var Mt;let $t=null!==(Mt=We[Le])&&void 0!==Mt?Mt:Le;yt&&($t+=`-${yt}`);const un=$t.match(/\s|\//),Fn=Ee.match(/\s|\//);if(un||Fn){const Ln=[`Unable to register library "${$t}" with version "${Ee}":`];return un&&Ln.push(`library name "${$t}" contains illegal characters (whitespace or "/")`),un&&Fn&&Ln.push("and"),Fn&&Ln.push(`version name "${Ee}" contains illegal characters (whitespace or "/")`),void Q.warn(Ln.join(" "))}Ct(new L.wA(`${$t}-version`,()=>({library:$t,version:Ee}),"VERSION"))}function zn(Le,Ee){if(null!==Le&&"function"!=typeof Le)throw xn.create("invalid-log-argument");(0,U.Am)(Le,Ee)}function Vn(Le){(0,U.Ub)(Le)}const bn="firebase-heartbeat-store";let mr=null;function Bt(){return mr||(mr=(0,be.X3)("firebase-heartbeat-database",1,{upgrade:(Le,Ee)=>{0===Ee&&Le.createObjectStore(bn)}}).catch(Le=>{throw xn.create("storage-open",{originalErrorMessage:Le.message})})),mr}function Kt(){return(Kt=(0,l.Z)(function*(Le){var Ee;try{return(yield Bt()).transaction(bn).objectStore(bn).get(Lr(Le))}catch(yt){throw xn.create("storage-get",{originalErrorMessage:null===(Ee=yt)||void 0===Ee?void 0:Ee.message})}})).apply(this,arguments)}function sn(Le,Ee){return Er.apply(this,arguments)}function Er(){return(Er=(0,l.Z)(function*(Le,Ee){var yt;try{const $t=(yield Bt()).transaction(bn,"readwrite");return yield $t.objectStore(bn).put(Ee,Lr(Le)),$t.done}catch(Mt){throw xn.create("storage-set",{originalErrorMessage:null===(yt=Mt)||void 0===yt?void 0:yt.message})}})).apply(this,arguments)}function Lr(Le){return`${Le.name}!${Le.options.appId}`}class hr{constructor(Ee){this.container=Ee,this._heartbeatsCache=null;const yt=this.container.getProvider("app").getImmediate();this._storage=new Fe(yt),this._heartbeatsCachePromise=this._storage.read().then(Mt=>(this._heartbeatsCache=Mt,Mt))}triggerHeartbeat(){var Ee=this;return(0,l.Z)(function*(){const Mt=Ee.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),$t=Pr();if(null===Ee._heartbeatsCache&&(Ee._heartbeatsCache=yield Ee._heartbeatsCachePromise),Ee._heartbeatsCache.lastSentHeartbeatDate!==$t&&!Ee._heartbeatsCache.heartbeats.some(un=>un.date===$t))return Ee._heartbeatsCache.heartbeats.push({date:$t,agent:Mt}),Ee._heartbeatsCache.heartbeats=Ee._heartbeatsCache.heartbeats.filter(un=>{const Fn=new Date(un.date).valueOf();return Date.now()-Fn<=2592e6}),Ee._storage.overwrite(Ee._heartbeatsCache)})()}getHeartbeatsHeader(){var Ee=this;return(0,l.Z)(function*(){if(null===Ee._heartbeatsCache&&(yield Ee._heartbeatsCachePromise),null===Ee._heartbeatsCache||0===Ee._heartbeatsCache.heartbeats.length)return"";const yt=Pr(),{heartbeatsToSend:Mt,unsentEntries:$t}=function Nn(Le,Ee=1024){const yt=[];let Mt=Le.slice();for(const $t of Le){const un=yt.find(Fn=>Fn.agent===$t.agent);if(un){if(un.dates.push($t.date),Ce(yt)>Ee){un.dates.pop();break}}else if(yt.push({agent:$t.agent,dates:[$t.date]}),Ce(yt)>Ee){yt.pop();break}Mt=Mt.slice(1)}return{heartbeatsToSend:yt,unsentEntries:Mt}}(Ee._heartbeatsCache.heartbeats),un=(0,Ie.L)(JSON.stringify({version:2,heartbeats:Mt}));return Ee._heartbeatsCache.lastSentHeartbeatDate=yt,$t.length>0?(Ee._heartbeatsCache.heartbeats=$t,yield Ee._storage.overwrite(Ee._heartbeatsCache)):(Ee._heartbeatsCache.heartbeats=[],Ee._storage.overwrite(Ee._heartbeatsCache)),un})()}}function Pr(){return(new Date).toISOString().substring(0,10)}class Fe{constructor(Ee){this.app=Ee,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,Ie.hl)()&&(0,Ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ee=this;return(0,l.Z)(function*(){return(yield Ee._canUseIndexedDBPromise)&&(yield function Wn(Le){return Kt.apply(this,arguments)}(Ee.app))||{heartbeats:[]}})()}overwrite(Ee){var yt=this;return(0,l.Z)(function*(){var Mt;if(yield yt._canUseIndexedDBPromise){const un=yield yt.read();return sn(yt.app,{lastSentHeartbeatDate:null!==(Mt=Ee.lastSentHeartbeatDate)&&void 0!==Mt?Mt:un.lastSentHeartbeatDate,heartbeats:Ee.heartbeats})}})()}add(Ee){var yt=this;return(0,l.Z)(function*(){var Mt;if(yield yt._canUseIndexedDBPromise){const un=yield yt.read();return sn(yt.app,{lastSentHeartbeatDate:null!==(Mt=Ee.lastSentHeartbeatDate)&&void 0!==Mt?Mt:un.lastSentHeartbeatDate,heartbeats:[...un.heartbeats,...Ee.heartbeats]})}})()}}function Ce(Le){return(0,Ie.L)(JSON.stringify({version:2,heartbeats:Le})).length}!function Je(Le){Ct(new L.wA("platform-logger",Ee=>new re(Ee),"PRIVATE")),Ct(new L.wA("heartbeat",Ee=>new hr(Ee),"PRIVATE")),An(we,"0.7.27",Le),An(we,"0.7.27","esm2017"),An("fire-js","")}("")},4859:(zt,st,k)=>{"use strict";k.d(st,{H0:()=>we,wA:()=>U});var l=k(5861),L=k(2090);class U{constructor(Q,X,te){this.name=Q,this.instanceFactory=X,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Q){return this.instantiationMode=Q,this}setMultipleInstances(Q){return this.multipleInstances=Q,this}setServiceProps(Q){return this.serviceProps=Q,this}setInstanceCreatedCallback(Q){return this.onInstanceCreated=Q,this}}const Ie="[DEFAULT]";class be{constructor(Q,X){this.name=Q,this.container=X,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Q){const X=this.normalizeInstanceIdentifier(Q);if(!this.instancesDeferred.has(X)){const te=new L.BH;if(this.instancesDeferred.set(X,te),this.isInitialized(X)||this.shouldAutoInitialize())try{const G=this.getOrInitializeService({instanceIdentifier:X});G&&te.resolve(G)}catch{}}return this.instancesDeferred.get(X).promise}getImmediate(Q){var X;const te=this.normalizeInstanceIdentifier(Q?.identifier),G=null!==(X=Q?.optional)&&void 0!==X&&X;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if(G)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:te})}catch(Re){if(G)return null;throw Re}}getComponent(){return this.component}setComponent(Q){if(Q.name!==this.name)throw Error(`Mismatching Component ${Q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Q,this.shouldAutoInitialize()){if(function ge(ae){return"EAGER"===ae.instantiationMode}(Q))try{this.getOrInitializeService({instanceIdentifier:Ie})}catch{}for(const[X,te]of this.instancesDeferred.entries()){const G=this.normalizeInstanceIdentifier(X);try{const Re=this.getOrInitializeService({instanceIdentifier:G});te.resolve(Re)}catch{}}}}clearInstance(Q=Ie){this.instancesDeferred.delete(Q),this.instancesOptions.delete(Q),this.instances.delete(Q)}delete(){var Q=this;return(0,l.Z)(function*(){const X=Array.from(Q.instances.values());yield Promise.all([...X.filter(te=>"INTERNAL"in te).map(te=>te.INTERNAL.delete()),...X.filter(te=>"_delete"in te).map(te=>te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Q=Ie){return this.instances.has(Q)}getOptions(Q=Ie){return this.instancesOptions.get(Q)||{}}initialize(Q={}){const{options:X={}}=Q,te=this.normalizeInstanceIdentifier(Q.instanceIdentifier);if(this.isInitialized(te))throw Error(`${this.name}(${te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const G=this.getOrInitializeService({instanceIdentifier:te,options:X});for(const[Re,Ke]of this.instancesDeferred.entries())te===this.normalizeInstanceIdentifier(Re)&&Ke.resolve(G);return G}onInit(Q,X){var te;const G=this.normalizeInstanceIdentifier(X),Re=null!==(te=this.onInitCallbacks.get(G))&&void 0!==te?te:new Set;Re.add(Q),this.onInitCallbacks.set(G,Re);const Ke=this.instances.get(G);return Ke&&Q(Ke,G),()=>{Re.delete(Q)}}invokeOnInitCallbacks(Q,X){const te=this.onInitCallbacks.get(X);if(te)for(const G of te)try{G(Q,X)}catch{}}getOrInitializeService({instanceIdentifier:Q,options:X={}}){let te=this.instances.get(Q);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(ae=Q,ae===Ie?void 0:ae),options:X}),this.instances.set(Q,te),this.instancesOptions.set(Q,X),this.invokeOnInitCallbacks(te,Q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Q,te)}catch{}var ae;return te||null}normalizeInstanceIdentifier(Q=Ie){return this.component?this.component.multipleInstances?Q:Ie:Q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class we{constructor(Q){this.name=Q,this.providers=new Map}addComponent(Q){const X=this.getProvider(Q.name);if(X.isComponentSet())throw new Error(`Component ${Q.name} has already been registered with ${this.name}`);X.setComponent(Q)}addOrOverwriteComponent(Q){this.getProvider(Q.name).isComponentSet()&&this.providers.delete(Q.name),this.addComponent(Q)}getProvider(Q){if(this.providers.has(Q))return this.providers.get(Q);const X=new be(Q,this);return this.providers.set(Q,X),X}getProviders(){return Array.from(this.providers.values())}}},1877:(zt,st,k)=>{"use strict";k.d(st,{Am:()=>ae,Ub:()=>we,Yd:()=>ge,in:()=>L});const l=[];var L=(()=>{return(Q=L||(L={}))[Q.DEBUG=0]="DEBUG",Q[Q.VERBOSE=1]="VERBOSE",Q[Q.INFO=2]="INFO",Q[Q.WARN=3]="WARN",Q[Q.ERROR=4]="ERROR",Q[Q.SILENT=5]="SILENT",L;var Q})();const U={debug:L.DEBUG,verbose:L.VERBOSE,info:L.INFO,warn:L.WARN,error:L.ERROR,silent:L.SILENT},Ie=L.INFO,be={[L.DEBUG]:"log",[L.VERBOSE]:"log",[L.INFO]:"info",[L.WARN]:"warn",[L.ERROR]:"error"},re=(Q,X,...te)=>{if(X<Q.logLevel)return;const G=(new Date).toISOString(),Re=be[X];if(!Re)throw new Error(`Attempted to log a message with an invalid logType (value: ${X})`);console[Re](`[${G}]  ${Q.name}:`,...te)};class ge{constructor(X){this.name=X,this._logLevel=Ie,this._logHandler=re,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(X){if(!(X in L))throw new TypeError(`Invalid value "${X}" assigned to \`logLevel\``);this._logLevel=X}setLogLevel(X){this._logLevel="string"==typeof X?U[X]:X}get logHandler(){return this._logHandler}set logHandler(X){if("function"!=typeof X)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=X}get userLogHandler(){return this._userLogHandler}set userLogHandler(X){this._userLogHandler=X}debug(...X){this._userLogHandler&&this._userLogHandler(this,L.DEBUG,...X),this._logHandler(this,L.DEBUG,...X)}log(...X){this._userLogHandler&&this._userLogHandler(this,L.VERBOSE,...X),this._logHandler(this,L.VERBOSE,...X)}info(...X){this._userLogHandler&&this._userLogHandler(this,L.INFO,...X),this._logHandler(this,L.INFO,...X)}warn(...X){this._userLogHandler&&this._userLogHandler(this,L.WARN,...X),this._logHandler(this,L.WARN,...X)}error(...X){this._userLogHandler&&this._userLogHandler(this,L.ERROR,...X),this._logHandler(this,L.ERROR,...X)}}function we(Q){l.forEach(X=>{X.setLogLevel(Q)})}function ae(Q,X){for(const te of l){let G=null;X&&X.level&&(G=U[X.level]),te.userLogHandler=null===Q?null:(Re,Ke,...ue)=>{const le=ue.map(Se=>{if(null==Se)return null;if("string"==typeof Se)return Se;if("number"==typeof Se||"boolean"==typeof Se)return Se.toString();if(Se instanceof Error)return Se.message;try{return JSON.stringify(Se)}catch{return null}}).filter(Se=>Se).join(" ");Ke>=(G??Re.logLevel)&&Q({level:L[Ke].toLowerCase(),message:le,args:ue,type:Re.name})}}}},8766:(zt,st,k)=>{"use strict";k.d(st,{Lj:()=>et,X3:()=>z});var l=k(5861);let U,Ie;const ge=new WeakMap,we=new WeakMap,ae=new WeakMap,Q=new WeakMap,X=new WeakMap;let Re={get(fe,_e,ce){if(fe instanceof IDBTransaction){if("done"===_e)return we.get(fe);if("objectStoreNames"===_e)return fe.objectStoreNames||ae.get(fe);if("store"===_e)return ce.objectStoreNames[1]?void 0:ce.objectStore(ce.objectStoreNames[0])}return Se(fe[_e])},set:(fe,_e,ce)=>(fe[_e]=ce,!0),has:(fe,_e)=>fe instanceof IDBTransaction&&("done"===_e||"store"===_e)||_e in fe};function le(fe){return"function"==typeof fe?function ue(fe){return fe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function re(){return Ie||(Ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(fe)?function(..._e){return fe.apply(Ae(this),_e),Se(ge.get(this))}:function(..._e){return Se(fe.apply(Ae(this),_e))}:function(_e,...ce){const ee=fe.call(Ae(this),_e,...ce);return ae.set(ee,_e.sort?_e.sort():[_e]),Se(ee)}}(fe):(fe instanceof IDBTransaction&&function G(fe){if(we.has(fe))return;const _e=new Promise((ce,ee)=>{const se=()=>{fe.removeEventListener("complete",Me),fe.removeEventListener("error",Ne),fe.removeEventListener("abort",Ne)},Me=()=>{ce(),se()},Ne=()=>{ee(fe.error||new DOMException("AbortError","AbortError")),se()};fe.addEventListener("complete",Me),fe.addEventListener("error",Ne),fe.addEventListener("abort",Ne)});we.set(fe,_e)}(fe),((fe,_e)=>_e.some(ce=>fe instanceof ce))(fe,function be(){return U||(U=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(fe,Re):fe)}function Se(fe){if(fe instanceof IDBRequest)return function te(fe){const _e=new Promise((ce,ee)=>{const se=()=>{fe.removeEventListener("success",Me),fe.removeEventListener("error",Ne)},Me=()=>{ce(Se(fe.result)),se()},Ne=()=>{ee(fe.error),se()};fe.addEventListener("success",Me),fe.addEventListener("error",Ne)});return _e.then(ce=>{ce instanceof IDBCursor&&ge.set(ce,fe)}).catch(()=>{}),X.set(_e,fe),_e}(fe);if(Q.has(fe))return Q.get(fe);const _e=le(fe);return _e!==fe&&(Q.set(fe,_e),X.set(_e,fe)),_e}const Ae=fe=>X.get(fe);function z(fe,_e,{blocked:ce,upgrade:ee,blocking:se,terminated:Me}={}){const Ne=indexedDB.open(fe,_e),mt=Se(Ne);return ee&&Ne.addEventListener("upgradeneeded",At=>{ee(Se(Ne.result),At.oldVersion,At.newVersion,Se(Ne.transaction))}),ce&&Ne.addEventListener("blocked",()=>ce()),mt.then(At=>{Me&&At.addEventListener("close",()=>Me()),se&&At.addEventListener("versionchange",()=>se())}).catch(()=>{}),mt}function et(fe,{blocked:_e}={}){const ce=indexedDB.deleteDatabase(fe);return _e&&ce.addEventListener("blocked",()=>_e()),Se(ce).then(()=>{})}const Ge=["get","getKey","getAll","getAllKeys","count"],lt=["put","add","delete","clear"],ke=new Map;function ot(fe,_e){if(!(fe instanceof IDBDatabase)||_e in fe||"string"!=typeof _e)return;if(ke.get(_e))return ke.get(_e);const ce=_e.replace(/FromIndex$/,""),ee=_e!==ce,se=lt.includes(ce);if(!(ce in(ee?IDBIndex:IDBObjectStore).prototype)||!se&&!Ge.includes(ce))return;const Me=function(){var Ne=(0,l.Z)(function*(mt,...At){const tt=this.transaction(mt,se?"readwrite":"readonly");let ct=tt.store;return ee&&(ct=ct.index(At.shift())),(yield Promise.all([ct[ce](...At),se&&tt.done]))[0]});return function(At){return Ne.apply(this,arguments)}}();return ke.set(_e,Me),Me}!function Ke(fe){Re=fe(Re)}(fe=>({...fe,get:(_e,ce,ee)=>ot(_e,ce)||fe.get(_e,ce,ee),has:(_e,ce)=>!!ot(_e,ce)||fe.has(_e,ce)}))},5861:(zt,st,k)=>{"use strict";function l(U,Ie,be,re,ge,we,ae){try{var Q=U[we](ae),X=Q.value}catch(te){return void be(te)}Q.done?Ie(X):Promise.resolve(X).then(re,ge)}function L(U){return function(){var Ie=this,be=arguments;return new Promise(function(re,ge){var we=U.apply(Ie,be);function ae(X){l(we,re,ge,ae,Q,"next",X)}function Q(X){l(we,re,ge,ae,Q,"throw",X)}ae(void 0)})}}k.d(st,{Z:()=>L})}},zt=>{zt(zt.s=2513)}]);